(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PPeerRecord = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var Libp2PPeerRecord=(()=>{var Tc=Object.create;var dn=Object.defineProperty;var Ic=Object.getOwnPropertyDescriptor;var _c=Object.getOwnPropertyNames;var Rc=Object.getPrototypeOf,Nc=Object.prototype.hasOwnProperty;var P=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),St=(t,e)=>{for(var r in e)dn(t,r,{get:e[r],enumerable:!0})},as=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _c(e))!Nc.call(t,i)&&i!==r&&dn(t,i,{get:()=>e[i],enumerable:!(n=Ic(e,i))||n.enumerable});return t};var M=(t,e,r)=>(r=t!=null?Tc(Rc(t)):{},as(e||!t||!t.__esModule?dn(r,"default",{value:t,enumerable:!0}):r,t)),Dc=t=>as(dn({},"__esModule",{value:!0}),t);var Rt=P((Ey,os)=>{"use strict";function ss(t,e){for(let r in e)Object.defineProperty(t,r,{value:e[r],enumerable:!0,configurable:!0});return t}function Lc(t,e,r){if(!t||typeof t=="string")throw new TypeError("Please pass an Error to err-code");r||(r={}),typeof e=="object"&&(r=e,e=""),e&&(r.code=e);try{return ss(t,r)}catch{r.message=t.message,r.stack=t.stack;let i=function(){};return i.prototype=Object.create(Object.getPrototypeOf(t)),ss(new i,r)}}os.exports=Lc});var _s=P((d1,Is)=>{"use strict";Is.exports=Mu;function Mu(t,e){for(var r=new Array(arguments.length-1),n=0,i=2,a=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise(function(o,c){r[n]=function(u){if(a)if(a=!1,u)c(u);else{for(var h=new Array(arguments.length-1),l=0;l<h.length;)h[l++]=arguments[l];o.apply(null,h)}};try{t.apply(e||null,r)}catch(f){a&&(a=!1,c(f))}})}});var Ls=P(Ds=>{"use strict";var xn=Ds;xn.length=function(e){var r=e.length;if(!r)return 0;for(var n=0;--r%4>1&&e.charAt(r)==="=";)++n;return Math.ceil(e.length*3)/4-n};var fr=new Array(64),Ns=new Array(123);for(Ht=0;Ht<64;)Ns[fr[Ht]=Ht<26?Ht+65:Ht<52?Ht+71:Ht<62?Ht-4:Ht-59|43]=Ht++;var Ht;xn.encode=function(e,r,n){for(var i=null,a=[],s=0,o=0,c;r<n;){var f=e[r++];switch(o){case 0:a[s++]=fr[f>>2],c=(f&3)<<4,o=1;break;case 1:a[s++]=fr[c|f>>4],c=(f&15)<<2,o=2;break;case 2:a[s++]=fr[c|f>>6],a[s++]=fr[f&63],o=0;break}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return o&&(a[s++]=fr[c],a[s++]=61,o===1&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var Rs="invalid encoding";xn.decode=function(e,r,n){for(var i=n,a=0,s,o=0;o<e.length;){var c=e.charCodeAt(o++);if(c===61&&a>1)break;if((c=Ns[c])===void 0)throw Error(Rs);switch(a){case 0:s=c,a=1;break;case 1:r[n++]=s<<2|(c&48)>>4,s=c,a=2;break;case 2:r[n++]=(s&15)<<4|(c&60)>>2,s=c,a=3;break;case 3:r[n++]=(s&3)<<6|c,a=0;break}}if(a===1)throw Error(Rs);return n-i};xn.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var Ps=P((g1,ks)=>{"use strict";ks.exports=vn;function vn(){this._listeners={}}vn.prototype.on=function(e,r,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:r,ctx:n||this}),this};vn.prototype.off=function(e,r){if(e===void 0)this._listeners={};else if(r===void 0)this._listeners[e]=[];else for(var n=this._listeners[e],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this};vn.prototype.emit=function(e){var r=this._listeners[e];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}});var qs=P((m1,Vs)=>{"use strict";Vs.exports=Us(Us);function Us(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),n=r[3]===128;function i(c,f,u){e[0]=c,f[u]=r[0],f[u+1]=r[1],f[u+2]=r[2],f[u+3]=r[3]}function a(c,f,u){e[0]=c,f[u]=r[3],f[u+1]=r[2],f[u+2]=r[1],f[u+3]=r[0]}t.writeFloatLE=n?i:a,t.writeFloatBE=n?a:i;function s(c,f){return r[0]=c[f],r[1]=c[f+1],r[2]=c[f+2],r[3]=c[f+3],e[0]}function o(c,f){return r[3]=c[f],r[2]=c[f+1],r[1]=c[f+2],r[0]=c[f+3],e[0]}t.readFloatLE=n?s:o,t.readFloatBE=n?o:s}():function(){function e(n,i,a,s){var o=i<0?1:0;if(o&&(i=-i),i===0)n(1/i>0?0:2147483648,a,s);else if(isNaN(i))n(2143289344,a,s);else if(i>34028234663852886e22)n((o<<31|2139095040)>>>0,a,s);else if(i<11754943508222875e-54)n((o<<31|Math.round(i/1401298464324817e-60))>>>0,a,s);else{var c=Math.floor(Math.log(i)/Math.LN2),f=Math.round(i*Math.pow(2,-c)*8388608)&8388607;n((o<<31|c+127<<23|f)>>>0,a,s)}}t.writeFloatLE=e.bind(null,Ks),t.writeFloatBE=e.bind(null,Os);function r(n,i,a){var s=n(i,a),o=(s>>31)*2+1,c=s>>>23&255,f=s&8388607;return c===255?f?NaN:o*(1/0):c===0?o*1401298464324817e-60*f:o*Math.pow(2,c-150)*(f+8388608)}t.readFloatLE=r.bind(null,Ms),t.readFloatBE=r.bind(null,Fs)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),n=r[7]===128;function i(c,f,u){e[0]=c,f[u]=r[0],f[u+1]=r[1],f[u+2]=r[2],f[u+3]=r[3],f[u+4]=r[4],f[u+5]=r[5],f[u+6]=r[6],f[u+7]=r[7]}function a(c,f,u){e[0]=c,f[u]=r[7],f[u+1]=r[6],f[u+2]=r[5],f[u+3]=r[4],f[u+4]=r[3],f[u+5]=r[2],f[u+6]=r[1],f[u+7]=r[0]}t.writeDoubleLE=n?i:a,t.writeDoubleBE=n?a:i;function s(c,f){return r[0]=c[f],r[1]=c[f+1],r[2]=c[f+2],r[3]=c[f+3],r[4]=c[f+4],r[5]=c[f+5],r[6]=c[f+6],r[7]=c[f+7],e[0]}function o(c,f){return r[7]=c[f],r[6]=c[f+1],r[5]=c[f+2],r[4]=c[f+3],r[3]=c[f+4],r[2]=c[f+5],r[1]=c[f+6],r[0]=c[f+7],e[0]}t.readDoubleLE=n?s:o,t.readDoubleBE=n?o:s}():function(){function e(n,i,a,s,o,c){var f=s<0?1:0;if(f&&(s=-s),s===0)n(0,o,c+i),n(1/s>0?0:2147483648,o,c+a);else if(isNaN(s))n(0,o,c+i),n(2146959360,o,c+a);else if(s>17976931348623157e292)n(0,o,c+i),n((f<<31|2146435072)>>>0,o,c+a);else{var u;if(s<22250738585072014e-324)u=s/5e-324,n(u>>>0,o,c+i),n((f<<31|u/4294967296)>>>0,o,c+a);else{var h=Math.floor(Math.log(s)/Math.LN2);h===1024&&(h=1023),u=s*Math.pow(2,-h),n(u*4503599627370496>>>0,o,c+i),n((f<<31|h+1023<<20|u*1048576&1048575)>>>0,o,c+a)}}}t.writeDoubleLE=e.bind(null,Ks,0,4),t.writeDoubleBE=e.bind(null,Os,4,0);function r(n,i,a,s,o){var c=n(s,o+i),f=n(s,o+a),u=(f>>31)*2+1,h=f>>>20&2047,l=4294967296*(f&1048575)+c;return h===2047?l?NaN:u*(1/0):h===0?u*5e-324*l:u*Math.pow(2,h-1075)*(l+4503599627370496)}t.readDoubleLE=r.bind(null,Ms,0,4),t.readDoubleBE=r.bind(null,Fs,4,0)}(),t}function Ks(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function Os(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function Ms(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function Fs(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}});var zs=P((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}});var Gs=P(Hs=>{"use strict";var Ni=Hs;Ni.length=function(e){for(var r=0,n=0,i=0;i<e.length;++i)n=e.charCodeAt(i),n<128?r+=1:n<2048?r+=2:(n&64512)===55296&&(e.charCodeAt(i+1)&64512)===56320?(++i,r+=4):r+=3;return r};Ni.read=function(e,r,n){var i=n-r;if(i<1)return"";for(var a=null,s=[],o=0,c;r<n;)c=e[r++],c<128?s[o++]=c:c>191&&c<224?s[o++]=(c&31)<<6|e[r++]&63:c>239&&c<365?(c=((c&7)<<18|(e[r++]&63)<<12|(e[r++]&63)<<6|e[r++]&63)-65536,s[o++]=55296+(c>>10),s[o++]=56320+(c&1023)):s[o++]=(c&15)<<12|(e[r++]&63)<<6|e[r++]&63,o>8191&&((a||(a=[])).push(String.fromCharCode.apply(String,s)),o=0);return a?(o&&a.push(String.fromCharCode.apply(String,s.slice(0,o))),a.join("")):String.fromCharCode.apply(String,s.slice(0,o))};Ni.write=function(e,r,n){for(var i=n,a,s,o=0;o<e.length;++o)a=e.charCodeAt(o),a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=a&63|128):(a&64512)===55296&&((s=e.charCodeAt(o+1))&64512)===56320?(a=65536+((a&1023)<<10)+(s&1023),++o,r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=a&63|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=a&63|128);return n-i}});var $s=P((v1,Ws)=>{"use strict";Ws.exports=Fu;function Fu(t,e,r){var n=r||8192,i=n>>>1,a=null,s=n;return function(c){if(c<1||c>i)return t(c);s+c>n&&(a=t(n),s=0);var f=e.call(a,s,s+=c);return s&7&&(s=(s|7)+1),f}}});var Ys=P((b1,Zs)=>{"use strict";Zs.exports=mt;var Ur=He();function mt(t,e){this.lo=t>>>0,this.hi=e>>>0}var ze=mt.zero=new mt(0,0);ze.toNumber=function(){return 0};ze.zzEncode=ze.zzDecode=function(){return this};ze.length=function(){return 1};var Vu=mt.zeroHash="\0\0\0\0\0\0\0\0";mt.fromNumber=function(e){if(e===0)return ze;var r=e<0;r&&(e=-e);var n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new mt(n,i)};mt.from=function(e){if(typeof e=="number")return mt.fromNumber(e);if(Ur.isString(e))if(Ur.Long)e=Ur.Long.fromString(e);else return mt.fromNumber(parseInt(e,10));return e.low||e.high?new mt(e.low>>>0,e.high>>>0):ze};mt.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,n=~this.hi>>>0;return r||(n=n+1>>>0),-(r+n*4294967296)}return this.lo+this.hi*4294967296};mt.prototype.toLong=function(e){return Ur.Long?new Ur.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var Ie=String.prototype.charCodeAt;mt.fromHash=function(e){return e===Vu?ze:new mt((Ie.call(e,0)|Ie.call(e,1)<<8|Ie.call(e,2)<<16|Ie.call(e,3)<<24)>>>0,(Ie.call(e,4)|Ie.call(e,5)<<8|Ie.call(e,6)<<16|Ie.call(e,7)<<24)>>>0)};mt.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};mt.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};mt.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};mt.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}});var He=P(Di=>{"use strict";var N=Di;N.asPromise=_s();N.base64=Ls();N.EventEmitter=Ps();N.float=qs();N.inquire=zs();N.utf8=Gs();N.pool=$s();N.LongBits=Ys();N.isNode=Boolean(typeof globalThis<"u"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);N.global=N.isNode&&globalThis||typeof window<"u"&&window||typeof self<"u"&&self||Di;N.emptyArray=Object.freeze?Object.freeze([]):[];N.emptyObject=Object.freeze?Object.freeze({}):{};N.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};N.isString=function(e){return typeof e=="string"||e instanceof String};N.isObject=function(e){return e&&typeof e=="object"};N.isset=N.isSet=function(e,r){var n=e[r];return n!=null&&e.hasOwnProperty(r)?typeof n!="object"||(Array.isArray(n)?n.length:Object.keys(n).length)>0:!1};N.Buffer=function(){try{var t=N.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch{return null}}();N._Buffer_from=null;N._Buffer_allocUnsafe=null;N.newBuffer=function(e){return typeof e=="number"?N.Buffer?N._Buffer_allocUnsafe(e):new N.Array(e):N.Buffer?N._Buffer_from(e):typeof Uint8Array>"u"?e:new Uint8Array(e)};N.Array=typeof Uint8Array<"u"?Uint8Array:Array;N.Long=N.global.dcodeIO&&N.global.dcodeIO.Long||N.global.Long||N.inquire("long");N.key2Re=/^true|false|0|1$/;N.key32Re=/^-?(?:0|[1-9][0-9]*)$/;N.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;N.longToHash=function(e){return e?N.LongBits.from(e).toHash():N.LongBits.zeroHash};N.longFromHash=function(e,r){var n=N.LongBits.fromHash(e);return N.Long?N.Long.fromBits(n.lo,n.hi,r):n.toNumber(Boolean(r))};function Qs(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;++i)(t[n[i]]===void 0||!r)&&(t[n[i]]=e[n[i]]);return t}N.merge=Qs;N.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function Xs(t){function e(r,n){if(!(this instanceof e))return new e(r,n);Object.defineProperty(this,"message",{get:function(){return r}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),n&&Qs(this,n)}return e.prototype=Object.create(Error.prototype,{constructor:{value:e,writable:!0,enumerable:!1,configurable:!0},name:{get(){return t},set:void 0,enumerable:!1,configurable:!0},toString:{value(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),e}N.newError=Xs;N.ProtocolError=Xs("ProtocolError");N.oneOfGetter=function(e){for(var r={},n=0;n<e.length;++n)r[e[n]]=1;return function(){for(var i=Object.keys(this),a=i.length-1;a>-1;--a)if(r[i[a]]===1&&this[i[a]]!==void 0&&this[i[a]]!==null)return i[a]}};N.oneOfSetter=function(e){return function(r){for(var n=0;n<e.length;++n)e[n]!==r&&delete this[e[n]]}};N.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};N._configure=function(){var t=N.Buffer;if(!t){N._Buffer_from=N._Buffer_allocUnsafe=null;return}N._Buffer_from=t.from!==Uint8Array.from&&t.from||function(r,n){return new t(r,n)},N._Buffer_allocUnsafe=t.allocUnsafe||function(r){return new t(r)}}});var Pi=P((E1,ro)=>{"use strict";ro.exports=ut;var Jt=He(),ki,to=Jt.LongBits,qu=Jt.utf8;function Gt(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function ut(t){this.buf=t,this.pos=0,this.len=t.length}var Js=typeof Uint8Array<"u"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ut(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ut(e);throw Error("illegal buffer")},eo=function(){return Jt.Buffer?function(r){return(ut.create=function(i){return Jt.Buffer.isBuffer(i)?new ki(i):Js(i)})(r)}:Js};ut.create=eo();ut.prototype._slice=Jt.Array.prototype.subarray||Jt.Array.prototype.slice;ut.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Gt(this,10);return e}}();ut.prototype.int32=function(){return this.uint32()|0};ut.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function Li(){var t=new to(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Gt(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw Gt(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}ut.prototype.bool=function(){return this.uint32()!==0};function bn(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}ut.prototype.fixed32=function(){if(this.pos+4>this.len)throw Gt(this,4);return bn(this.buf,this.pos+=4)};ut.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Gt(this,4);return bn(this.buf,this.pos+=4)|0};function js(){if(this.pos+8>this.len)throw Gt(this,8);return new to(bn(this.buf,this.pos+=4),bn(this.buf,this.pos+=4))}ut.prototype.float=function(){if(this.pos+4>this.len)throw Gt(this,4);var e=Jt.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ut.prototype.double=function(){if(this.pos+8>this.len)throw Gt(this,4);var e=Jt.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ut.prototype.bytes=function(){var e=this.uint32(),r=this.pos,n=this.pos+e;if(n>this.len)throw Gt(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this._slice.call(this.buf,r,n)};ut.prototype.string=function(){var e=this.bytes();return qu.read(e,0,e.length)};ut.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Gt(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Gt(this);while(this.buf[this.pos++]&128);return this};ut.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};ut._configure=function(t){ki=t,ut.create=eo(),ki._configure();var e=Jt.Long?"toLong":"toNumber";Jt.merge(ut.prototype,{int64:function(){return Li.call(this)[e](!1)},uint64:function(){return Li.call(this)[e](!0)},sint64:function(){return Li.call(this).zzDecode()[e](!1)},fixed64:function(){return js.call(this)[e](!0)},sfixed64:function(){return js.call(this)[e](!1)}})}});var so=P((S1,ao)=>{"use strict";ao.exports=Ge;var io=Pi();(Ge.prototype=Object.create(io.prototype)).constructor=Ge;var no=He();function Ge(t){io.call(this,t)}Ge._configure=function(){no.Buffer&&(Ge.prototype._slice=no.Buffer.prototype.slice)};Ge.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};Ge._configure()});var qi=P((B1,uo)=>{"use strict";uo.exports=G;var Ot=He(),Ui,wn=Ot.LongBits,oo=Ot.base64,fo=Ot.utf8;function Kr(t,e,r){this.fn=t,this.len=e,this.next=void 0,this.val=r}function Oi(){}function zu(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function G(){this.len=0,this.head=new Kr(Oi,0,0),this.tail=this.head,this.states=null}var co=function(){return Ot.Buffer?function(){return(G.create=function(){return new Ui})()}:function(){return new G}};G.create=co();G.alloc=function(e){return new Ot.Array(e)};Ot.Array!==Array&&(G.alloc=Ot.pool(G.alloc,Ot.Array.prototype.subarray));G.prototype._push=function(e,r,n){return this.tail=this.tail.next=new Kr(e,r,n),this.len+=r,this};function Mi(t,e,r){e[r]=t&255}function Hu(t,e,r){for(;t>127;)e[r++]=t&127|128,t>>>=7;e[r]=t}function Fi(t,e){this.len=t,this.next=void 0,this.val=e}Fi.prototype=Object.create(Kr.prototype);Fi.prototype.fn=Hu;G.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new Fi((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};G.prototype.int32=function(e){return e<0?this._push(Vi,10,wn.fromNumber(e)):this.uint32(e)};G.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function Vi(t,e,r){for(;t.hi;)e[r++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[r++]=t.lo&127|128,t.lo=t.lo>>>7;e[r++]=t.lo}G.prototype.uint64=function(e){var r=wn.from(e);return this._push(Vi,r.length(),r)};G.prototype.int64=G.prototype.uint64;G.prototype.sint64=function(e){var r=wn.from(e).zzEncode();return this._push(Vi,r.length(),r)};G.prototype.bool=function(e){return this._push(Mi,1,e?1:0)};function Ki(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}G.prototype.fixed32=function(e){return this._push(Ki,4,e>>>0)};G.prototype.sfixed32=G.prototype.fixed32;G.prototype.fixed64=function(e){var r=wn.from(e);return this._push(Ki,4,r.lo)._push(Ki,4,r.hi)};G.prototype.sfixed64=G.prototype.fixed64;G.prototype.float=function(e){return this._push(Ot.float.writeFloatLE,4,e)};G.prototype.double=function(e){return this._push(Ot.float.writeDoubleLE,8,e)};var Gu=Ot.Array.prototype.set?function(e,r,n){r.set(e,n)}:function(e,r,n){for(var i=0;i<e.length;++i)r[n+i]=e[i]};G.prototype.bytes=function(e){var r=e.length>>>0;if(!r)return this._push(Mi,1,0);if(Ot.isString(e)){var n=G.alloc(r=oo.length(e));oo.decode(e,n,0),e=n}return this.uint32(r)._push(Gu,r,e)};G.prototype.string=function(e){var r=fo.length(e);return r?this.uint32(r)._push(fo.write,r,e):this._push(Mi,1,0)};G.prototype.fork=function(){return this.states=new zu(this),this.head=this.tail=new Kr(Oi,0,0),this.len=0,this};G.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Kr(Oi,0,0),this.len=0),this};G.prototype.ldelim=function(){var e=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=r,this.len+=n),this};G.prototype.finish=function(){for(var e=this.head.next,r=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,r,n),n+=e.len,e=e.next;return r};G._configure=function(t){Ui=t,G.create=co(),Ui._configure()}});var po=P((A1,lo)=>{"use strict";lo.exports=jt;var ho=qi();(jt.prototype=Object.create(ho.prototype)).constructor=jt;var _e=He();function jt(){ho.call(this)}jt._configure=function(){jt.alloc=_e._Buffer_allocUnsafe,jt.writeBytesBuffer=_e.Buffer&&_e.Buffer.prototype instanceof Uint8Array&&_e.Buffer.prototype.set.name==="set"?function(e,r,n){r.set(e,n)}:function(e,r,n){if(e.copy)e.copy(r,n,0,e.length);else for(var i=0;i<e.length;)r[n++]=e[i++]}};jt.prototype.bytes=function(e){_e.isString(e)&&(e=_e._Buffer_from(e,"base64"));var r=e.length>>>0;return this.uint32(r),r&&this._push(jt.writeBytesBuffer,r,e),this};function Wu(t,e,r){t.length<40?_e.utf8.write(t,e,r):e.utf8Write?e.utf8Write(t,r):e.write(t,r)}jt.prototype.string=function(e){var r=_e.Buffer.byteLength(e);return this.uint32(r),r&&this._push(Wu,r,e),this};jt._configure()});var X=P((z1,vo)=>{vo.exports={options:{usePureJavaScript:!1}}});var Eo=P((H1,wo)=>{var Yi={};wo.exports=Yi;var bo={};Yi.encode=function(t,e,r){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(r!==void 0&&typeof r!="number")throw new TypeError('"maxline" must be a number.');var n="";if(!(t instanceof Uint8Array))n=Qu(t,e);else{var i=0,a=e.length,s=e.charAt(0),o=[0];for(i=0;i<t.length;++i){for(var c=0,f=t[i];c<o.length;++c)f+=o[c]<<8,o[c]=f%a,f=f/a|0;for(;f>0;)o.push(f%a),f=f/a|0}for(i=0;t[i]===0&&i<t.length-1;++i)n+=s;for(i=o.length-1;i>=0;--i)n+=e[o[i]]}if(r){var u=new RegExp(".{1,"+r+"}","g");n=n.match(u).join(`\r
`)}return n};Yi.decode=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var r=bo[e];if(!r){r=bo[e]=[];for(var n=0;n<e.length;++n)r[e.charCodeAt(n)]=n}t=t.replace(/\s/g,"");for(var i=e.length,a=e.charAt(0),s=[0],n=0;n<t.length;n++){var o=r[t.charCodeAt(n)];if(o===void 0)return;for(var c=0,f=o;c<s.length;++c)f+=s[c]*i,s[c]=f&255,f>>=8;for(;f>0;)s.push(f&255),f>>=8}for(var u=0;t[u]===a&&u<t.length-1;++u)s.push(0);return typeof Buffer<"u"?Buffer.from(s.reverse()):new Uint8Array(s.reverse())};function Qu(t,e){var r=0,n=e.length,i=e.charAt(0),a=[0];for(r=0;r<t.length();++r){for(var s=0,o=t.at(r);s<a.length;++s)o+=a[s]<<8,a[s]=o%n,o=o/n|0;for(;o>0;)a.push(o%n),o=o/n|0}var c="";for(r=0;t.at(r)===0&&r<t.length()-1;++r)c+=i;for(r=a.length-1;r>=0;--r)c+=e[a[r]];return c}});var lt=P((G1,Co)=>{var So=X(),Bo=Eo(),y=Co.exports=So.util=So.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){y.nextTick=process.nextTick,typeof setImmediate=="function"?y.setImmediate=setImmediate:y.setImmediate=y.nextTick;return}if(typeof setImmediate=="function"){y.setImmediate=function(){return setImmediate.apply(void 0,arguments)},y.nextTick=function(o){return setImmediate(o)};return}if(y.setImmediate=function(o){setTimeout(o,0)},typeof window<"u"&&typeof window.postMessage=="function"){let o=function(c){if(c.source===window&&c.data===t){c.stopPropagation();var f=e.slice();e.length=0,f.forEach(function(u){u()})}};var s=o,t="forge.setImmediate",e=[];y.setImmediate=function(c){e.push(c),e.length===1&&window.postMessage(t,"*")},window.addEventListener("message",o,!0)}if(typeof MutationObserver<"u"){var r=Date.now(),n=!0,i=document.createElement("div"),e=[];new MutationObserver(function(){var c=e.slice();e.length=0,c.forEach(function(f){f()})}).observe(i,{attributes:!0});var a=y.setImmediate;y.setImmediate=function(c){Date.now()-r>15?(r=Date.now(),a(c)):(e.push(c),e.length===1&&i.setAttribute("a",n=!n))}}y.nextTick=y.setImmediate})();y.isNodejs=typeof process<"u"&&process.versions&&process.versions.node;y.globalScope=function(){return y.isNodejs?globalThis:typeof self>"u"?window:self}();y.isArray=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};y.isArrayBuffer=function(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer};y.isArrayBufferView=function(t){return t&&y.isArrayBuffer(t.buffer)&&t.byteLength!==void 0};function Or(t){if(!(t===8||t===16||t===24||t===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+t)}y.ByteBuffer=Qi;function Qi(t){if(this.data="",this.read=0,typeof t=="string")this.data=t;else if(y.isArrayBuffer(t)||y.isArrayBufferView(t))if(typeof Buffer<"u"&&t instanceof Buffer)this.data=t.toString("binary");else{var e=new Uint8Array(t);try{this.data=String.fromCharCode.apply(null,e)}catch{for(var r=0;r<e.length;++r)this.putByte(e[r])}}else(t instanceof Qi||typeof t=="object"&&typeof t.data=="string"&&typeof t.read=="number")&&(this.data=t.data,this.read=t.read);this._constructedStringLength=0}y.ByteStringBuffer=Qi;var Xu=4096;y.ByteStringBuffer.prototype._optimizeConstructedString=function(t){this._constructedStringLength+=t,this._constructedStringLength>Xu&&(this.data.substr(0,1),this._constructedStringLength=0)};y.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};y.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};y.ByteStringBuffer.prototype.putByte=function(t){return this.putBytes(String.fromCharCode(t))};y.ByteStringBuffer.prototype.fillWithByte=function(t,e){t=String.fromCharCode(t);for(var r=this.data;e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return this.data=r,this._optimizeConstructedString(e),this};y.ByteStringBuffer.prototype.putBytes=function(t){return this.data+=t,this._optimizeConstructedString(t.length),this};y.ByteStringBuffer.prototype.putString=function(t){return this.putBytes(y.encodeUtf8(t))};y.ByteStringBuffer.prototype.putInt16=function(t){return this.putBytes(String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};y.ByteStringBuffer.prototype.putInt24=function(t){return this.putBytes(String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};y.ByteStringBuffer.prototype.putInt32=function(t){return this.putBytes(String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255))};y.ByteStringBuffer.prototype.putInt16Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255))};y.ByteStringBuffer.prototype.putInt24Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255))};y.ByteStringBuffer.prototype.putInt32Le=function(t){return this.putBytes(String.fromCharCode(t&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>24&255))};y.ByteStringBuffer.prototype.putInt=function(t,e){Or(e);var r="";do e-=8,r+=String.fromCharCode(t>>e&255);while(e>0);return this.putBytes(r)};y.ByteStringBuffer.prototype.putSignedInt=function(t,e){return t<0&&(t+=2<<e-1),this.putInt(t,e)};y.ByteStringBuffer.prototype.putBuffer=function(t){return this.putBytes(t.getBytes())};y.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};y.ByteStringBuffer.prototype.getInt16=function(){var t=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,t};y.ByteStringBuffer.prototype.getInt24=function(){var t=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,t};y.ByteStringBuffer.prototype.getInt32=function(){var t=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,t};y.ByteStringBuffer.prototype.getInt16Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,t};y.ByteStringBuffer.prototype.getInt24Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,t};y.ByteStringBuffer.prototype.getInt32Le=function(){var t=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,t};y.ByteStringBuffer.prototype.getInt=function(t){Or(t);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),t-=8;while(t>0);return e};y.ByteStringBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};y.ByteStringBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};y.ByteStringBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};y.ByteStringBuffer.prototype.at=function(t){return this.data.charCodeAt(this.read+t)};y.ByteStringBuffer.prototype.setAt=function(t,e){return this.data=this.data.substr(0,this.read+t)+String.fromCharCode(e)+this.data.substr(this.read+t+1),this};y.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};y.ByteStringBuffer.prototype.copy=function(){var t=y.createBuffer(this.data);return t.read=this.read,t};y.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};y.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};y.ByteStringBuffer.prototype.truncate=function(t){var e=Math.max(0,this.length()-t);return this.data=this.data.substr(this.read,e),this.read=0,this};y.ByteStringBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.length;++e){var r=this.data.charCodeAt(e);r<16&&(t+="0"),t+=r.toString(16)}return t};y.ByteStringBuffer.prototype.toString=function(){return y.decodeUtf8(this.bytes())};function Ju(t,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var r=y.isArrayBuffer(t),n=y.isArrayBufferView(t);if(r||n){r?this.data=new DataView(t):this.data=new DataView(t.buffer,t.byteOffset,t.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,t!=null&&this.putBytes(t),"writeOffset"in e&&(this.write=e.writeOffset)}y.DataBuffer=Ju;y.DataBuffer.prototype.length=function(){return this.write-this.read};y.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};y.DataBuffer.prototype.accommodate=function(t,e){if(this.length()>=t)return this;e=Math.max(e||this.growSize,t);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+e);return n.set(r),this.data=new DataView(n.buffer),this};y.DataBuffer.prototype.putByte=function(t){return this.accommodate(1),this.data.setUint8(this.write++,t),this};y.DataBuffer.prototype.fillWithByte=function(t,e){this.accommodate(e);for(var r=0;r<e;++r)this.data.setUint8(t);return this};y.DataBuffer.prototype.putBytes=function(t,e){if(y.isArrayBufferView(t)){var r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength),n=r.byteLength-r.byteOffset;this.accommodate(n);var i=new Uint8Array(this.data.buffer,this.write);return i.set(r),this.write+=n,this}if(y.isArrayBuffer(t)){var r=new Uint8Array(t);this.accommodate(r.byteLength);var i=new Uint8Array(this.data.buffer);return i.set(r,this.write),this.write+=r.byteLength,this}if(t instanceof y.DataBuffer||typeof t=="object"&&typeof t.read=="number"&&typeof t.write=="number"&&y.isArrayBufferView(t.data)){var r=new Uint8Array(t.data.byteLength,t.read,t.length());this.accommodate(r.byteLength);var i=new Uint8Array(t.data.byteLength,this.write);return i.set(r),this.write+=r.byteLength,this}if(t instanceof y.ByteStringBuffer&&(t=t.data,e="binary"),e=e||"binary",typeof t=="string"){var a;if(e==="hex")return this.accommodate(Math.ceil(t.length/2)),a=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.hex.decode(t,a,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(t.length/4)*3),a=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.base64.decode(t,a,this.write),this;if(e==="utf8"&&(t=y.encodeUtf8(t),e="binary"),e==="binary"||e==="raw")return this.accommodate(t.length),a=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.raw.decode(a),this;if(e==="utf16")return this.accommodate(t.length*2),a=new Uint16Array(this.data.buffer,this.write),this.write+=y.text.utf16.encode(a),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+t)};y.DataBuffer.prototype.putBuffer=function(t){return this.putBytes(t),t.clear(),this};y.DataBuffer.prototype.putString=function(t){return this.putBytes(t,"utf16")};y.DataBuffer.prototype.putInt16=function(t){return this.accommodate(2),this.data.setInt16(this.write,t),this.write+=2,this};y.DataBuffer.prototype.putInt24=function(t){return this.accommodate(3),this.data.setInt16(this.write,t>>8&65535),this.data.setInt8(this.write,t>>16&255),this.write+=3,this};y.DataBuffer.prototype.putInt32=function(t){return this.accommodate(4),this.data.setInt32(this.write,t),this.write+=4,this};y.DataBuffer.prototype.putInt16Le=function(t){return this.accommodate(2),this.data.setInt16(this.write,t,!0),this.write+=2,this};y.DataBuffer.prototype.putInt24Le=function(t){return this.accommodate(3),this.data.setInt8(this.write,t>>16&255),this.data.setInt16(this.write,t>>8&65535,!0),this.write+=3,this};y.DataBuffer.prototype.putInt32Le=function(t){return this.accommodate(4),this.data.setInt32(this.write,t,!0),this.write+=4,this};y.DataBuffer.prototype.putInt=function(t,e){Or(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,t>>e&255);while(e>0);return this};y.DataBuffer.prototype.putSignedInt=function(t,e){return Or(e),this.accommodate(e/8),t<0&&(t+=2<<e-1),this.putInt(t,e)};y.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};y.DataBuffer.prototype.getInt16=function(){var t=this.data.getInt16(this.read);return this.read+=2,t};y.DataBuffer.prototype.getInt24=function(){var t=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,t};y.DataBuffer.prototype.getInt32=function(){var t=this.data.getInt32(this.read);return this.read+=4,t};y.DataBuffer.prototype.getInt16Le=function(){var t=this.data.getInt16(this.read,!0);return this.read+=2,t};y.DataBuffer.prototype.getInt24Le=function(){var t=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,t};y.DataBuffer.prototype.getInt32Le=function(){var t=this.data.getInt32(this.read,!0);return this.read+=4,t};y.DataBuffer.prototype.getInt=function(t){Or(t);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),t-=8;while(t>0);return e};y.DataBuffer.prototype.getSignedInt=function(t){var e=this.getInt(t),r=2<<t-2;return e>=r&&(e-=r<<1),e};y.DataBuffer.prototype.getBytes=function(t){var e;return t?(t=Math.min(this.length(),t),e=this.data.slice(this.read,this.read+t),this.read+=t):t===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};y.DataBuffer.prototype.bytes=function(t){return typeof t>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+t)};y.DataBuffer.prototype.at=function(t){return this.data.getUint8(this.read+t)};y.DataBuffer.prototype.setAt=function(t,e){return this.data.setUint8(t,e),this};y.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};y.DataBuffer.prototype.copy=function(){return new y.DataBuffer(this)};y.DataBuffer.prototype.compact=function(){if(this.read>0){var t=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(t.byteLength);e.set(t),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};y.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};y.DataBuffer.prototype.truncate=function(t){return this.write=Math.max(0,this.length()-t),this.read=Math.min(this.read,this.write),this};y.DataBuffer.prototype.toHex=function(){for(var t="",e=this.read;e<this.data.byteLength;++e){var r=this.data.getUint8(e);r<16&&(t+="0"),t+=r.toString(16)}return t};y.DataBuffer.prototype.toString=function(t){var e=new Uint8Array(this.data,this.read,this.length());if(t=t||"utf8",t==="binary"||t==="raw")return y.binary.raw.encode(e);if(t==="hex")return y.binary.hex.encode(e);if(t==="base64")return y.binary.base64.encode(e);if(t==="utf8")return y.text.utf8.decode(e);if(t==="utf16")return y.text.utf16.decode(e);throw new Error("Invalid encoding: "+t)};y.createBuffer=function(t,e){return e=e||"raw",t!==void 0&&e==="utf8"&&(t=y.encodeUtf8(t)),new y.ByteBuffer(t)};y.fillString=function(t,e){for(var r="";e>0;)e&1&&(r+=t),e>>>=1,e>0&&(t+=t);return r};y.xorBytes=function(t,e,r){for(var n="",i="",a="",s=0,o=0;r>0;--r,++s)i=t.charCodeAt(s)^e.charCodeAt(s),o>=10&&(n+=a,a="",o=0),a+=String.fromCharCode(i),++o;return n+=a,n};y.hexToBytes=function(t){var e="",r=0;for(t.length&!0&&(r=1,e+=String.fromCharCode(parseInt(t[0],16)));r<t.length;r+=2)e+=String.fromCharCode(parseInt(t.substr(r,2),16));return e};y.bytesToHex=function(t){return y.createBuffer(t).toHex()};y.int32ToBytes=function(t){return String.fromCharCode(t>>24&255)+String.fromCharCode(t>>16&255)+String.fromCharCode(t>>8&255)+String.fromCharCode(t&255)};var Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ne=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],Ao="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";y.encode64=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.length;)i=t.charCodeAt(o++),a=t.charCodeAt(o++),s=t.charCodeAt(o++),r+=Re.charAt(i>>2),r+=Re.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Re.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Re.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};y.decode64=function(t){t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",r,n,i,a,s=0;s<t.length;)r=Ne[t.charCodeAt(s++)-43],n=Ne[t.charCodeAt(s++)-43],i=Ne[t.charCodeAt(s++)-43],a=Ne[t.charCodeAt(s++)-43],e+=String.fromCharCode(r<<2|n>>4),i!==64&&(e+=String.fromCharCode((n&15)<<4|i>>2),a!==64&&(e+=String.fromCharCode((i&3)<<6|a)));return e};y.encodeUtf8=function(t){return unescape(encodeURIComponent(t))};y.decodeUtf8=function(t){return decodeURIComponent(escape(t))};y.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:Bo.encode,decode:Bo.decode}};y.binary.raw.encode=function(t){return String.fromCharCode.apply(null,t)};y.binary.raw.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};y.binary.hex.encode=y.bytesToHex;y.binary.hex.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/2))),r=r||0;var i=0,a=r;for(t.length&1&&(i=1,n[a++]=parseInt(t[0],16));i<t.length;i+=2)n[a++]=parseInt(t.substr(i,2),16);return e?a-r:n};y.binary.base64.encode=function(t,e){for(var r="",n="",i,a,s,o=0;o<t.byteLength;)i=t[o++],a=t[o++],s=t[o++],r+=Re.charAt(i>>2),r+=Re.charAt((i&3)<<4|a>>4),isNaN(a)?r+="==":(r+=Re.charAt((a&15)<<2|s>>6),r+=isNaN(s)?"=":Re.charAt(s&63)),e&&r.length>e&&(n+=r.substr(0,e)+`\r
`,r=r.substr(e));return n+=r,n};y.binary.base64.decode=function(t,e,r){var n=e;n||(n=new Uint8Array(Math.ceil(t.length/4)*3)),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,""),r=r||0;for(var i,a,s,o,c=0,f=r;c<t.length;)i=Ne[t.charCodeAt(c++)-43],a=Ne[t.charCodeAt(c++)-43],s=Ne[t.charCodeAt(c++)-43],o=Ne[t.charCodeAt(c++)-43],n[f++]=i<<2|a>>4,s!==64&&(n[f++]=(a&15)<<4|s>>2,o!==64&&(n[f++]=(s&3)<<6|o));return e?f-r:n.subarray(0,f)};y.binary.base58.encode=function(t,e){return y.binary.baseN.encode(t,Ao,e)};y.binary.base58.decode=function(t,e){return y.binary.baseN.decode(t,Ao,e)};y.text={utf8:{},utf16:{}};y.text.utf8.encode=function(t,e,r){t=y.encodeUtf8(t);var n=e;n||(n=new Uint8Array(t.length)),r=r||0;for(var i=r,a=0;a<t.length;++a)n[i++]=t.charCodeAt(a);return e?i-r:n};y.text.utf8.decode=function(t){return y.decodeUtf8(String.fromCharCode.apply(null,t))};y.text.utf16.encode=function(t,e,r){var n=e;n||(n=new Uint8Array(t.length*2));var i=new Uint16Array(n.buffer);r=r||0;for(var a=r,s=r,o=0;o<t.length;++o)i[s++]=t.charCodeAt(o),a+=2;return e?a-r:n};y.text.utf16.decode=function(t){return String.fromCharCode.apply(null,new Uint16Array(t.buffer))};y.deflate=function(t,e,r){if(e=y.decode64(t.deflate(y.encode64(e)).rval),r){var n=2,i=e.charCodeAt(1);i&32&&(n=6),e=e.substring(n,e.length-4)}return e};y.inflate=function(t,e,r){var n=t.inflate(y.encode64(e)).rval;return n===null?null:y.decode64(n)};var Xi=function(t,e,r){if(!t)throw new Error("WebStorage not available.");var n;if(r===null?n=t.removeItem(e):(r=y.encode64(JSON.stringify(r)),n=t.setItem(e,r)),typeof n<"u"&&n.rval!==!0){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},Ji=function(t,e){if(!t)throw new Error("WebStorage not available.");var r=t.getItem(e);if(t.init)if(r.rval===null){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return r!==null&&(r=JSON.parse(y.decode64(r))),r},ju=function(t,e,r,n){var i=Ji(t,e);i===null&&(i={}),i[r]=n,Xi(t,e,i)},th=function(t,e,r){var n=Ji(t,e);return n!==null&&(n=r in n?n[r]:null),n},eh=function(t,e,r){var n=Ji(t,e);if(n!==null&&r in n){delete n[r];var i=!0;for(var a in n){i=!1;break}i&&(n=null),Xi(t,e,n)}},rh=function(t,e){Xi(t,e,null)},Bn=function(t,e,r){var n=null;typeof r>"u"&&(r=["web","flash"]);var i,a=!1,s=null;for(var o in r){i=r[o];try{if(i==="flash"||i==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");n=t.apply(this,e),a=i==="flash"}(i==="web"||i==="both")&&(e[0]=localStorage,n=t.apply(this,e),a=!0)}catch(c){s=c}if(a)break}if(!a)throw s;return n};y.setItem=function(t,e,r,n,i){Bn(ju,arguments,i)};y.getItem=function(t,e,r,n){return Bn(th,arguments,n)};y.removeItem=function(t,e,r,n){Bn(eh,arguments,n)};y.clearItems=function(t,e,r){Bn(rh,arguments,r)};y.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0};y.format=function(t){for(var e=/%./g,r,n,i=0,a=[],s=0;r=e.exec(t);){n=t.substring(s,e.lastIndex-2),n.length>0&&a.push(n),s=e.lastIndex;var o=r[0][1];switch(o){case"s":case"o":i<arguments.length?a.push(arguments[i+++1]):a.push("<?>");break;case"%":a.push("%");break;default:a.push("<%"+o+"?>")}}return a.push(t.substring(s)),a.join("")};y.formatNumber=function(t,e,r,n){var i=t,a=isNaN(e=Math.abs(e))?2:e,s=r===void 0?",":r,o=n===void 0?".":n,c=i<0?"-":"",f=parseInt(i=Math.abs(+i||0).toFixed(a),10)+"",u=f.length>3?f.length%3:0;return c+(u?f.substr(0,u)+o:"")+f.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?s+Math.abs(i-f).toFixed(a).slice(2):"")};y.formatSize=function(t){return t>=1073741824?t=y.formatNumber(t/1073741824,2,".","")+" GiB":t>=1048576?t=y.formatNumber(t/1048576,2,".","")+" MiB":t>=1024?t=y.formatNumber(t/1024,0)+" KiB":t=y.formatNumber(t,0)+" bytes",t};y.bytesFromIP=function(t){return t.indexOf(".")!==-1?y.bytesFromIPv4(t):t.indexOf(":")!==-1?y.bytesFromIPv6(t):null};y.bytesFromIPv4=function(t){if(t=t.split("."),t.length!==4)return null;for(var e=y.createBuffer(),r=0;r<t.length;++r){var n=parseInt(t[r],10);if(isNaN(n))return null;e.putByte(n)}return e.getBytes()};y.bytesFromIPv6=function(t){var e=0;t=t.split(":").filter(function(s){return s.length===0&&++e,!0});for(var r=(8-t.length+e)*2,n=y.createBuffer(),i=0;i<8;++i){if(!t[i]||t[i].length===0){n.fillWithByte(0,r),r=0;continue}var a=y.hexToBytes(t[i]);a.length<2&&n.putByte(0),n.putBytes(a)}return n.getBytes()};y.bytesToIP=function(t){return t.length===4?y.bytesToIPv4(t):t.length===16?y.bytesToIPv6(t):null};y.bytesToIPv4=function(t){if(t.length!==4)return null;for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e.join(".")};y.bytesToIPv6=function(t){if(t.length!==16)return null;for(var e=[],r=[],n=0,i=0;i<t.length;i+=2){for(var a=y.bytesToHex(t[i]+t[i+1]);a[0]==="0"&&a!=="0";)a=a.substr(1);if(a==="0"){var s=r[r.length-1],o=e.length;!s||o!==s.end+1?r.push({start:o,end:o}):(s.end=o,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1))}e.push(a)}if(r.length>0){var c=r[n];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),c.start===0&&e.unshift(""),c.end===7&&e.push(""))}return e.join(":")};y.estimateCores=function(t,e){if(typeof t=="function"&&(e=t,t={}),t=t||{},"cores"in y&&!t.update)return e(null,y.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return y.cores=navigator.hardwareConcurrency,e(null,y.cores);if(typeof Worker>"u")return y.cores=1,e(null,y.cores);if(typeof Blob>"u")return y.cores=2,e(null,y.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(s){for(var o=Date.now(),c=o+4;Date.now()<c;);self.postMessage({st:o,et:c})})}.toString(),")()"],{type:"application/javascript"}));n([],5,16);function n(s,o,c){if(o===0){var f=Math.floor(s.reduce(function(u,h){return u+h},0)/s.length);return y.cores=Math.max(1,f),URL.revokeObjectURL(r),e(null,y.cores)}i(c,function(u,h){s.push(a(c,h)),n(s,o-1,c)})}function i(s,o){for(var c=[],f=[],u=0;u<s;++u){var h=new Worker(r);h.addEventListener("message",function(l){if(f.push(l.data),f.length===s){for(var d=0;d<s;++d)c[d].terminate();o(null,f)}}),c.push(h)}for(var u=0;u<s;++u)c[u].postMessage(u)}function a(s,o){for(var c=[],f=0;f<s;++f)for(var u=o[f],h=c[f]=[],l=0;l<s;++l)if(f!==l){var d=o[l];(u.st>d.st&&u.st<d.et||d.st>u.st&&d.st<u.et)&&h.push(l)}return c.reduce(function(p,g){return Math.max(p,g.length)},0)}}});var An=P((W1,To)=>{var Mr=X();Mr.pki=Mr.pki||{};var ji=To.exports=Mr.pki.oids=Mr.oids=Mr.oids||{};function S(t,e){ji[t]=e,ji[e]=t}function Y(t,e){ji[t]=e}S("1.2.840.113549.1.1.1","rsaEncryption");S("1.2.840.113549.1.1.4","md5WithRSAEncryption");S("1.2.840.113549.1.1.5","sha1WithRSAEncryption");S("1.2.840.113549.1.1.7","RSAES-OAEP");S("1.2.840.113549.1.1.8","mgf1");S("1.2.840.113549.1.1.9","pSpecified");S("1.2.840.113549.1.1.10","RSASSA-PSS");S("1.2.840.113549.1.1.11","sha256WithRSAEncryption");S("1.2.840.113549.1.1.12","sha384WithRSAEncryption");S("1.2.840.113549.1.1.13","sha512WithRSAEncryption");S("1.3.101.112","EdDSA25519");S("1.2.840.10040.4.3","dsa-with-sha1");S("1.3.14.3.2.7","desCBC");S("1.3.14.3.2.26","sha1");S("1.3.14.3.2.29","sha1WithRSASignature");S("2.16.840.1.101.3.4.2.1","sha256");S("2.16.840.1.101.3.4.2.2","sha384");S("2.16.840.1.101.3.4.2.3","sha512");S("2.16.840.1.101.3.4.2.4","sha224");S("2.16.840.1.101.3.4.2.5","sha512-224");S("2.16.840.1.101.3.4.2.6","sha512-256");S("1.2.840.113549.2.2","md2");S("1.2.840.113549.2.5","md5");S("1.2.840.113549.1.7.1","data");S("1.2.840.113549.1.7.2","signedData");S("1.2.840.113549.1.7.3","envelopedData");S("1.2.840.113549.1.7.4","signedAndEnvelopedData");S("1.2.840.113549.1.7.5","digestedData");S("1.2.840.113549.1.7.6","encryptedData");S("1.2.840.113549.1.9.1","emailAddress");S("1.2.840.113549.1.9.2","unstructuredName");S("1.2.840.113549.1.9.3","contentType");S("1.2.840.113549.1.9.4","messageDigest");S("1.2.840.113549.1.9.5","signingTime");S("1.2.840.113549.1.9.6","counterSignature");S("1.2.840.113549.1.9.7","challengePassword");S("1.2.840.113549.1.9.8","unstructuredAddress");S("1.2.840.113549.1.9.14","extensionRequest");S("1.2.840.113549.1.9.20","friendlyName");S("1.2.840.113549.1.9.21","localKeyId");S("1.2.840.113549.1.9.22.1","x509Certificate");S("1.2.840.113549.1.12.10.1.1","keyBag");S("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");S("1.2.840.113549.1.12.10.1.3","certBag");S("1.2.840.113549.1.12.10.1.4","crlBag");S("1.2.840.113549.1.12.10.1.5","secretBag");S("1.2.840.113549.1.12.10.1.6","safeContentsBag");S("1.2.840.113549.1.5.13","pkcs5PBES2");S("1.2.840.113549.1.5.12","pkcs5PBKDF2");S("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");S("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");S("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");S("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");S("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");S("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");S("1.2.840.113549.2.7","hmacWithSHA1");S("1.2.840.113549.2.8","hmacWithSHA224");S("1.2.840.113549.2.9","hmacWithSHA256");S("1.2.840.113549.2.10","hmacWithSHA384");S("1.2.840.113549.2.11","hmacWithSHA512");S("1.2.840.113549.3.7","des-EDE3-CBC");S("2.16.840.1.101.3.4.1.2","aes128-CBC");S("2.16.840.1.101.3.4.1.22","aes192-CBC");S("2.16.840.1.101.3.4.1.42","aes256-CBC");S("2.5.4.3","commonName");S("2.5.4.4","surname");S("2.5.4.5","serialNumber");S("2.5.4.6","countryName");S("2.5.4.7","localityName");S("2.5.4.8","stateOrProvinceName");S("2.5.4.9","streetAddress");S("2.5.4.10","organizationName");S("2.5.4.11","organizationalUnitName");S("2.5.4.12","title");S("2.5.4.13","description");S("2.5.4.15","businessCategory");S("2.5.4.17","postalCode");S("2.5.4.42","givenName");S("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");S("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");S("2.16.840.1.113730.1.1","nsCertType");S("2.16.840.1.113730.1.13","nsComment");Y("2.5.29.1","authorityKeyIdentifier");Y("2.5.29.2","keyAttributes");Y("2.5.29.3","certificatePolicies");Y("2.5.29.4","keyUsageRestriction");Y("2.5.29.5","policyMapping");Y("2.5.29.6","subtreesConstraint");Y("2.5.29.7","subjectAltName");Y("2.5.29.8","issuerAltName");Y("2.5.29.9","subjectDirectoryAttributes");Y("2.5.29.10","basicConstraints");Y("2.5.29.11","nameConstraints");Y("2.5.29.12","policyConstraints");Y("2.5.29.13","basicConstraints");S("2.5.29.14","subjectKeyIdentifier");S("2.5.29.15","keyUsage");Y("2.5.29.16","privateKeyUsagePeriod");S("2.5.29.17","subjectAltName");S("2.5.29.18","issuerAltName");S("2.5.29.19","basicConstraints");Y("2.5.29.20","cRLNumber");Y("2.5.29.21","cRLReason");Y("2.5.29.22","expirationDate");Y("2.5.29.23","instructionCode");Y("2.5.29.24","invalidityDate");Y("2.5.29.25","cRLDistributionPoints");Y("2.5.29.26","issuingDistributionPoint");Y("2.5.29.27","deltaCRLIndicator");Y("2.5.29.28","issuingDistributionPoint");Y("2.5.29.29","certificateIssuer");Y("2.5.29.30","nameConstraints");S("2.5.29.31","cRLDistributionPoints");S("2.5.29.32","certificatePolicies");Y("2.5.29.33","policyMappings");Y("2.5.29.34","policyConstraints");S("2.5.29.35","authorityKeyIdentifier");Y("2.5.29.36","policyConstraints");S("2.5.29.37","extKeyUsage");Y("2.5.29.46","freshestCRL");Y("2.5.29.54","inhibitAnyPolicy");S("1.3.6.1.4.1.11129.2.4.2","timestampList");S("1.3.6.1.5.5.7.1.1","authorityInfoAccess");S("1.3.6.1.5.5.7.3.1","serverAuth");S("1.3.6.1.5.5.7.3.2","clientAuth");S("1.3.6.1.5.5.7.3.3","codeSigning");S("1.3.6.1.5.5.7.3.4","emailProtection");S("1.3.6.1.5.5.7.3.8","timeStamping")});var Vr=P(($1,_o)=>{var et=X();lt();An();var C=_o.exports=et.asn1=et.asn1||{};C.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};C.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};C.create=function(t,e,r,n,i){if(et.util.isArray(n)){for(var a=[],s=0;s<n.length;++s)n[s]!==void 0&&a.push(n[s]);n=a}var o={tagClass:t,type:e,constructed:r,composed:r||et.util.isArray(n),value:n};return i&&"bitStringContents"in i&&(o.bitStringContents=i.bitStringContents,o.original=C.copy(o)),o};C.copy=function(t,e){var r;if(et.util.isArray(t)){r=[];for(var n=0;n<t.length;++n)r.push(C.copy(t[n],e));return r}return typeof t=="string"?t:(r={tagClass:t.tagClass,type:t.type,constructed:t.constructed,composed:t.composed,value:C.copy(t.value,e)},e&&!e.excludeBitStringContents&&(r.bitStringContents=t.bitStringContents),r)};C.equals=function(t,e,r){if(et.util.isArray(t)){if(!et.util.isArray(e)||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!C.equals(t[n],e[n]))return!1;return!0}if(typeof t!=typeof e)return!1;if(typeof t=="string")return t===e;var i=t.tagClass===e.tagClass&&t.type===e.type&&t.constructed===e.constructed&&t.composed===e.composed&&C.equals(t.value,e.value);return r&&r.includeBitStringContents&&(i=i&&t.bitStringContents===e.bitStringContents),i};C.getBerValueLength=function(t){var e=t.getByte();if(e!==128){var r,n=e&128;return n?r=t.getInt((e&127)<<3):r=e,r}};function Fr(t,e,r){if(r>e){var n=new Error("Too few bytes to parse DER.");throw n.available=t.length(),n.remaining=e,n.requested=r,n}}var nh=function(t,e){var r=t.getByte();if(e--,r!==128){var n,i=r&128;if(!i)n=r;else{var a=r&127;Fr(t,e,a),n=t.getInt(a<<3)}if(n<0)throw new Error("Negative length: "+n);return n}};C.fromDer=function(t,e){e===void 0&&(e={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"parseAllBytes"in e||(e.parseAllBytes=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof t=="string"&&(t=et.util.createBuffer(t));var r=t.length(),n=Cn(t,t.length(),0,e);if(e.parseAllBytes&&t.length()!==0){var i=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw i.byteCount=r,i.remaining=t.length(),i}return n};function Cn(t,e,r,n){var i;Fr(t,e,2);var a=t.getByte();e--;var s=a&192,o=a&31;i=t.length();var c=nh(t,e);if(e-=i-t.length(),c!==void 0&&c>e){if(n.strict){var f=new Error("Too few bytes to read ASN.1 value.");throw f.available=t.length(),f.remaining=e,f.requested=c,f}c=e}var u,h,l=(a&32)===32;if(l)if(u=[],c===void 0)for(;;){if(Fr(t,e,2),t.bytes(2)===String.fromCharCode(0,0)){t.getBytes(2),e-=2;break}i=t.length(),u.push(Cn(t,e,r+1,n)),e-=i-t.length()}else for(;c>0;)i=t.length(),u.push(Cn(t,c,r+1,n)),e-=i-t.length(),c-=i-t.length();if(u===void 0&&s===C.Class.UNIVERSAL&&o===C.Type.BITSTRING&&(h=t.bytes(c)),u===void 0&&n.decodeBitStrings&&s===C.Class.UNIVERSAL&&o===C.Type.BITSTRING&&c>1){var d=t.read,p=e,g=0;if(o===C.Type.BITSTRING&&(Fr(t,e,1),g=t.getByte(),e--),g===0)try{i=t.length();var x={strict:!0,decodeBitStrings:!0},b=Cn(t,e,r+1,x),B=i-t.length();e-=B,o==C.Type.BITSTRING&&B++;var A=b.tagClass;B===c&&(A===C.Class.UNIVERSAL||A===C.Class.CONTEXT_SPECIFIC)&&(u=[b])}catch{}u===void 0&&(t.read=d,e=p)}if(u===void 0){if(c===void 0){if(n.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=e}if(o===C.Type.BMPSTRING)for(u="";c>0;c-=2)Fr(t,e,2),u+=String.fromCharCode(t.getInt16()),e-=2;else u=t.getBytes(c),e-=c}var L=h===void 0?null:{bitStringContents:h};return C.create(s,o,l,u,L)}C.toDer=function(t){var e=et.util.createBuffer(),r=t.tagClass|t.type,n=et.util.createBuffer(),i=!1;if("bitStringContents"in t&&(i=!0,t.original&&(i=C.equals(t,t.original))),i)n.putBytes(t.bitStringContents);else if(t.composed){t.constructed?r|=32:n.putByte(0);for(var a=0;a<t.value.length;++a)t.value[a]!==void 0&&n.putBuffer(C.toDer(t.value[a]))}else if(t.type===C.Type.BMPSTRING)for(var a=0;a<t.value.length;++a)n.putInt16(t.value.charCodeAt(a));else t.type===C.Type.INTEGER&&t.value.length>1&&(t.value.charCodeAt(0)===0&&!(t.value.charCodeAt(1)&128)||t.value.charCodeAt(0)===255&&(t.value.charCodeAt(1)&128)===128)?n.putBytes(t.value.substr(1)):n.putBytes(t.value);if(e.putByte(r),n.length()<=127)e.putByte(n.length()&127);else{var s=n.length(),o="";do o+=String.fromCharCode(s&255),s=s>>>8;while(s>0);e.putByte(o.length|128);for(var a=o.length-1;a>=0;--a)e.putByte(o.charCodeAt(a))}return e.putBuffer(n),e};C.oidToDer=function(t){var e=t.split("."),r=et.util.createBuffer();r.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var n,i,a,s,o=2;o<e.length;++o){n=!0,i=[],a=parseInt(e[o],10);do s=a&127,a=a>>>7,n||(s|=128),i.push(s),n=!1;while(a>0);for(var c=i.length-1;c>=0;--c)r.putByte(i[c])}return r};C.derToOid=function(t){var e;typeof t=="string"&&(t=et.util.createBuffer(t));var r=t.getByte();e=Math.floor(r/40)+"."+r%40;for(var n=0;t.length()>0;)r=t.getByte(),n=n<<7,r&128?n+=r&127:(e+="."+(n+r),n=0);return e};C.utcTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(t.substr(2,2),10)-1,i=parseInt(t.substr(4,2),10),a=parseInt(t.substr(6,2),10),s=parseInt(t.substr(8,2),10),o=0;if(t.length>11){var c=t.charAt(10),f=10;c!=="+"&&c!=="-"&&(o=parseInt(t.substr(10,2),10),f+=2)}if(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,0),f&&(c=t.charAt(f),c==="+"||c==="-")){var u=parseInt(t.substr(f+1,2),10),h=parseInt(t.substr(f+4,2),10),l=u*60+h;l*=6e4,c==="+"?e.setTime(+e-l):e.setTime(+e+l)}return e};C.generalizedTimeToDate=function(t){var e=new Date,r=parseInt(t.substr(0,4),10),n=parseInt(t.substr(4,2),10)-1,i=parseInt(t.substr(6,2),10),a=parseInt(t.substr(8,2),10),s=parseInt(t.substr(10,2),10),o=parseInt(t.substr(12,2),10),c=0,f=0,u=!1;t.charAt(t.length-1)==="Z"&&(u=!0);var h=t.length-5,l=t.charAt(h);if(l==="+"||l==="-"){var d=parseInt(t.substr(h+1,2),10),p=parseInt(t.substr(h+4,2),10);f=d*60+p,f*=6e4,l==="+"&&(f*=-1),u=!0}return t.charAt(14)==="."&&(c=parseFloat(t.substr(14),10)*1e3),u?(e.setUTCFullYear(r,n,i),e.setUTCHours(a,s,o,c),e.setTime(+e+f)):(e.setFullYear(r,n,i),e.setHours(a,s,o,c)),e};C.dateToUtcTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push((""+t.getUTCFullYear()).substr(2)),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};C.dateToGeneralizedTime=function(t){if(typeof t=="string")return t;var e="",r=[];r.push(""+t.getUTCFullYear()),r.push(""+(t.getUTCMonth()+1)),r.push(""+t.getUTCDate()),r.push(""+t.getUTCHours()),r.push(""+t.getUTCMinutes()),r.push(""+t.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(e+="0"),e+=r[n];return e+="Z",e};C.integerToDer=function(t){var e=et.util.createBuffer();if(t>=-128&&t<128)return e.putSignedInt(t,8);if(t>=-32768&&t<32768)return e.putSignedInt(t,16);if(t>=-8388608&&t<8388608)return e.putSignedInt(t,24);if(t>=-2147483648&&t<2147483648)return e.putSignedInt(t,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=t,r};C.derToInteger=function(t){typeof t=="string"&&(t=et.util.createBuffer(t));var e=t.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return t.getSignedInt(e)};C.validate=function(t,e,r,n){var i=!1;if((t.tagClass===e.tagClass||typeof e.tagClass>"u")&&(t.type===e.type||typeof e.type>"u"))if(t.constructed===e.constructed||typeof e.constructed>"u"){if(i=!0,e.value&&et.util.isArray(e.value))for(var a=0,s=0;i&&s<e.value.length;++s)i=e.value[s].optional||!1,t.value[a]&&(i=C.validate(t.value[a],e.value[s],r,n),i?++a:e.value[s].optional&&(i=!0)),!i&&n&&n.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+t.value.length+'"');if(i&&r&&(e.capture&&(r[e.capture]=t.value),e.captureAsn1&&(r[e.captureAsn1]=t),e.captureBitStringContents&&"bitStringContents"in t&&(r[e.captureBitStringContents]=t.bitStringContents),e.captureBitStringValue&&"bitStringContents"in t)){var o;if(t.bitStringContents.length<2)r[e.captureBitStringValue]="";else{var c=t.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");r[e.captureBitStringValue]=t.bitStringContents.slice(1)}}}else n&&n.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+t.constructed+'"');else n&&(t.tagClass!==e.tagClass&&n.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+t.tagClass+'"'),t.type!==e.type&&n.push("["+e.name+'] Expected type "'+e.type+'", got "'+t.type+'"'));return i};var Io=/[^\\u0000-\\u00ff]/;C.prettyPrint=function(t,e,r){var n="";e=e||0,r=r||2,e>0&&(n+=`
`);for(var i="",a=0;a<e*r;++a)i+=" ";switch(n+=i+"Tag: ",t.tagClass){case C.Class.UNIVERSAL:n+="Universal:";break;case C.Class.APPLICATION:n+="Application:";break;case C.Class.CONTEXT_SPECIFIC:n+="Context-Specific:";break;case C.Class.PRIVATE:n+="Private:";break}if(t.tagClass===C.Class.UNIVERSAL)switch(n+=t.type,t.type){case C.Type.NONE:n+=" (None)";break;case C.Type.BOOLEAN:n+=" (Boolean)";break;case C.Type.INTEGER:n+=" (Integer)";break;case C.Type.BITSTRING:n+=" (Bit string)";break;case C.Type.OCTETSTRING:n+=" (Octet string)";break;case C.Type.NULL:n+=" (Null)";break;case C.Type.OID:n+=" (Object Identifier)";break;case C.Type.ODESC:n+=" (Object Descriptor)";break;case C.Type.EXTERNAL:n+=" (External or Instance of)";break;case C.Type.REAL:n+=" (Real)";break;case C.Type.ENUMERATED:n+=" (Enumerated)";break;case C.Type.EMBEDDED:n+=" (Embedded PDV)";break;case C.Type.UTF8:n+=" (UTF8)";break;case C.Type.ROID:n+=" (Relative Object Identifier)";break;case C.Type.SEQUENCE:n+=" (Sequence)";break;case C.Type.SET:n+=" (Set)";break;case C.Type.PRINTABLESTRING:n+=" (Printable String)";break;case C.Type.IA5String:n+=" (IA5String (ASCII))";break;case C.Type.UTCTIME:n+=" (UTC time)";break;case C.Type.GENERALIZEDTIME:n+=" (Generalized time)";break;case C.Type.BMPSTRING:n+=" (BMP String)";break}else n+=t.type;if(n+=`
`,n+=i+"Constructed: "+t.constructed+`
`,t.composed){for(var s=0,o="",a=0;a<t.value.length;++a)t.value[a]!==void 0&&(s+=1,o+=C.prettyPrint(t.value[a],e+1,r),a+1<t.value.length&&(o+=","));n+=i+"Sub values: "+s+o}else{if(n+=i+"Value: ",t.type===C.Type.OID){var c=C.derToOid(t.value);n+=c,et.pki&&et.pki.oids&&c in et.pki.oids&&(n+=" ("+et.pki.oids[c]+") ")}if(t.type===C.Type.INTEGER)try{n+=C.derToInteger(t.value)}catch{n+="0x"+et.util.bytesToHex(t.value)}else if(t.type===C.Type.BITSTRING){if(t.value.length>1?n+="0x"+et.util.bytesToHex(t.value.slice(1)):n+="(none)",t.value.length>0){var f=t.value.charCodeAt(0);f==1?n+=" (1 unused bit shown)":f>1&&(n+=" ("+f+" unused bits shown)")}}else if(t.type===C.Type.OCTETSTRING)Io.test(t.value)||(n+="("+t.value+") "),n+="0x"+et.util.bytesToHex(t.value);else if(t.type===C.Type.UTF8)try{n+=et.util.decodeUtf8(t.value)}catch(u){if(u.message==="URI malformed")n+="0x"+et.util.bytesToHex(t.value)+" (malformed UTF8)";else throw u}else t.type===C.Type.PRINTABLESTRING||t.type===C.Type.IA5String?n+=t.value:Io.test(t.value)?n+="0x"+et.util.bytesToHex(t.value):t.value.length===0?n+="[null]":n+=t.value}return n}});var ea=P((Z1,Ro)=>{var xt=X();lt();Ro.exports=xt.cipher=xt.cipher||{};xt.cipher.algorithms=xt.cipher.algorithms||{};xt.cipher.createCipher=function(t,e){var r=t;if(typeof r=="string"&&(r=xt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new xt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!1})};xt.cipher.createDecipher=function(t,e){var r=t;if(typeof r=="string"&&(r=xt.cipher.getAlgorithm(r),r&&(r=r())),!r)throw new Error("Unsupported algorithm: "+t);return new xt.cipher.BlockCipher({algorithm:r,key:e,decrypt:!0})};xt.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),xt.cipher.algorithms[t]=e};xt.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in xt.cipher.algorithms?xt.cipher.algorithms[t]:null};var ta=xt.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};ta.prototype.start=function(t){t=t||{};var e={};for(var r in t)e[r]=t[r];e.decrypt=this._decrypt,this._finish=!1,this._input=xt.util.createBuffer(),this.output=t.output||xt.util.createBuffer(),this.mode.start(e)};ta.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};ta.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(r){return t(this.blockSize,r,!1)},this.mode.unpad=function(r){return t(this.blockSize,r,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var na=P((Y1,No)=>{var vt=X();lt();vt.cipher=vt.cipher||{};var O=No.exports=vt.cipher.modes=vt.cipher.modes||{};O.ecb=function(t){t=t||{},this.name="ECB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.ecb.prototype.start=function(t){};O.ecb.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};O.ecb.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n])};O.ecb.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};O.ecb.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};O.cbc=function(t){t=t||{},this.name="CBC",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};O.cbc.prototype.start=function(t){if(t.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in t)this._iv=Tn(t.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};O.cbc.prototype.encrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^t.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]);this._prev=this._outBlock};O.cbc.prototype.decrypt=function(t,e,r){if(t.length()<this.blockSize&&!(r&&t.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=t.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)};O.cbc.prototype.pad=function(t,e){var r=t.length()===this.blockSize?this.blockSize:this.blockSize-t.length();return t.fillWithByte(r,r),!0};O.cbc.prototype.unpad=function(t,e){if(e.overflow>0)return!1;var r=t.length(),n=t.at(r-1);return n>this.blockSize<<2?!1:(t.truncate(n),!0)};O.cfb=function(t){t=t||{},this.name="CFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};O.cfb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Tn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.cfb.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32()^this._outBlock[i],e.putInt32(this._inBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.cfb.prototype.decrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)this._inBlock[i]=t.getInt32(),e.putInt32(this._inBlock[i]^this._outBlock[i]);return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialBlock[i]=t.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb=function(t){t=t||{},this.name="OFB",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};O.ofb.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Tn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ofb.prototype.encrypt=function(t,e,r){var n=t.length();if(t.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];return}var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0)t.read-=this.blockSize;else for(var i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0};O.ofb.prototype.decrypt=O.ofb.prototype.encrypt;O.ctr=function(t){t=t||{},this.name="CTR",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0};O.ctr.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");this._iv=Tn(t.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};O.ctr.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize)for(var i=0;i<this._ints;++i)e.putInt32(t.getInt32()^this._outBlock[i]);else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a>0&&(t.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}In(this._inBlock)};O.ctr.prototype.decrypt=O.ctr.prototype.encrypt;O.gcm=function(t){t=t||{},this.name="GCM",this.cipher=t.cipher,this.blockSize=t.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=vt.util.createBuffer(),this._partialBytes=0,this._R=3774873600};O.gcm.prototype.start=function(t){if(!("iv"in t))throw new Error("Invalid IV parameter.");var e=vt.util.createBuffer(t.iv);this._cipherLength=0;var r;if("additionalData"in t?r=vt.util.createBuffer(t.additionalData):r=vt.util.createBuffer(),"tagLength"in t?this._tagLength=t.tagLength:this._tagLength=128,this._tag=null,t.decrypt&&(this._tag=vt.util.createBuffer(t.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var n=e.length();if(n===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(ra(n*8)))}this._inBlock=this._j0.slice(0),In(this._inBlock),this._partialBytes=0,r=vt.util.createBuffer(r),this._aDataLength=ra(r.length()*8);var i=r.length()%this.blockSize;for(i&&r.fillWithByte(0,this.blockSize-i),this._s=[0,0,0,0];r.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()])};O.gcm.prototype.encrypt=function(t,e,r){var n=t.length();if(n===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&n>=this.blockSize){for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^=t.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-n)%this.blockSize;a>0&&(a=this.blockSize-a),this._partialOutput.clear();for(var i=0;i<this._ints;++i)this._partialOutput.putInt32(t.getInt32()^this._outBlock[i]);if(a<=0||r){if(r){var s=n%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(var i=0;i<this._ints;++i)this._outBlock[i]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;e.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),In(this._inBlock)};O.gcm.prototype.decrypt=function(t,e,r){var n=t.length();if(n<this.blockSize&&!(r&&n>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),In(this._inBlock),this._hashBlock[0]=t.getInt32(),this._hashBlock[1]=t.getInt32(),this._hashBlock[2]=t.getInt32(),this._hashBlock[3]=t.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]^this._hashBlock[i]);n<this.blockSize?this._cipherLength+=n%this.blockSize:this._cipherLength+=this.blockSize};O.gcm.prototype.afterFinish=function(t,e){var r=!0;e.decrypt&&e.overflow&&t.truncate(this.blockSize-e.overflow),this.tag=vt.util.createBuffer();var n=this._aDataLength.concat(ra(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,n);var i=[];this.cipher.encrypt(this._j0,i);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^i[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r};O.gcm.prototype.multiply=function(t,e){for(var r=[0,0,0,0],n=e.slice(0),i=0;i<128;++i){var a=t[i/32|0]&1<<31-i%32;a&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n)}return r};O.gcm.prototype.pow=function(t,e){for(var r=t[3]&1,n=3;n>0;--n)e[n]=t[n]>>>1|(t[n-1]&1)<<31;e[0]=t[0]>>>1,r&&(e[0]^=this._R)};O.gcm.prototype.tableMultiply=function(t){for(var e=[0,0,0,0],r=0;r<32;++r){var n=r/8|0,i=t[n]>>>(7-r%8)*4&15,a=this._m[r][i];e[0]^=a[0],e[1]^=a[1],e[2]^=a[2],e[3]^=a[3]}return e};O.gcm.prototype.ghash=function(t,e,r){return e[0]^=r[0],e[1]^=r[1],e[2]^=r[2],e[3]^=r[3],this.tableMultiply(e)};O.gcm.prototype.generateHashTable=function(t,e){for(var r=8/e,n=4*r,i=16*r,a=new Array(i),s=0;s<i;++s){var o=[0,0,0,0],c=s/n|0,f=(n-1-s%n)*e;o[c]=1<<e-1<<f,a[s]=this.generateSubHashTable(this.multiply(o,t),e)}return a};O.gcm.prototype.generateSubHashTable=function(t,e){var r=1<<e,n=r>>>1,i=new Array(r);i[n]=t.slice(0);for(var a=n>>>1;a>0;)this.pow(i[2*a],i[a]=[]),a>>=1;for(a=2;a<n;){for(var s=1;s<a;++s){var o=i[a],c=i[s];i[a+s]=[o[0]^c[0],o[1]^c[1],o[2]^c[2],o[3]^c[3]]}a*=2}for(i[0]=[0,0,0,0],a=n+1;a<r;++a){var f=i[a^n];i[a]=[t[0]^f[0],t[1]^f[1],t[2]^f[2],t[3]^f[3]]}return i};function Tn(t,e){if(typeof t=="string"&&(t=vt.util.createBuffer(t)),vt.util.isArray(t)&&t.length>4){var r=t;t=vt.util.createBuffer();for(var n=0;n<r.length;++n)t.putByte(r[n])}if(t.length()<e)throw new Error("Invalid IV length; got "+t.length()+" bytes and expected "+e+" bytes.");if(!vt.util.isArray(t)){for(var i=[],a=e/4,n=0;n<a;++n)i.push(t.getInt32());t=i}return t}function In(t){t[t.length-1]=t[t.length-1]+1&4294967295}function ra(t){return[t/4294967296|0,t&4294967295]}});var oa=P((Q1,Po)=>{var tt=X();ea();na();lt();Po.exports=tt.aes=tt.aes||{};tt.aes.startEncrypting=function(t,e,r,n){var i=_n({key:t,output:r,decrypt:!1,mode:n});return i.start(e),i};tt.aes.createEncryptionCipher=function(t,e){return _n({key:t,output:null,decrypt:!1,mode:e})};tt.aes.startDecrypting=function(t,e,r,n){var i=_n({key:t,output:r,decrypt:!0,mode:n});return i.start(e),i};tt.aes.createDecryptionCipher=function(t,e){return _n({key:t,output:null,decrypt:!0,mode:e})};tt.aes.Algorithm=function(t,e){sa||Lo();var r=this;r.name=t,r.mode=new e({blockSize:16,cipher:{encrypt:function(n,i){return aa(r._w,n,i,!1)},decrypt:function(n,i){return aa(r._w,n,i,!0)}}}),r._init=!1};tt.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key,r;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=tt.util.createBuffer(e);else if(tt.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){r=e,e=tt.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(!tt.util.isArray(e)){r=e,e=[];var i=r.length();if(i===16||i===24||i===32){i=i>>>2;for(var n=0;n<i;++n)e.push(r.getInt32())}}if(!tt.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var a=this.mode.name,s=["CFB","OFB","CTR","GCM"].indexOf(a)!==-1;this._w=ko(e,t.decrypt&&!s),this._init=!0}};tt.aes._expandKey=function(t,e){return sa||Lo(),ko(t,e)};tt.aes._updateBlock=aa;hr("AES-ECB",tt.cipher.modes.ecb);hr("AES-CBC",tt.cipher.modes.cbc);hr("AES-CFB",tt.cipher.modes.cfb);hr("AES-OFB",tt.cipher.modes.ofb);hr("AES-CTR",tt.cipher.modes.ctr);hr("AES-GCM",tt.cipher.modes.gcm);function hr(t,e){var r=function(){return new tt.aes.Algorithm(t,e)};tt.cipher.registerAlgorithm(t,r)}var sa=!1,ur=4,Tt,ia,Do,We,Wt;function Lo(){sa=!0,Do=[0,1,2,4,8,16,32,64,128,27,54];for(var t=new Array(256),e=0;e<128;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;Tt=new Array(256),ia=new Array(256),We=new Array(4),Wt=new Array(4);for(var e=0;e<4;++e)We[e]=new Array(256),Wt[e]=new Array(256);for(var r=0,n=0,i,a,s,o,c,f,u,e=0;e<256;++e){o=n^n<<1^n<<2^n<<3^n<<4,o=o>>8^o&255^99,Tt[r]=o,ia[o]=r,c=t[o],i=t[r],a=t[i],s=t[a],f=c<<24^o<<16^o<<8^(o^c),u=(i^a^s)<<24^(r^s)<<16^(r^a^s)<<8^(r^i^s);for(var h=0;h<4;++h)We[h][r]=f,Wt[h][o]=u,f=f<<24|f>>>8,u=u<<24|u>>>8;r===0?r=n=1:(r=i^t[t[t[i^s]]],n^=t[t[n]])}}function ko(t,e){for(var r=t.slice(0),n,i=1,a=r.length,s=a+6+1,o=ur*s,c=a;c<o;++c)n=r[c-1],c%a===0?(n=Tt[n>>>16&255]<<24^Tt[n>>>8&255]<<16^Tt[n&255]<<8^Tt[n>>>24]^Do[i]<<24,i++):a>6&&c%a===4&&(n=Tt[n>>>24]<<24^Tt[n>>>16&255]<<16^Tt[n>>>8&255]<<8^Tt[n&255]),r[c]=r[c-a]^n;if(e){var f,u=Wt[0],h=Wt[1],l=Wt[2],d=Wt[3],p=r.slice(0);o=r.length;for(var c=0,g=o-ur;c<o;c+=ur,g-=ur)if(c===0||c===o-ur)p[c]=r[g],p[c+1]=r[g+3],p[c+2]=r[g+2],p[c+3]=r[g+1];else for(var x=0;x<ur;++x)f=r[g+x],p[c+(3&-x)]=u[Tt[f>>>24]]^h[Tt[f>>>16&255]]^l[Tt[f>>>8&255]]^d[Tt[f&255]];r=p}return r}function aa(t,e,r,n){var i=t.length/4-1,a,s,o,c,f;n?(a=Wt[0],s=Wt[1],o=Wt[2],c=Wt[3],f=ia):(a=We[0],s=We[1],o=We[2],c=We[3],f=Tt);var u,h,l,d,p,g,x;u=e[0]^t[0],h=e[n?3:1]^t[1],l=e[2]^t[2],d=e[n?1:3]^t[3];for(var b=3,B=1;B<i;++B)p=a[u>>>24]^s[h>>>16&255]^o[l>>>8&255]^c[d&255]^t[++b],g=a[h>>>24]^s[l>>>16&255]^o[d>>>8&255]^c[u&255]^t[++b],x=a[l>>>24]^s[d>>>16&255]^o[u>>>8&255]^c[h&255]^t[++b],d=a[d>>>24]^s[u>>>16&255]^o[h>>>8&255]^c[l&255]^t[++b],u=p,h=g,l=x;r[0]=f[u>>>24]<<24^f[h>>>16&255]<<16^f[l>>>8&255]<<8^f[d&255]^t[++b],r[n?3:1]=f[h>>>24]<<24^f[l>>>16&255]<<16^f[d>>>8&255]<<8^f[u&255]^t[++b],r[2]=f[l>>>24]<<24^f[d>>>16&255]<<16^f[u>>>8&255]<<8^f[h&255]^t[++b],r[n?1:3]=f[d>>>24]<<24^f[u>>>16&255]<<16^f[h>>>8&255]<<8^f[l&255]^t[++b]}function _n(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="AES-"+e,n;t.decrypt?n=tt.cipher.createDecipher(r,t.key):n=tt.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof tt.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var Oo=P((X1,Ko)=>{var at=X();ea();na();lt();Ko.exports=at.des=at.des||{};at.des.startEncrypting=function(t,e,r,n){var i=Rn({key:t,output:r,decrypt:!1,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};at.des.createEncryptionCipher=function(t,e){return Rn({key:t,output:null,decrypt:!1,mode:e})};at.des.startDecrypting=function(t,e,r,n){var i=Rn({key:t,output:r,decrypt:!0,mode:n||(e===null?"ECB":"CBC")});return i.start(e),i};at.des.createDecryptionCipher=function(t,e){return Rn({key:t,output:null,decrypt:!0,mode:e})};at.des.Algorithm=function(t,e){var r=this;r.name=t,r.mode=new e({blockSize:8,cipher:{encrypt:function(n,i){return Uo(r._keys,n,i,!1)},decrypt:function(n,i){return Uo(r._keys,n,i,!0)}}}),r._init=!1};at.des.Algorithm.prototype.initialize=function(t){if(!this._init){var e=at.util.createBuffer(t.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=lh(e),this._init=!0}};re("DES-ECB",at.cipher.modes.ecb);re("DES-CBC",at.cipher.modes.cbc);re("DES-CFB",at.cipher.modes.cfb);re("DES-OFB",at.cipher.modes.ofb);re("DES-CTR",at.cipher.modes.ctr);re("3DES-ECB",at.cipher.modes.ecb);re("3DES-CBC",at.cipher.modes.cbc);re("3DES-CFB",at.cipher.modes.cfb);re("3DES-OFB",at.cipher.modes.ofb);re("3DES-CTR",at.cipher.modes.ctr);function re(t,e){var r=function(){return new at.des.Algorithm(t,e)};at.cipher.registerAlgorithm(t,r)}var ih=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ah=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],sh=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],oh=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],fh=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ch=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],uh=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],hh=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function lh(t){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],f=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],u=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=t.length()>8?3:1,x=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],B=0,A,L=0;L<g;L++){var I=t.getInt32(),_=t.getInt32();A=(I>>>4^_)&252645135,_^=A,I^=A<<4,A=(_>>>-16^I)&65535,I^=A,_^=A<<-16,A=(I>>>2^_)&858993459,_^=A,I^=A<<2,A=(_>>>-16^I)&65535,I^=A,_^=A<<-16,A=(I>>>1^_)&1431655765,_^=A,I^=A<<1,A=(_>>>8^I)&16711935,I^=A,_^=A<<8,A=(I>>>1^_)&1431655765,_^=A,I^=A<<1,A=I<<8|_>>>20&240,I=_<<24|_<<8&16711680|_>>>8&65280|_>>>24&240,_=A;for(var F=0;F<b.length;++F){b[F]?(I=I<<2|I>>>26,_=_<<2|_>>>26):(I=I<<1|I>>>27,_=_<<1|_>>>27),I&=-15,_&=-15;var $=e[I>>>28]|r[I>>>24&15]|n[I>>>20&15]|i[I>>>16&15]|a[I>>>12&15]|s[I>>>8&15]|o[I>>>4&15],Et=c[_>>>28]|f[_>>>24&15]|u[_>>>20&15]|h[_>>>16&15]|l[_>>>12&15]|d[_>>>8&15]|p[_>>>4&15];A=(Et>>>16^$)&65535,x[B++]=$^A,x[B++]=Et^A<<16}}return x}function Uo(t,e,r,n){var i=t.length===32?3:9,a;i===3?a=n?[30,-2,-2]:[0,32,2]:a=n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s,o=e[0],c=e[1];s=(o>>>4^c)&252645135,c^=s,o^=s<<4,s=(o>>>16^c)&65535,c^=s,o^=s<<16,s=(c>>>2^o)&858993459,o^=s,c^=s<<2,s=(c>>>8^o)&16711935,o^=s,c^=s<<8,s=(o>>>1^c)&1431655765,c^=s,o^=s<<1,o=o<<1|o>>>31,c=c<<1|c>>>31;for(var f=0;f<i;f+=3){for(var u=a[f+1],h=a[f+2],l=a[f];l!=u;l+=h){var d=c^t[l],p=(c>>>4|c<<28)^t[l+1];s=o,o=c,c=s^(ah[d>>>24&63]|oh[d>>>16&63]|ch[d>>>8&63]|hh[d&63]|ih[p>>>24&63]|sh[p>>>16&63]|fh[p>>>8&63]|uh[p&63])}s=o,o=c,c=s}o=o>>>1|o<<31,c=c>>>1|c<<31,s=(o>>>1^c)&1431655765,c^=s,o^=s<<1,s=(c>>>8^o)&16711935,o^=s,c^=s<<8,s=(c>>>2^o)&858993459,o^=s,c^=s<<2,s=(o>>>16^c)&65535,c^=s,o^=s<<16,s=(o>>>4^c)&252645135,c^=s,o^=s<<4,r[0]=o,r[1]=c}function Rn(t){t=t||{};var e=(t.mode||"CBC").toUpperCase(),r="DES-"+e,n;t.decrypt?n=at.cipher.createDecipher(r,t.key):n=at.cipher.createCipher(r,t.key);var i=n.start;return n.start=function(a,s){var o=null;s instanceof at.util.ByteBuffer&&(o=s,s={}),s=s||{},s.output=o,s.iv=a,i.call(n,s)},n}});var $e=P((J1,Mo)=>{var Nn=X();Mo.exports=Nn.md=Nn.md||{};Nn.md.algorithms=Nn.md.algorithms||{}});var Vo=P((j1,Fo)=>{var xe=X();$e();lt();var ph=Fo.exports=xe.hmac=xe.hmac||{};ph.create=function(){var t=null,e=null,r=null,n=null,i={};return i.start=function(a,s){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in xe.md.algorithms)e=xe.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else e=a;if(s===null)s=t;else{if(typeof s=="string")s=xe.util.createBuffer(s);else if(xe.util.isArray(s)){var o=s;s=xe.util.createBuffer();for(var c=0;c<o.length;++c)s.putByte(o[c])}var f=s.length();f>e.blockLength&&(e.start(),e.update(s.bytes()),s=e.digest()),r=xe.util.createBuffer(),n=xe.util.createBuffer(),f=s.length();for(var c=0;c<f;++c){var o=s.at(c);r.putByte(54^o),n.putByte(92^o)}if(f<e.blockLength)for(var o=e.blockLength-f,c=0;c<o;++c)r.putByte(54),n.putByte(92);t=s,r=r.bytes(),n=n.bytes()}e.start(),e.update(r)},i.update=function(a){e.update(a)},i.getMac=function(){var a=e.digest().bytes();return e.start(),e.update(n),e.update(a),e.digest()},i.digest=i.getMac,i}});var lr=P(()=>{});var zo=P((r2,qo)=>{var It=X();Vo();$e();lt();var dh=It.pkcs5=It.pkcs5||{},ve;It.util.isNodejs&&!It.options.usePureJavaScript&&(ve=lr());qo.exports=It.pbkdf2=dh.pbkdf2=function(t,e,r,n,i,a){if(typeof i=="function"&&(a=i,i=null),It.util.isNodejs&&!It.options.usePureJavaScript&&ve.pbkdf2&&(i===null||typeof i!="object")&&(ve.pbkdf2Sync.length>4||!i||i==="sha1"))return typeof i!="string"&&(i="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),a?ve.pbkdf2Sync.length===4?ve.pbkdf2(t,e,r,n,function(A,L){if(A)return a(A);a(null,L.toString("binary"))}):ve.pbkdf2(t,e,r,n,i,function(A,L){if(A)return a(A);a(null,L.toString("binary"))}):ve.pbkdf2Sync.length===4?ve.pbkdf2Sync(t,e,r,n).toString("binary"):ve.pbkdf2Sync(t,e,r,n,i).toString("binary");if((typeof i>"u"||i===null)&&(i="sha1"),typeof i=="string"){if(!(i in It.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=It.md[i].create()}var s=i.digestLength;if(n>4294967295*s){var o=new Error("Derived key is too long.");if(a)return a(o);throw o}var c=Math.ceil(n/s),f=n-(c-1)*s,u=It.hmac.create();u.start(i,t);var h="",l,d,p;if(!a){for(var g=1;g<=c;++g){u.start(null,null),u.update(e),u.update(It.util.int32ToBytes(g)),l=p=u.digest().getBytes();for(var x=2;x<=r;++x)u.start(null,null),u.update(p),d=u.digest().getBytes(),l=It.util.xorBytes(l,d,s),p=d;h+=g<c?l:l.substr(0,f)}return h}var g=1,x;function b(){if(g>c)return a(null,h);u.start(null,null),u.update(e),u.update(It.util.int32ToBytes(g)),l=p=u.digest().getBytes(),x=2,B()}function B(){if(x<=r)return u.start(null,null),u.update(p),d=u.digest().getBytes(),l=It.util.xorBytes(l,d,s),p=d,++x,It.util.setImmediate(B);h+=g<c?l:l.substr(0,f),++g,b()}b()}});var Wo=P((n2,Go)=>{var Ln=X();lt();var Ho=Go.exports=Ln.pem=Ln.pem||{};Ho.encode=function(t,e){e=e||{};var r="-----BEGIN "+t.type+`-----\r
`,n;if(t.procType&&(n={name:"Proc-Type",values:[String(t.procType.version),t.procType.type]},r+=Dn(n)),t.contentDomain&&(n={name:"Content-Domain",values:[t.contentDomain]},r+=Dn(n)),t.dekInfo&&(n={name:"DEK-Info",values:[t.dekInfo.algorithm]},t.dekInfo.parameters&&n.values.push(t.dekInfo.parameters),r+=Dn(n)),t.headers)for(var i=0;i<t.headers.length;++i)r+=Dn(t.headers[i]);return t.procType&&(r+=`\r
`),r+=Ln.util.encode64(t.body,e.maxline||64)+`\r
`,r+="-----END "+t.type+`-----\r
`,r};Ho.decode=function(t){for(var e=[],r=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,n=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,i=/\r?\n/,a;a=r.exec(t),!!a;){var s=a[1];s==="NEW CERTIFICATE REQUEST"&&(s="CERTIFICATE REQUEST");var o={type:s,procType:null,contentDomain:null,dekInfo:null,headers:[],body:Ln.util.decode64(a[3])};if(e.push(o),!!a[2]){for(var c=a[2].split(i),f=0;a&&f<c.length;){for(var u=c[f].replace(/\s+$/,""),h=f+1;h<c.length;++h){var l=c[h];if(!/\s/.test(l[0]))break;u+=l,f=h}if(a=u.match(n),a){for(var d={name:a[1],values:[]},p=a[2].split(","),g=0;g<p.length;++g)d.values.push(yh(p[g]));if(o.procType)if(!o.contentDomain&&d.name==="Content-Domain")o.contentDomain=p[0]||"";else if(!o.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:p[0],parameters:p[1]||null}}else o.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:p[0],type:p[1]}}}++f}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Dn(t){for(var e=t.name+": ",r=[],n=function(c,f){return" "+f},i=0;i<t.values.length;++i)r.push(t.values[i].replace(/^(\S+\r\n)/,n));e+=r.join(",")+`\r
`;for(var a=0,s=-1,i=0;i<e.length;++i,++a)if(a>65&&s!==-1){var o=e[s];o===","?(++s,e=e.substr(0,s)+`\r
 `+e.substr(s)):e=e.substr(0,s)+`\r
`+o+e.substr(s+1),a=i-s-1,s=-1,++i}else(e[i]===" "||e[i]==="	"||e[i]===",")&&(s=i);return e}function yh(t){return t.replace(/^\s+/,"")}});var Jo=P((i2,Xo)=>{var ne=X();$e();lt();var Zo=Xo.exports=ne.sha256=ne.sha256||{};ne.md.sha256=ne.md.algorithms.sha256=Zo;Zo.create=function(){Yo||gh();var t=null,e=ne.util.createBuffer(),r=new Array(64),n={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=ne.util.createBuffer(),t={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=ne.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),$o(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=ne.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(fa.substr(0,n.blockLength-s));for(var o,c,f=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,c=o/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=o>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4,h5:t.h5,h6:t.h6,h7:t.h7};$o(h,r,i);var l=ne.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l.putInt32(h.h5),l.putInt32(h.h6),l.putInt32(h.h7),l},n};var fa=null,Yo=!1,Qo=null;function gh(){fa=String.fromCharCode(128),fa+=ne.util.fillString(String.fromCharCode(0),64),Qo=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Yo=!0}function $o(t,e,r){for(var n,i,a,s,o,c,f,u,h,l,d,p,g,x,b,B=r.length();B>=64;){for(f=0;f<16;++f)e[f]=r.getInt32();for(;f<64;++f)n=e[f-2],n=(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=e[f-15],i=(i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,e[f]=n+e[f-7]+i+e[f-16]|0;for(u=t.h0,h=t.h1,l=t.h2,d=t.h3,p=t.h4,g=t.h5,x=t.h6,b=t.h7,f=0;f<64;++f)s=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7),o=x^p&(g^x),a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),c=u&h|l&(u^h),n=b+s+o+Qo[f]+e[f],i=a+c,b=x,x=g,g=p,p=d+n>>>0,d=l,l=h,h=u,u=n+i>>>0;t.h0=t.h0+u|0,t.h1=t.h1+h|0,t.h2=t.h2+l|0,t.h3=t.h3+d|0,t.h4=t.h4+p|0,t.h5=t.h5+g|0,t.h6=t.h6+x|0,t.h7=t.h7+b|0,B-=64}}});var t0=P((a2,jo)=>{var ie=X();lt();var kn=null;ie.util.isNodejs&&!ie.options.usePureJavaScript&&!process.versions["node-webkit"]&&(kn=lr());var mh=jo.exports=ie.prng=ie.prng||{};mh.create=function(t){for(var e={plugin:t,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},r=t.md,n=new Array(32),i=0;i<32;++i)n[i]=r.create();e.pools=n,e.pool=0,e.generate=function(f,u){if(!u)return e.generateSync(f);var h=e.plugin.cipher,l=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed,g=ie.util.createBuffer();e.key=null,x();function x(b){if(b)return u(b);if(g.length()>=f)return u(null,g.getBytes(f));if(e.generated>1048575&&(e.key=null),e.key===null)return ie.util.nextTick(function(){a(x)});var B=h(e.key,e.seed);e.generated+=B.length,g.putBytes(B),e.key=d(h(e.key,l(e.seed))),e.seed=p(h(e.key,e.seed)),ie.util.setImmediate(x)}},e.generateSync=function(f){var u=e.plugin.cipher,h=e.plugin.increment,l=e.plugin.formatKey,d=e.plugin.formatSeed;e.key=null;for(var p=ie.util.createBuffer();p.length()<f;){e.generated>1048575&&(e.key=null),e.key===null&&s();var g=u(e.key,e.seed);e.generated+=g.length,p.putBytes(g),e.key=l(u(e.key,h(e.seed))),e.seed=d(u(e.key,e.seed))}return p.getBytes(f)};function a(f){if(e.pools[0].messageLength>=32)return o(),f();var u=32-e.pools[0].messageLength<<5;e.seedFile(u,function(h,l){if(h)return f(h);e.collect(l),o(),f()})}function s(){if(e.pools[0].messageLength>=32)return o();var f=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(f)),o()}function o(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var f=e.plugin.md.create();f.update(e.keyBytes);for(var u=1,h=0;h<32;++h)e.reseeds%u===0&&(f.update(e.pools[h].digest().getBytes()),e.pools[h].start()),u=u<<1;e.keyBytes=f.digest().getBytes(),f.start(),f.update(e.keyBytes);var l=f.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(l),e.generated=0}function c(f){var u=null,h=ie.util.globalScope,l=h.crypto||h.msCrypto;l&&l.getRandomValues&&(u=function(I){return l.getRandomValues(I)});var d=ie.util.createBuffer();if(u)for(;d.length()<f;){var p=Math.max(1,Math.min(f-d.length(),65536)/4),g=new Uint32Array(Math.floor(p));try{u(g);for(var x=0;x<g.length;++x)d.putInt32(g[x])}catch(I){if(!(typeof QuotaExceededError<"u"&&I instanceof QuotaExceededError))throw I}}if(d.length()<f)for(var b,B,A,L=Math.floor(Math.random()*65536);d.length()<f;){B=16807*(L&65535),b=16807*(L>>16),B+=(b&32767)<<16,B+=b>>15,B=(B&2147483647)+(B>>31),L=B&4294967295;for(var x=0;x<3;++x)A=L>>>(x<<3),A^=Math.floor(Math.random()*256),d.putByte(A&255)}return d.getBytes(f)}return kn?(e.seedFile=function(f,u){kn.randomBytes(f,function(h,l){if(h)return u(h);u(null,l.toString())})},e.seedFileSync=function(f){return kn.randomBytes(f).toString()}):(e.seedFile=function(f,u){try{u(null,c(f))}catch(h){u(h)}},e.seedFileSync=c),e.collect=function(f){for(var u=f.length,h=0;h<u;++h)e.pools[e.pool].update(f.substr(h,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(f,u){for(var h="",l=0;l<u;l+=8)h+=String.fromCharCode(f>>l&255);e.collect(h)},e.registerWorker=function(f){if(f===self)e.seedFile=function(h,l){function d(p){var g=p.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",d),l(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",d),self.postMessage({forge:{prng:{needed:h}}})};else{var u=function(h){var l=h.data;l.forge&&l.forge.prng&&e.seedFile(l.forge.prng.needed,function(d,p){f.postMessage({forge:{prng:{err:d,bytes:p}}})})};f.addEventListener("message",u)}},e}});var qr=P((s2,ca)=>{var bt=X();oa();Jo();t0();lt();(function(){if(bt.random&&bt.random.getBytes){ca.exports=bt.random;return}(function(t){var e={},r=new Array(4),n=bt.util.createBuffer();e.formatKey=function(h){var l=bt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),bt.aes._expandKey(h,!1)},e.formatSeed=function(h){var l=bt.util.createBuffer(h);return h=new Array(4),h[0]=l.getInt32(),h[1]=l.getInt32(),h[2]=l.getInt32(),h[3]=l.getInt32(),h},e.cipher=function(h,l){return bt.aes._updateBlock(h,l,r,!1),n.putInt32(r[0]),n.putInt32(r[1]),n.putInt32(r[2]),n.putInt32(r[3]),n.getBytes()},e.increment=function(h){return++h[3],h},e.md=bt.md.sha256;function i(){var h=bt.prng.create(e);return h.getBytes=function(l,d){return h.generate(l,d)},h.getBytesSync=function(l){return h.generate(l)},h}var a=i(),s=null,o=bt.util.globalScope,c=o.crypto||o.msCrypto;if(c&&c.getRandomValues&&(s=function(h){return c.getRandomValues(h)}),bt.options.usePureJavaScript||!bt.util.isNodejs&&!s){if(typeof window>"u"||window.document,a.collectInt(+new Date,32),typeof navigator<"u"){var f="";for(var u in navigator)try{typeof navigator[u]=="string"&&(f+=navigator[u])}catch{}a.collect(f),f=null}t&&(t().mousemove(function(h){a.collectInt(h.clientX,16),a.collectInt(h.clientY,16)}),t().keypress(function(h){a.collectInt(h.charCode,8)}))}if(!bt.random)bt.random=a;else for(var u in a)bt.random[u]=a[u];bt.random.createInstance=i,ca.exports=bt.random})(typeof jQuery<"u"?jQuery:null)})()});var i0=P((o2,n0)=>{var Nt=X();lt();var ua=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],e0=[1,2,3,5],xh=function(t,e){return t<<e&65535|(t&65535)>>16-e},vh=function(t,e){return(t&65535)>>e|t<<16-e&65535};n0.exports=Nt.rc2=Nt.rc2||{};Nt.rc2.expandKey=function(t,e){typeof t=="string"&&(t=Nt.util.createBuffer(t)),e=e||128;var r=t,n=t.length(),i=e,a=Math.ceil(i/8),s=255>>(i&7),o;for(o=n;o<128;o++)r.putByte(ua[r.at(o-1)+r.at(o-n)&255]);for(r.setAt(128-a,ua[r.at(128-a)&s]),o=127-a;o>=0;o--)r.setAt(o,ua[r.at(o+1)^r.at(o+a)]);return r};var r0=function(t,e,r){var n=!1,i=null,a=null,s=null,o,c,f,u,h=[];for(t=Nt.rc2.expandKey(t,e),f=0;f<64;f++)h.push(t.getInt16Le());r?(o=function(p){for(f=0;f<4;f++)p[f]+=h[u]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),p[f]=xh(p[f],e0[f]),u++},c=function(p){for(f=0;f<4;f++)p[f]+=h[p[(f+3)%4]&63]}):(o=function(p){for(f=3;f>=0;f--)p[f]=vh(p[f],e0[f]),p[f]-=h[u]+(p[(f+3)%4]&p[(f+2)%4])+(~p[(f+3)%4]&p[(f+1)%4]),u--},c=function(p){for(f=3;f>=0;f--)p[f]-=h[p[(f+3)%4]&63]});var l=function(p){var g=[];for(f=0;f<4;f++){var x=i.getInt16Le();s!==null&&(r?x^=s.getInt16Le():s.putInt16Le(x)),g.push(x&65535)}u=r?0:63;for(var b=0;b<p.length;b++)for(var B=0;B<p[b][0];B++)p[b][1](g);for(f=0;f<4;f++)s!==null&&(r?s.putInt16Le(g[f]):g[f]^=s.getInt16Le()),a.putInt16Le(g[f])},d=null;return d={start:function(p,g){p&&typeof p=="string"&&(p=Nt.util.createBuffer(p)),n=!1,i=Nt.util.createBuffer(),a=g||new Nt.util.createBuffer,s=p,d.output=a},update:function(p){for(n||i.putBuffer(p);i.length()>=8;)l([[5,o],[1,c],[6,o],[1,c],[5,o]])},finish:function(p){var g=!0;if(r)if(p)g=p(8,i,!r);else{var x=i.length()===8?8:8-i.length();i.fillWithByte(x,x)}if(g&&(n=!0,d.update()),!r&&(g=i.length()===0,g))if(p)g=p(8,a,!r);else{var b=a.length(),B=a.at(b-1);B>b?g=!1:a.truncate(B)}return g}},d};Nt.rc2.startEncrypting=function(t,e,r){var n=Nt.rc2.createEncryptionCipher(t,128);return n.start(e,r),n};Nt.rc2.createEncryptionCipher=function(t,e){return r0(t,e,!0)};Nt.rc2.startDecrypting=function(t,e,r){var n=Nt.rc2.createDecryptionCipher(t,128);return n.start(e,r),n};Nt.rc2.createDecryptionCipher=function(t,e){return r0(t,e,!1)}});var Kn=P((f2,l0)=>{var ha=X();l0.exports=ha.jsbn=ha.jsbn||{};var be,bh=0xdeadbeefcafe,a0=(bh&16777215)==15715070;function w(t,e,r){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}ha.jsbn.BigInteger=w;function W(){return new w(null)}function wh(t,e,r,n,i,a){for(;--a>=0;){var s=e*this.data[t++]+r.data[n]+i;i=Math.floor(s/67108864),r.data[n++]=s&67108863}return i}function Eh(t,e,r,n,i,a){for(var s=e&32767,o=e>>15;--a>=0;){var c=this.data[t]&32767,f=this.data[t++]>>15,u=o*c+f*s;c=s*c+((u&32767)<<15)+r.data[n]+(i&1073741823),i=(c>>>30)+(u>>>15)+o*f+(i>>>30),r.data[n++]=c&1073741823}return i}function s0(t,e,r,n,i,a){for(var s=e&16383,o=e>>14;--a>=0;){var c=this.data[t]&16383,f=this.data[t++]>>14,u=o*c+f*s;c=s*c+((u&16383)<<14)+r.data[n]+i,i=(c>>28)+(u>>14)+o*f,r.data[n++]=c&268435455}return i}typeof navigator>"u"?(w.prototype.am=s0,be=28):a0&&navigator.appName=="Microsoft Internet Explorer"?(w.prototype.am=Eh,be=30):a0&&navigator.appName!="Netscape"?(w.prototype.am=wh,be=26):(w.prototype.am=s0,be=28);w.prototype.DB=be;w.prototype.DM=(1<<be)-1;w.prototype.DV=1<<be;var la=52;w.prototype.FV=Math.pow(2,la);w.prototype.F1=la-be;w.prototype.F2=2*be-la;var Sh="0123456789abcdefghijklmnopqrstuvwxyz",Pn=new Array,pr,Mt;pr="0".charCodeAt(0);for(Mt=0;Mt<=9;++Mt)Pn[pr++]=Mt;pr="a".charCodeAt(0);for(Mt=10;Mt<36;++Mt)Pn[pr++]=Mt;pr="A".charCodeAt(0);for(Mt=10;Mt<36;++Mt)Pn[pr++]=Mt;function o0(t){return Sh.charAt(t)}function f0(t,e){var r=Pn[t.charCodeAt(e)];return r??-1}function Bh(t){for(var e=this.t-1;e>=0;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s}function Ah(t){this.t=1,this.s=t<0?-1:0,t>0?this.data[0]=t:t<-1?this.data[0]=t+this.DV:this.t=0}function De(t){var e=W();return e.fromInt(t),e}function Ch(t,e){var r;if(e==16)r=4;else if(e==8)r=3;else if(e==256)r=8;else if(e==2)r=1;else if(e==32)r=5;else if(e==4)r=2;else{this.fromRadix(t,e);return}this.t=0,this.s=0;for(var n=t.length,i=!1,a=0;--n>=0;){var s=r==8?t[n]&255:f0(t,n);if(s<0){t.charAt(n)=="-"&&(i=!0);continue}i=!1,a==0?this.data[this.t++]=s:a+r>this.DB?(this.data[this.t-1]|=(s&(1<<this.DB-a)-1)<<a,this.data[this.t++]=s>>this.DB-a):this.data[this.t-1]|=s<<a,a+=r,a>=this.DB&&(a-=this.DB)}r==8&&t[0]&128&&(this.s=-1,a>0&&(this.data[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),i&&w.ZERO.subTo(this,this)}function Th(){for(var t=this.s&this.DM;this.t>0&&this.data[this.t-1]==t;)--this.t}function Ih(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(t==16)e=4;else if(t==8)e=3;else if(t==2)e=1;else if(t==32)e=5;else if(t==4)e=2;else return this.toRadix(t);var r=(1<<e)-1,n,i=!1,a="",s=this.t,o=this.DB-s*this.DB%e;if(s-- >0)for(o<this.DB&&(n=this.data[s]>>o)>0&&(i=!0,a=o0(n));s>=0;)o<e?(n=(this.data[s]&(1<<o)-1)<<e-o,n|=this.data[--s]>>(o+=this.DB-e)):(n=this.data[s]>>(o-=e)&r,o<=0&&(o+=this.DB,--s)),n>0&&(i=!0),i&&(a+=o0(n));return i?a:"0"}function _h(){var t=W();return w.ZERO.subTo(this,t),t}function Rh(){return this.s<0?this.negate():this}function Nh(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this.data[r]-t.data[r])!=0)return e;return 0}function Un(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function Dh(){return this.t<=0?0:this.DB*(this.t-1)+Un(this.data[this.t-1]^this.s&this.DM)}function Lh(t,e){var r;for(r=this.t-1;r>=0;--r)e.data[r+t]=this.data[r];for(r=t-1;r>=0;--r)e.data[r]=0;e.t=this.t+t,e.s=this.s}function kh(t,e){for(var r=t;r<this.t;++r)e.data[r-t]=this.data[r];e.t=Math.max(this.t-t,0),e.s=this.s}function Ph(t,e){var r=t%this.DB,n=this.DB-r,i=(1<<n)-1,a=Math.floor(t/this.DB),s=this.s<<r&this.DM,o;for(o=this.t-1;o>=0;--o)e.data[o+a+1]=this.data[o]>>n|s,s=(this.data[o]&i)<<r;for(o=a-1;o>=0;--o)e.data[o]=0;e.data[a]=s,e.t=this.t+a+1,e.s=this.s,e.clamp()}function Uh(t,e){e.s=this.s;var r=Math.floor(t/this.DB);if(r>=this.t){e.t=0;return}var n=t%this.DB,i=this.DB-n,a=(1<<n)-1;e.data[0]=this.data[r]>>n;for(var s=r+1;s<this.t;++s)e.data[s-r-1]|=(this.data[s]&a)<<i,e.data[s-r]=this.data[s]>>n;n>0&&(e.data[this.t-r-1]|=(this.s&a)<<i),e.t=this.t-r,e.clamp()}function Kh(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]-t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n-=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n-=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n-=t.s}e.s=n<0?-1:0,n<-1?e.data[r++]=this.DV+n:n>0&&(e.data[r++]=n),e.t=r,e.clamp()}function Oh(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e.data[i]=0;for(i=0;i<n.t;++i)e.data[i+r.t]=r.am(0,n.data[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&w.ZERO.subTo(e,e)}function Mh(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t.data[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e.data[r],t,2*r,0,1);(t.data[r+e.t]+=e.am(r+1,2*e.data[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t.data[r+e.t]-=e.DV,t.data[r+e.t+1]=1)}t.t>0&&(t.data[t.t-1]+=e.am(r,e.data[r],t,2*r,0,1)),t.s=0,t.clamp()}function Fh(t,e,r){var n=t.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){e?.fromInt(0),r!=null&&this.copyTo(r);return}r==null&&(r=W());var a=W(),s=this.s,o=t.s,c=this.DB-Un(n.data[n.t-1]);c>0?(n.lShiftTo(c,a),i.lShiftTo(c,r)):(n.copyTo(a),i.copyTo(r));var f=a.t,u=a.data[f-1];if(u!=0){var h=u*(1<<this.F1)+(f>1?a.data[f-2]>>this.F2:0),l=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,g=r.t,x=g-f,b=e??W();for(a.dlShiftTo(x,b),r.compareTo(b)>=0&&(r.data[r.t++]=1,r.subTo(b,r)),w.ONE.dlShiftTo(f,b),b.subTo(a,a);a.t<f;)a.data[a.t++]=0;for(;--x>=0;){var B=r.data[--g]==u?this.DM:Math.floor(r.data[g]*l+(r.data[g-1]+p)*d);if((r.data[g]+=a.am(0,B,r,x,0,f))<B)for(a.dlShiftTo(x,b),r.subTo(b,r);r.data[g]<--B;)r.subTo(b,r)}e!=null&&(r.drShiftTo(f,e),s!=o&&w.ZERO.subTo(e,e)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),s<0&&w.ZERO.subTo(r,r)}}}function Vh(t){var e=W();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(w.ZERO)>0&&t.subTo(e,e),e}function Ze(t){this.m=t}function qh(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function zh(t){return t}function Hh(t){t.divRemTo(this.m,null,t)}function Gh(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function Wh(t,e){t.squareTo(e),this.reduce(e)}Ze.prototype.convert=qh;Ze.prototype.revert=zh;Ze.prototype.reduce=Hh;Ze.prototype.mulTo=Gh;Ze.prototype.sqrTo=Wh;function $h(){if(this.t<1)return 0;var t=this.data[0];if(!(t&1))return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Ye(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function Zh(t){var e=W();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(w.ZERO)>0&&this.m.subTo(e,e),e}function Yh(t){var e=W();return t.copyTo(e),this.reduce(e),e}function Qh(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t.data[e]&32767,n=r*this.mpl+((r*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t.data[r]+=this.m.am(0,n,t,e,0,this.m.t);t.data[r]>=t.DV;)t.data[r]-=t.DV,t.data[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function Xh(t,e){t.squareTo(e),this.reduce(e)}function Jh(t,e,r){t.multiplyTo(e,r),this.reduce(r)}Ye.prototype.convert=Zh;Ye.prototype.revert=Yh;Ye.prototype.reduce=Qh;Ye.prototype.mulTo=Jh;Ye.prototype.sqrTo=Xh;function jh(){return(this.t>0?this.data[0]&1:this.s)==0}function tl(t,e){if(t>4294967295||t<1)return w.ONE;var r=W(),n=W(),i=e.convert(this),a=Un(t)-1;for(i.copyTo(r);--a>=0;)if(e.sqrTo(r,n),(t&1<<a)>0)e.mulTo(n,i,r);else{var s=r;r=n,n=s}return e.revert(r)}function el(t,e){var r;return t<256||e.isEven()?r=new Ze(e):r=new Ye(e),this.exp(t,r)}w.prototype.copyTo=Bh;w.prototype.fromInt=Ah;w.prototype.fromString=Ch;w.prototype.clamp=Th;w.prototype.dlShiftTo=Lh;w.prototype.drShiftTo=kh;w.prototype.lShiftTo=Ph;w.prototype.rShiftTo=Uh;w.prototype.subTo=Kh;w.prototype.multiplyTo=Oh;w.prototype.squareTo=Mh;w.prototype.divRemTo=Fh;w.prototype.invDigit=$h;w.prototype.isEven=jh;w.prototype.exp=tl;w.prototype.toString=Ih;w.prototype.negate=_h;w.prototype.abs=Rh;w.prototype.compareTo=Nh;w.prototype.bitLength=Dh;w.prototype.mod=Vh;w.prototype.modPowInt=el;w.ZERO=De(0);w.ONE=De(1);function rl(){var t=W();return this.copyTo(t),t}function nl(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function il(){return this.t==0?this.s:this.data[0]<<24>>24}function al(){return this.t==0?this.s:this.data[0]<<16>>16}function sl(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function ol(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function fl(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=De(r),i=W(),a=W(),s="";for(this.divRemTo(n,i,a);i.signum()>0;)s=(r+a.intValue()).toString(t).substr(1)+s,i.divRemTo(n,i,a);return a.intValue().toString(t)+s}function cl(t,e){this.fromInt(0),e==null&&(e=10);for(var r=this.chunkSize(e),n=Math.pow(e,r),i=!1,a=0,s=0,o=0;o<t.length;++o){var c=f0(t,o);if(c<0){t.charAt(o)=="-"&&this.signum()==0&&(i=!0);continue}s=e*s+c,++a>=r&&(this.dMultiply(n),this.dAddOffset(s,0),a=0,s=0)}a>0&&(this.dMultiply(Math.pow(e,a)),this.dAddOffset(s,0)),i&&w.ZERO.subTo(this,this)}function ul(t,e,r){if(typeof e=="number")if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(w.ONE.shiftLeft(t-1),pa,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(w.ONE.shiftLeft(t-1),this);else{var n=new Array,i=t&7;n.length=(t>>3)+1,e.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}}function hl(){var t=this.t,e=new Array;e[0]=this.s;var r=this.DB-t*this.DB%8,n,i=0;if(t-- >0)for(r<this.DB&&(n=this.data[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this.data[t]&(1<<r)-1)<<8-r,n|=this.data[--t]>>(r+=this.DB-8)):(n=this.data[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),n&128&&(n|=-256),i==0&&(this.s&128)!=(n&128)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e}function ll(t){return this.compareTo(t)==0}function pl(t){return this.compareTo(t)<0?this:t}function dl(t){return this.compareTo(t)>0?this:t}function yl(t,e,r){var n,i,a=Math.min(t.t,this.t);for(n=0;n<a;++n)r.data[n]=e(this.data[n],t.data[n]);if(t.t<this.t){for(i=t.s&this.DM,n=a;n<this.t;++n)r.data[n]=e(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=a;n<t.t;++n)r.data[n]=e(i,t.data[n]);r.t=t.t}r.s=e(this.s,t.s),r.clamp()}function gl(t,e){return t&e}function ml(t){var e=W();return this.bitwiseTo(t,gl,e),e}function pa(t,e){return t|e}function xl(t){var e=W();return this.bitwiseTo(t,pa,e),e}function c0(t,e){return t^e}function vl(t){var e=W();return this.bitwiseTo(t,c0,e),e}function u0(t,e){return t&~e}function bl(t){var e=W();return this.bitwiseTo(t,u0,e),e}function wl(){for(var t=W(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t}function El(t){var e=W();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function Sl(t){var e=W();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function Bl(t){if(t==0)return-1;var e=0;return t&65535||(t>>=16,e+=16),t&255||(t>>=8,e+=8),t&15||(t>>=4,e+=4),t&3||(t>>=2,e+=2),t&1||++e,e}function Al(){for(var t=0;t<this.t;++t)if(this.data[t]!=0)return t*this.DB+Bl(this.data[t]);return this.s<0?this.t*this.DB:-1}function Cl(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function Tl(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=Cl(this.data[r]^e);return t}function Il(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0}function _l(t,e){var r=w.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function Rl(t){return this.changeBit(t,pa)}function Nl(t){return this.changeBit(t,u0)}function Dl(t){return this.changeBit(t,c0)}function Ll(t,e){for(var r=0,n=0,i=Math.min(t.t,this.t);r<i;)n+=this.data[r]+t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;if(t.t<this.t){for(n+=t.s;r<this.t;)n+=this.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<t.t;)n+=t.data[r],e.data[r++]=n&this.DM,n>>=this.DB;n+=t.s}e.s=n<0?-1:0,n>0?e.data[r++]=n:n<-1&&(e.data[r++]=this.DV+n),e.t=r,e.clamp()}function kl(t){var e=W();return this.addTo(t,e),e}function Pl(t){var e=W();return this.subTo(t,e),e}function Ul(t){var e=W();return this.multiplyTo(t,e),e}function Kl(t){var e=W();return this.divRemTo(t,e,null),e}function Ol(t){var e=W();return this.divRemTo(t,null,e),e}function Ml(t){var e=W(),r=W();return this.divRemTo(t,e,r),new Array(e,r)}function Fl(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function Vl(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function zr(){}function h0(t){return t}function ql(t,e,r){t.multiplyTo(e,r)}function zl(t,e){t.squareTo(e)}zr.prototype.convert=h0;zr.prototype.revert=h0;zr.prototype.mulTo=ql;zr.prototype.sqrTo=zl;function Hl(t){return this.exp(t,new zr)}function Gl(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r.data[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r.data[n+this.t]=this.am(0,t.data[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t.data[n],r,n,0,e-n);r.clamp()}function Wl(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r.data[this.t+n-e]=this.am(e-n,t.data[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function dr(t){this.r2=W(),this.q3=W(),w.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function $l(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=W();return t.copyTo(e),this.reduce(e),e}function Zl(t){return t}function Yl(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}function Ql(t,e){t.squareTo(e),this.reduce(e)}function Xl(t,e,r){t.multiplyTo(e,r),this.reduce(r)}dr.prototype.convert=$l;dr.prototype.revert=Zl;dr.prototype.reduce=Yl;dr.prototype.mulTo=Xl;dr.prototype.sqrTo=Ql;function Jl(t,e){var r=t.bitLength(),n,i=De(1),a;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?a=new Ze(e):e.isEven()?a=new dr(e):a=new Ye(e);var s=new Array,o=3,c=n-1,f=(1<<n)-1;if(s[1]=a.convert(this),n>1){var u=W();for(a.sqrTo(s[1],u);o<=f;)s[o]=W(),a.mulTo(u,s[o-2],s[o]),o+=2}var h=t.t-1,l,d=!0,p=W(),g;for(r=Un(t.data[h])-1;h>=0;){for(r>=c?l=t.data[h]>>r-c&f:(l=(t.data[h]&(1<<r+1)-1)<<c-r,h>0&&(l|=t.data[h-1]>>this.DB+r-c)),o=n;!(l&1);)l>>=1,--o;if((r-=o)<0&&(r+=this.DB,--h),d)s[l].copyTo(i),d=!1;else{for(;o>1;)a.sqrTo(i,p),a.sqrTo(p,i),o-=2;o>0?a.sqrTo(i,p):(g=i,i=p,p=g),a.mulTo(p,s[l],i)}for(;h>=0&&!(t.data[h]&1<<r);)a.sqrTo(i,p),g=i,i=p,p=g,--r<0&&(r=this.DB-1,--h)}return a.revert(i)}function jl(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),a=r.getLowestSetBit();if(a<0)return e;for(i<a&&(a=i),a>0&&(e.rShiftTo(a,e),r.rShiftTo(a,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return a>0&&r.lShiftTo(a,r),r}function tp(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this.data[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this.data[n])%t;return r}function ep(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return w.ZERO;for(var r=t.clone(),n=this.clone(),i=De(1),a=De(0),s=De(0),o=De(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!a.isEven())&&(i.addTo(this,i),a.subTo(t,a)),i.rShiftTo(1,i)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;n.isEven();)n.rShiftTo(1,n),e?((!s.isEven()||!o.isEven())&&(s.addTo(this,s),o.subTo(t,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(s,i),a.subTo(o,a)):(n.subTo(r,n),e&&s.subTo(i,s),o.subTo(a,o))}if(n.compareTo(w.ONE)!=0)return w.ZERO;if(o.compareTo(t)>=0)return o.subtract(t);if(o.signum()<0)o.addTo(t,o);else return o;return o.signum()<0?o.add(t):o}var $t=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],rp=(1<<26)/$t[$t.length-1];function np(t){var e,r=this.abs();if(r.t==1&&r.data[0]<=$t[$t.length-1]){for(e=0;e<$t.length;++e)if(r.data[0]==$t[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<$t.length;){for(var n=$t[e],i=e+1;i<$t.length&&n<rp;)n*=$t[i++];for(n=r.modInt(n);e<i;)if(n%$t[e++]==0)return!1}return r.millerRabin(t)}function ip(t){var e=this.subtract(w.ONE),r=e.getLowestSetBit();if(r<=0)return!1;for(var n=e.shiftRight(r),i=ap(),a,s=0;s<t;++s){do a=new w(this.bitLength(),i);while(a.compareTo(w.ONE)<=0||a.compareTo(e)>=0);var o=a.modPow(n,this);if(o.compareTo(w.ONE)!=0&&o.compareTo(e)!=0){for(var c=1;c++<r&&o.compareTo(e)!=0;)if(o=o.modPowInt(2,this),o.compareTo(w.ONE)==0)return!1;if(o.compareTo(e)!=0)return!1}}return!0}function ap(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(Math.random()*256)}}}w.prototype.chunkSize=sl;w.prototype.toRadix=fl;w.prototype.fromRadix=cl;w.prototype.fromNumber=ul;w.prototype.bitwiseTo=yl;w.prototype.changeBit=_l;w.prototype.addTo=Ll;w.prototype.dMultiply=Fl;w.prototype.dAddOffset=Vl;w.prototype.multiplyLowerTo=Gl;w.prototype.multiplyUpperTo=Wl;w.prototype.modInt=tp;w.prototype.millerRabin=ip;w.prototype.clone=rl;w.prototype.intValue=nl;w.prototype.byteValue=il;w.prototype.shortValue=al;w.prototype.signum=ol;w.prototype.toByteArray=hl;w.prototype.equals=ll;w.prototype.min=pl;w.prototype.max=dl;w.prototype.and=ml;w.prototype.or=xl;w.prototype.xor=vl;w.prototype.andNot=bl;w.prototype.not=wl;w.prototype.shiftLeft=El;w.prototype.shiftRight=Sl;w.prototype.getLowestSetBit=Al;w.prototype.bitCount=Tl;w.prototype.testBit=Il;w.prototype.setBit=Rl;w.prototype.clearBit=Nl;w.prototype.flipBit=Dl;w.prototype.add=kl;w.prototype.subtract=Pl;w.prototype.multiply=Ul;w.prototype.divide=Kl;w.prototype.remainder=Ol;w.prototype.divideAndRemainder=Ml;w.prototype.modPow=Jl;w.prototype.modInverse=ep;w.prototype.pow=Hl;w.prototype.gcd=jl;w.prototype.isProbablePrime=np});var m0=P((c2,g0)=>{var ae=X();$e();lt();var d0=g0.exports=ae.sha1=ae.sha1||{};ae.md.sha1=ae.md.algorithms.sha1=d0;d0.create=function(){y0||sp();var t=null,e=ae.util.createBuffer(),r=new Array(80),n={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return n.start=function(){n.messageLength=0,n.fullMessageLength=n.messageLength64=[];for(var i=n.messageLengthSize/4,a=0;a<i;++a)n.fullMessageLength.push(0);return e=ae.util.createBuffer(),t={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},n},n.start(),n.update=function(i,a){a==="utf8"&&(i=ae.util.encodeUtf8(i));var s=i.length;n.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var o=n.fullMessageLength.length-1;o>=0;--o)n.fullMessageLength[o]+=s[1],s[1]=s[0]+(n.fullMessageLength[o]/4294967296>>>0),n.fullMessageLength[o]=n.fullMessageLength[o]>>>0,s[0]=s[1]/4294967296>>>0;return e.putBytes(i),p0(t,r,e),(e.read>2048||e.length()===0)&&e.compact(),n},n.digest=function(){var i=ae.util.createBuffer();i.putBytes(e.bytes());var a=n.fullMessageLength[n.fullMessageLength.length-1]+n.messageLengthSize,s=a&n.blockLength-1;i.putBytes(da.substr(0,n.blockLength-s));for(var o,c,f=n.fullMessageLength[0]*8,u=0;u<n.fullMessageLength.length-1;++u)o=n.fullMessageLength[u+1]*8,c=o/4294967296>>>0,f+=c,i.putInt32(f>>>0),f=o>>>0;i.putInt32(f);var h={h0:t.h0,h1:t.h1,h2:t.h2,h3:t.h3,h4:t.h4};p0(h,r,i);var l=ae.util.createBuffer();return l.putInt32(h.h0),l.putInt32(h.h1),l.putInt32(h.h2),l.putInt32(h.h3),l.putInt32(h.h4),l},n};var da=null,y0=!1;function sp(){da=String.fromCharCode(128),da+=ae.util.fillString(String.fromCharCode(0),64),y0=!0}function p0(t,e,r){for(var n,i,a,s,o,c,f,u,h=r.length();h>=64;){for(i=t.h0,a=t.h1,s=t.h2,o=t.h3,c=t.h4,u=0;u<16;++u)n=r.getInt32(),e[u]=n,f=o^a&(s^o),n=(i<<5|i>>>27)+f+c+1518500249+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<20;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,f=o^a&(s^o),n=(i<<5|i>>>27)+f+c+1518500249+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<32;++u)n=e[u-3]^e[u-8]^e[u-14]^e[u-16],n=n<<1|n>>>31,e[u]=n,f=a^s^o,n=(i<<5|i>>>27)+f+c+1859775393+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<40;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,f=a^s^o,n=(i<<5|i>>>27)+f+c+1859775393+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<60;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,f=a&s|o&(a^s),n=(i<<5|i>>>27)+f+c+2400959708+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;for(;u<80;++u)n=e[u-6]^e[u-16]^e[u-28]^e[u-32],n=n<<2|n>>>30,e[u]=n,f=a^s^o,n=(i<<5|i>>>27)+f+c+3395469782+n,c=o,o=s,s=(a<<30|a>>>2)>>>0,a=i,i=n;t.h0=t.h0+i|0,t.h1=t.h1+a|0,t.h2=t.h2+s|0,t.h3=t.h3+o|0,t.h4=t.h4+c|0,h-=64}}});var b0=P((u2,v0)=>{var se=X();lt();qr();m0();var x0=v0.exports=se.pkcs1=se.pkcs1||{};x0.encode_rsa_oaep=function(t,e,r){var n,i,a,s;typeof r=="string"?(n=r,i=arguments[3]||void 0,a=arguments[4]||void 0):r&&(n=r.label||void 0,i=r.seed||void 0,a=r.md||void 0,r.mgf1&&r.mgf1.md&&(s=r.mgf1.md)),a?a.start():a=se.md.sha1.create(),s||(s=a);var o=Math.ceil(t.n.bitLength()/8),c=o-2*a.digestLength-2;if(e.length>c){var f=new Error("RSAES-OAEP input message length is too long.");throw f.length=e.length,f.maxLength=c,f}n||(n=""),a.update(n,"raw");for(var u=a.digest(),h="",l=c-e.length,d=0;d<l;d++)h+="\0";var p=u.getBytes()+h+""+e;if(!i)i=se.random.getBytes(a.digestLength);else if(i.length!==a.digestLength){var f=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw f.seedLength=i.length,f.digestLength=a.digestLength,f}var g=On(i,o-a.digestLength-1,s),x=se.util.xorBytes(p,g,p.length),b=On(x,a.digestLength,s),B=se.util.xorBytes(i,b,i.length);return"\0"+B+x};x0.decode_rsa_oaep=function(t,e,r){var n,i,a;typeof r=="string"?(n=r,i=arguments[3]||void 0):r&&(n=r.label||void 0,i=r.md||void 0,r.mgf1&&r.mgf1.md&&(a=r.mgf1.md));var s=Math.ceil(t.n.bitLength()/8);if(e.length!==s){var x=new Error("RSAES-OAEP encoded message length is invalid.");throw x.length=e.length,x.expectedLength=s,x}if(i===void 0?i=se.md.sha1.create():i.start(),a||(a=i),s<2*i.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");n||(n=""),i.update(n,"raw");for(var o=i.digest().getBytes(),c=e.charAt(0),f=e.substring(1,i.digestLength+1),u=e.substring(1+i.digestLength),h=On(u,i.digestLength,a),l=se.util.xorBytes(f,h,f.length),d=On(l,s-i.digestLength-1,a),p=se.util.xorBytes(u,d,u.length),g=p.substring(0,i.digestLength),x=c!=="\0",b=0;b<i.digestLength;++b)x|=o.charAt(b)!==g.charAt(b);for(var B=1,A=i.digestLength,L=i.digestLength;L<p.length;L++){var I=p.charCodeAt(L),_=I&1^1,F=B?65534:0;x|=I&F,B=B&_,A+=B}if(x||p.charCodeAt(A)!==1)throw new Error("Invalid RSAES-OAEP padding.");return p.substring(A+1)};function On(t,e,r){r||(r=se.md.sha1.create());for(var n="",i=Math.ceil(e/r.digestLength),a=0;a<i;++a){var s=String.fromCharCode(a>>24&255,a>>16&255,a>>8&255,a&255);r.start(),r.update(t+s),n+=r.digest().getBytes()}return n.substring(0,e)}});var w0=P((h2,ya)=>{var Le=X();lt();Kn();qr();(function(){if(Le.prime){ya.exports=Le.prime;return}var t=ya.exports=Le.prime=Le.prime||{},e=Le.jsbn.BigInteger,r=[6,4,2,4,2,4,6,2],n=new e(null);n.fromInt(30);var i=function(h,l){return h|l};t.generateProbablePrime=function(h,l,d){typeof l=="function"&&(d=l,l={}),l=l||{};var p=l.algorithm||"PRIMEINC";typeof p=="string"&&(p={name:p}),p.options=p.options||{};var g=l.prng||Le.random,x={nextBytes:function(b){for(var B=g.getBytesSync(b.length),A=0;A<b.length;++A)b[A]=B.charCodeAt(A)}};if(p.name==="PRIMEINC")return a(h,x,p.options,d);throw new Error("Invalid prime generation algorithm: "+p.name)};function a(h,l,d,p){return"workers"in d?c(h,l,d,p):s(h,l,d,p)}function s(h,l,d,p){var g=f(h,l),x=0,b=u(g.bitLength());"millerRabinTests"in d&&(b=d.millerRabinTests);var B=10;"maxBlockTime"in d&&(B=d.maxBlockTime),o(g,h,l,x,b,B,p)}function o(h,l,d,p,g,x,b){var B=+new Date;do{if(h.bitLength()>l&&(h=f(l,d)),h.isProbablePrime(g))return b(null,h);h.dAddOffset(r[p++%8],0)}while(x<0||+new Date-B<x);Le.util.setImmediate(function(){o(h,l,d,p,g,x,b)})}function c(h,l,d,p){if(typeof Worker>"u")return s(h,l,d,p);var g=f(h,l),x=d.workers,b=d.workLoad||100,B=b*30/8,A=d.workerScript||"forge/prime.worker.js";if(x===-1)return Le.util.estimateCores(function(I,_){I&&(_=2),x=_-1,L()});L();function L(){x=Math.max(1,x);for(var I=[],_=0;_<x;++_)I[_]=new Worker(A);for(var F=x,_=0;_<x;++_)I[_].addEventListener("message",Et);var $=!1;function Et(zt){if(!$){--F;var kt=zt.data;if(kt.found){for(var Ct=0;Ct<I.length;++Ct)I[Ct].terminate();return $=!0,p(null,new e(kt.prime,16))}g.bitLength()>h&&(g=f(h,l));var nr=g.toString(16);zt.target.postMessage({hex:nr,workLoad:b}),g.dAddOffset(B,0)}}}}function f(h,l){var d=new e(h,l),p=h-1;return d.testBit(p)||d.bitwiseTo(e.ONE.shiftLeft(p),i,d),d.dAddOffset(31-d.mod(n).byteValue(),0),d}function u(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}})()});var Fn=P((l2,I0)=>{var D=X();Vr();Kn();An();b0();w0();qr();lt();typeof V>"u"&&(V=D.jsbn.BigInteger);var V,ga=D.util.isNodejs?lr():null,m=D.asn1,Ft=D.util;D.pki=D.pki||{};I0.exports=D.pki.rsa=D.rsa=D.rsa||{};var U=D.pki,op=[6,4,2,4,2,4,6,2],fp={name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},cp={name:"RSAPrivateKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},up={name:"RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:m.Class.UNIVERSAL,type:m.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},hp=D.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},lp={name:"DigestInfo",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:m.Class.UNIVERSAL,type:m.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:m.Class.UNIVERSAL,type:m.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:m.Class.UNIVERSAL,type:m.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:m.Class.UNIVERSAL,type:m.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},pp=function(t){var e;if(t.algorithm in U.oids)e=U.oids[t.algorithm];else{var r=new Error("Unknown message digest algorithm.");throw r.algorithm=t.algorithm,r}var n=m.oidToDer(e).getBytes(),i=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]),a=m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[]);a.value.push(m.create(m.Class.UNIVERSAL,m.Type.OID,!1,n)),a.value.push(m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,""));var s=m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,t.digest().getBytes());return i.value.push(a),i.value.push(s),m.toDer(i).getBytes()},C0=function(t,e,r){if(r)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(V.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(V.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var n;do n=new V(D.util.bytesToHex(D.random.getBytes(e.n.bitLength()/8)),16);while(n.compareTo(e.n)>=0||!n.gcd(e.n).equals(V.ONE));t=t.multiply(n.modPow(e.e,e.n)).mod(e.n);for(var i=t.mod(e.p).modPow(e.dP,e.p),a=t.mod(e.q).modPow(e.dQ,e.q);i.compareTo(a)<0;)i=i.add(e.p);var s=i.subtract(a).multiply(e.qInv).mod(e.p).multiply(e.q).add(a);return s=s.multiply(n.modInverse(e.n)).mod(e.n),s};U.rsa.encrypt=function(t,e,r){var n=r,i,a=Math.ceil(e.n.bitLength()/8);r!==!1&&r!==!0?(n=r===2,i=T0(t,e,r)):(i=D.util.createBuffer(),i.putBytes(t));for(var s=new V(i.toHex(),16),o=C0(s,e,n),c=o.toString(16),f=D.util.createBuffer(),u=a-Math.ceil(c.length/2);u>0;)f.putByte(0),--u;return f.putBytes(D.util.hexToBytes(c)),f.getBytes()};U.rsa.decrypt=function(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8);if(t.length!==i){var a=new Error("Encrypted message length is invalid.");throw a.length=t.length,a.expected=i,a}var s=new V(D.util.createBuffer(t).toHex(),16);if(s.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var o=C0(s,e,r),c=o.toString(16),f=D.util.createBuffer(),u=i-Math.ceil(c.length/2);u>0;)f.putByte(0),--u;return f.putBytes(D.util.hexToBytes(c)),n!==!1?Mn(f.getBytes(),e,r):f.getBytes()};U.rsa.createKeyPairGenerationState=function(t,e,r){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048,r=r||{};var n=r.prng||D.random,i={nextBytes:function(o){for(var c=n.getBytesSync(o.length),f=0;f<o.length;++f)o[f]=c.charCodeAt(f)}},a=r.algorithm||"PRIMEINC",s;if(a==="PRIMEINC")s={algorithm:a,state:0,bits:t,rng:i,eInt:e||65537,e:new V(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null},s.e.fromInt(s.eInt);else throw new Error("Invalid key generation algorithm: "+a);return s};U.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var r=new V(null);r.fromInt(30);for(var n=0,i=function(h,l){return h|l},a=+new Date,s,o=0;t.keys===null&&(e<=0||o<e);){if(t.state===0){var c=t.p===null?t.pBits:t.qBits,f=c-1;t.pqState===0?(t.num=new V(c,t.rng),t.num.testBit(f)||t.num.bitwiseTo(V.ONE.shiftLeft(f),i,t.num),t.num.dAddOffset(31-t.num.mod(r).byteValue(),0),n=0,++t.pqState):t.pqState===1?t.num.bitLength()>c?t.pqState=0:t.num.isProbablePrime(yp(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(op[n++%8],0):t.pqState===2?t.pqState=t.num.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else if(t.state===1)t.p.compareTo(t.q)<0&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state;else if(t.state===2)t.p1=t.p.subtract(V.ONE),t.q1=t.q.subtract(V.ONE),t.phi=t.p1.multiply(t.q1),++t.state;else if(t.state===3)t.phi.gcd(t.e).compareTo(V.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0);else if(t.state===4)t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0);else if(t.state===5){var u=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)}}s=+new Date,o+=s-a,a=s}return t.keys!==null};U.rsa.generateKeyPair=function(t,e,r,n){if(arguments.length===1?typeof t=="object"?(r=t,t=void 0):typeof t=="function"&&(n=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(n=e,e=void 0):typeof e!="number"&&(r=e,e=void 0):(r=t,n=e,t=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof r=="function"&&(n=r,r=void 0):(n=r,r=e,e=void 0)),r=r||{},t===void 0&&(t=r.bits||2048),e===void 0&&(e=r.e||65537),!D.options.usePureJavaScript&&!r.prng&&t>=256&&t<=16384&&(e===65537||e===3)){if(n){if(E0("generateKeyPair"))return ga.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(o,c,f){if(o)return n(o);n(null,{privateKey:U.privateKeyFromPem(f),publicKey:U.publicKeyFromPem(c)})});if(S0("generateKey")&&S0("exportKey"))return Ft.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:A0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(o){return Ft.globalScope.crypto.subtle.exportKey("pkcs8",o.privateKey)}).then(void 0,function(o){n(o)}).then(function(o){if(o){var c=U.privateKeyFromAsn1(m.fromDer(D.util.createBuffer(o)));n(null,{privateKey:c,publicKey:U.setRsaPublicKey(c.n,c.e)})}});if(B0("generateKey")&&B0("exportKey")){var i=Ft.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:A0(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);i.oncomplete=function(o){var c=o.target.result,f=Ft.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);f.oncomplete=function(u){var h=u.target.result,l=U.privateKeyFromAsn1(m.fromDer(D.util.createBuffer(h)));n(null,{privateKey:l,publicKey:U.setRsaPublicKey(l.n,l.e)})},f.onerror=function(u){n(u)}},i.onerror=function(o){n(o)};return}}else if(E0("generateKeyPairSync")){var a=ga.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:U.privateKeyFromPem(a.privateKey),publicKey:U.publicKeyFromPem(a.publicKey)}}}var s=U.rsa.createKeyPairGenerationState(t,e,r);if(!n)return U.rsa.stepKeyPairGenerationState(s,0),s.keys;dp(s,r,n)};U.setRsaPublicKey=U.rsa.setPublicKey=function(t,e){var r={n:t,e};return r.encrypt=function(n,i,a){if(typeof i=="string"?i=i.toUpperCase():i===void 0&&(i="RSAES-PKCS1-V1_5"),i==="RSAES-PKCS1-V1_5")i={encode:function(o,c,f){return T0(o,c,2).getBytes()}};else if(i==="RSA-OAEP"||i==="RSAES-OAEP")i={encode:function(o,c){return D.pkcs1.encode_rsa_oaep(c,o,a)}};else if(["RAW","NONE","NULL",null].indexOf(i)!==-1)i={encode:function(o){return o}};else if(typeof i=="string")throw new Error('Unsupported encryption scheme: "'+i+'".');var s=i.encode(n,r,!0);return U.rsa.encrypt(s,r,!0)},r.verify=function(n,i,a,s){typeof a=="string"?a=a.toUpperCase():a===void 0&&(a="RSASSA-PKCS1-V1_5"),s===void 0&&(s={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in s||(s._parseAllDigestBytes=!0),a==="RSASSA-PKCS1-V1_5"?a={verify:function(c,f){f=Mn(f,r,!0);var u=m.fromDer(f,{parseAllBytes:s._parseAllDigestBytes}),h={},l=[];if(!m.validate(u,lp,h,l)){var d=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw d.errors=l,d}var p=m.derToOid(h.algorithmIdentifier);if(!(p===D.oids.md2||p===D.oids.md5||p===D.oids.sha1||p===D.oids.sha224||p===D.oids.sha256||p===D.oids.sha384||p===D.oids.sha512||p===D.oids["sha512-224"]||p===D.oids["sha512-256"])){var d=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw d.oid=p,d}if((p===D.oids.md2||p===D.oids.md5)&&!("parameters"in h))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return c===h.digest}}:(a==="NONE"||a==="NULL"||a===null)&&(a={verify:function(c,f){return f=Mn(f,r,!0),c===f}});var o=U.rsa.decrypt(i,r,!0,!1);return a.verify(n,o,r.n.bitLength())},r};U.setRsaPrivateKey=U.rsa.setPrivateKey=function(t,e,r,n,i,a,s,o){var c={n:t,e,d:r,p:n,q:i,dP:a,dQ:s,qInv:o};return c.decrypt=function(f,u,h){typeof u=="string"?u=u.toUpperCase():u===void 0&&(u="RSAES-PKCS1-V1_5");var l=U.rsa.decrypt(f,c,!1,!1);if(u==="RSAES-PKCS1-V1_5")u={decode:Mn};else if(u==="RSA-OAEP"||u==="RSAES-OAEP")u={decode:function(d,p){return D.pkcs1.decode_rsa_oaep(p,d,h)}};else if(["RAW","NONE","NULL",null].indexOf(u)!==-1)u={decode:function(d){return d}};else throw new Error('Unsupported encryption scheme: "'+u+'".');return u.decode(l,c,!1)},c.sign=function(f,u){var h=!1;typeof u=="string"&&(u=u.toUpperCase()),u===void 0||u==="RSASSA-PKCS1-V1_5"?(u={encode:pp},h=1):(u==="NONE"||u==="NULL"||u===null)&&(u={encode:function(){return f}},h=1);var l=u.encode(f,c.n.bitLength());return U.rsa.encrypt(l,c,h)},c};U.wrapRsaPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(U.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.OCTETSTRING,!1,m.toDer(t).getBytes())])};U.privateKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,fp,e,r)&&(t=m.fromDer(D.util.createBuffer(e.privateKey))),e={},r=[],!m.validate(t,cp,e,r)){var n=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw n.errors=r,n}var i,a,s,o,c,f,u,h;return i=D.util.createBuffer(e.privateKeyModulus).toHex(),a=D.util.createBuffer(e.privateKeyPublicExponent).toHex(),s=D.util.createBuffer(e.privateKeyPrivateExponent).toHex(),o=D.util.createBuffer(e.privateKeyPrime1).toHex(),c=D.util.createBuffer(e.privateKeyPrime2).toHex(),f=D.util.createBuffer(e.privateKeyExponent1).toHex(),u=D.util.createBuffer(e.privateKeyExponent2).toHex(),h=D.util.createBuffer(e.privateKeyCoefficient).toHex(),U.setRsaPrivateKey(new V(i,16),new V(a,16),new V(s,16),new V(o,16),new V(c,16),new V(f,16),new V(u,16),new V(h,16))};U.privateKeyToAsn1=U.privateKeyToRSAPrivateKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,m.integerToDer(0).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.e)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.d)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.p)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.q)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.dP)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.dQ)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.qInv))])};U.publicKeyFromAsn1=function(t){var e={},r=[];if(m.validate(t,hp,e,r)){var n=m.derToOid(e.publicKeyOid);if(n!==U.oids.rsaEncryption){var i=new Error("Cannot read public key. Unknown OID.");throw i.oid=n,i}t=e.rsaPublicKey}if(r=[],!m.validate(t,up,e,r)){var i=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw i.errors=r,i}var a=D.util.createBuffer(e.publicKeyModulus).toHex(),s=D.util.createBuffer(e.publicKeyExponent).toHex();return U.setRsaPublicKey(new V(a,16),new V(s,16))};U.publicKeyToAsn1=U.publicKeyToSubjectPublicKeyInfo=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.OID,!1,m.oidToDer(U.oids.rsaEncryption).getBytes()),m.create(m.Class.UNIVERSAL,m.Type.NULL,!1,"")]),m.create(m.Class.UNIVERSAL,m.Type.BITSTRING,!1,[U.publicKeyToRSAPublicKey(t)])])};U.publicKeyToRSAPublicKey=function(t){return m.create(m.Class.UNIVERSAL,m.Type.SEQUENCE,!0,[m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.n)),m.create(m.Class.UNIVERSAL,m.Type.INTEGER,!1,oe(t.e))])};function T0(t,e,r){var n=D.util.createBuffer(),i=Math.ceil(e.n.bitLength()/8);if(t.length>i-11){var a=new Error("Message is too long for PKCS#1 v1.5 padding.");throw a.length=t.length,a.max=i-11,a}n.putByte(0),n.putByte(r);var s=i-3-t.length,o;if(r===0||r===1){o=r===0?0:255;for(var c=0;c<s;++c)n.putByte(o)}else for(;s>0;){for(var f=0,u=D.random.getBytes(s),c=0;c<s;++c)o=u.charCodeAt(c),o===0?++f:n.putByte(o);s=f}return n.putByte(0),n.putBytes(t),n}function Mn(t,e,r,n){var i=Math.ceil(e.n.bitLength()/8),a=D.util.createBuffer(t),s=a.getByte(),o=a.getByte();if(s!==0||r&&o!==0&&o!==1||!r&&o!=2||r&&o===0&&typeof n>"u")throw new Error("Encryption block is invalid.");var c=0;if(o===0){c=i-3-n;for(var f=0;f<c;++f)if(a.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(o===1)for(c=0;a.length()>1;){if(a.getByte()!==255){--a.read;break}++c}else if(o===2)for(c=0;a.length()>1;){if(a.getByte()===0){--a.read;break}++c}var u=a.getByte();if(u!==0||c!==i-3-a.length())throw new Error("Encryption block is invalid.");return a.getBytes()}function dp(t,e,r){typeof e=="function"&&(r=e,e={}),e=e||{};var n={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(n.prng=e.prng),i();function i(){a(t.pBits,function(o,c){if(o)return r(o);if(t.p=c,t.q!==null)return s(o,t.q);a(t.qBits,s)})}function a(o,c){D.prime.generateProbablePrime(o,n,c)}function s(o,c){if(o)return r(o);if(t.q=c,t.p.compareTo(t.q)<0){var f=t.p;t.p=t.q,t.q=f}if(t.p.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)!==0){t.p=null,i();return}if(t.q.subtract(V.ONE).gcd(t.e).compareTo(V.ONE)!==0){t.q=null,a(t.qBits,s);return}if(t.p1=t.p.subtract(V.ONE),t.q1=t.q.subtract(V.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(V.ONE)!==0){t.p=t.q=null,i();return}if(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits){t.q=null,a(t.qBits,s);return}var u=t.e.modInverse(t.phi);t.keys={privateKey:U.rsa.setPrivateKey(t.n,t.e,u,t.p,t.q,u.mod(t.p1),u.mod(t.q1),t.q.modInverse(t.p)),publicKey:U.rsa.setPublicKey(t.n,t.e)},r(null,t.keys)}}function oe(t){var e=t.toString(16);e[0]>="8"&&(e="00"+e);var r=D.util.hexToBytes(e);return r.length>1&&(r.charCodeAt(0)===0&&!(r.charCodeAt(1)&128)||r.charCodeAt(0)===255&&(r.charCodeAt(1)&128)===128)?r.substr(1):r}function yp(t){return t<=100?27:t<=150?18:t<=200?15:t<=250?12:t<=300?9:t<=350?8:t<=400?7:t<=500?6:t<=600?5:t<=800?4:t<=1250?3:2}function E0(t){return D.util.isNodejs&&typeof ga[t]=="function"}function S0(t){return typeof Ft.globalScope<"u"&&typeof Ft.globalScope.crypto=="object"&&typeof Ft.globalScope.crypto.subtle=="object"&&typeof Ft.globalScope.crypto.subtle[t]=="function"}function B0(t){return typeof Ft.globalScope<"u"&&typeof Ft.globalScope.msCrypto=="object"&&typeof Ft.globalScope.msCrypto.subtle=="object"&&typeof Ft.globalScope.msCrypto.subtle[t]=="function"}function A0(t){for(var e=D.util.hexToBytes(t.toString(16)),r=new Uint8Array(e.length),n=0;n<e.length;++n)r[n]=e.charCodeAt(n);return r}});var k0=P((p2,L0)=>{var T=X();oa();Vr();Oo();$e();An();zo();Wo();qr();i0();Fn();lt();typeof _0>"u"&&(_0=T.jsbn.BigInteger);var _0,v=T.asn1,K=T.pki=T.pki||{};L0.exports=K.pbe=T.pbe=T.pbe||{};var Qe=K.oids,gp={name:"EncryptedPrivateKeyInfo",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},mp={name:"PBES2Algorithms",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:v.Class.UNIVERSAL,type:v.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},xp={name:"pkcs-12PbeParams",tagClass:v.Class.UNIVERSAL,type:v.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:v.Class.UNIVERSAL,type:v.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:v.Class.UNIVERSAL,type:v.Type.INTEGER,constructed:!1,capture:"iterations"}]};K.encryptPrivateKeyInfo=function(t,e,r){r=r||{},r.saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n=T.random.getBytesSync(r.saltSize),i=r.count,a=v.integerToDer(i),s,o,c;if(r.algorithm.indexOf("aes")===0||r.algorithm==="des"){var f,u,h;switch(r.algorithm){case"aes128":s=16,f=16,u=Qe["aes128-CBC"],h=T.aes.createEncryptionCipher;break;case"aes192":s=24,f=16,u=Qe["aes192-CBC"],h=T.aes.createEncryptionCipher;break;case"aes256":s=32,f=16,u=Qe["aes256-CBC"],h=T.aes.createEncryptionCipher;break;case"des":s=8,f=8,u=Qe.desCBC,h=T.des.createEncryptionCipher;break;default:var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=D0(d),g=T.pkcs5.pbkdf2(e,n,i,s,p),x=T.random.getBytesSync(f),b=h(g);b.start(x),b.update(v.toDer(t)),b.finish(),c=b.output.getBytes();var B=vp(n,a,s,d);o=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(Qe.pkcs5PBES2).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(Qe.pkcs5PBKDF2).getBytes()),B]),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(u).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,x)])])])}else if(r.algorithm==="3des"){s=24;var A=new T.util.ByteBuffer(n),g=K.pbe.generatePkcs12Key(e,A,1,i,s),x=K.pbe.generatePkcs12Key(e,A,2,i,s),b=T.des.createEncryptionCipher(g);b.start(x),b.update(v.toDer(t)),b.finish(),c=b.output.getBytes(),o=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(Qe["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,n),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,a.getBytes())])])}else{var l=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw l.algorithm=r.algorithm,l}var L=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[o,v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,c)]);return L};K.decryptPrivateKeyInfo=function(t,e){var r=null,n={},i=[];if(!v.validate(t,gp,n,i)){var a=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=v.derToOid(n.encryptionOid),o=K.pbe.getCipher(s,n.encryptionParams,e),c=T.util.createBuffer(n.encryptedData);return o.update(c),o.finish()&&(r=v.fromDer(o.output)),r};K.encryptedPrivateKeyToPem=function(t,e){var r={type:"ENCRYPTED PRIVATE KEY",body:v.toDer(t).getBytes()};return T.pem.encode(r,{maxline:e})};K.encryptedPrivateKeyFromPem=function(t){var e=T.pem.decode(t)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=e.type,r}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return v.fromDer(e.body)};K.encryptRsaPrivateKey=function(t,e,r){if(r=r||{},!r.legacy){var n=K.wrapRsaPrivateKey(K.privateKeyToAsn1(t));return n=K.encryptPrivateKeyInfo(n,e,r),K.encryptedPrivateKeyToPem(n)}var i,a,s,o;switch(r.algorithm){case"aes128":i="AES-128-CBC",s=16,a=T.random.getBytesSync(16),o=T.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",s=24,a=T.random.getBytesSync(16),o=T.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",s=32,a=T.random.getBytesSync(16),o=T.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",s=24,a=T.random.getBytesSync(8),o=T.des.createEncryptionCipher;break;case"des":i="DES-CBC",s=8,a=T.random.getBytesSync(8),o=T.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var f=T.pbe.opensslDeriveBytes(e,a.substr(0,8),s),u=o(f);u.start(a),u.update(v.toDer(K.privateKeyToAsn1(t))),u.finish();var h={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:T.util.bytesToHex(a).toUpperCase()},body:u.output.getBytes()};return T.pem.encode(h)};K.decryptRsaPrivateKey=function(t,e){var r=null,n=T.pem.decode(t)[0];if(n.type!=="ENCRYPTED PRIVATE KEY"&&n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var i=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw i.headerType=i,i}if(n.procType&&n.procType.type==="ENCRYPTED"){var a,s;switch(n.dekInfo.algorithm){case"DES-CBC":a=8,s=T.des.createDecryptionCipher;break;case"DES-EDE3-CBC":a=24,s=T.des.createDecryptionCipher;break;case"AES-128-CBC":a=16,s=T.aes.createDecryptionCipher;break;case"AES-192-CBC":a=24,s=T.aes.createDecryptionCipher;break;case"AES-256-CBC":a=32,s=T.aes.createDecryptionCipher;break;case"RC2-40-CBC":a=5,s=function(h){return T.rc2.createDecryptionCipher(h,40)};break;case"RC2-64-CBC":a=8,s=function(h){return T.rc2.createDecryptionCipher(h,64)};break;case"RC2-128-CBC":a=16,s=function(h){return T.rc2.createDecryptionCipher(h,128)};break;default:var i=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".');throw i.algorithm=n.dekInfo.algorithm,i}var o=T.util.hexToBytes(n.dekInfo.parameters),c=T.pbe.opensslDeriveBytes(e,o.substr(0,8),a),f=s(c);if(f.start(o),f.update(T.util.createBuffer(n.body)),f.finish())r=f.output.getBytes();else return r}else r=n.body;return n.type==="ENCRYPTED PRIVATE KEY"?r=K.decryptPrivateKeyInfo(v.fromDer(r),e):r=v.fromDer(r),r!==null&&(r=K.privateKeyFromAsn1(r)),r};K.pbe.generatePkcs12Key=function(t,e,r,n,i,a){var s,o;if(typeof a>"u"||a===null){if(!("sha1"in T.md))throw new Error('"sha1" hash algorithm unavailable.');a=T.md.sha1.create()}var c=a.digestLength,f=a.blockLength,u=new T.util.ByteBuffer,h=new T.util.ByteBuffer;if(t!=null){for(o=0;o<t.length;o++)h.putInt16(t.charCodeAt(o));h.putInt16(0)}var l=h.length(),d=e.length(),p=new T.util.ByteBuffer;p.fillWithByte(r,f);var g=f*Math.ceil(d/f),x=new T.util.ByteBuffer;for(o=0;o<g;o++)x.putByte(e.at(o%d));var b=f*Math.ceil(l/f),B=new T.util.ByteBuffer;for(o=0;o<b;o++)B.putByte(h.at(o%l));var A=x;A.putBuffer(B);for(var L=Math.ceil(i/c),I=1;I<=L;I++){var _=new T.util.ByteBuffer;_.putBytes(p.bytes()),_.putBytes(A.bytes());for(var F=0;F<n;F++)a.start(),a.update(_.getBytes()),_=a.digest();var $=new T.util.ByteBuffer;for(o=0;o<f;o++)$.putByte(_.at(o%c));var Et=Math.ceil(d/f)+Math.ceil(l/f),zt=new T.util.ByteBuffer;for(s=0;s<Et;s++){var kt=new T.util.ByteBuffer(A.getBytes(f)),Ct=511;for(o=$.length()-1;o>=0;o--)Ct=Ct>>8,Ct+=$.at(o)+kt.at(o),kt.setAt(o,Ct&255);zt.putBuffer(kt)}A=zt,u.putBuffer(_)}return u.truncate(u.length()-i),u};K.pbe.getCipher=function(t,e,r){switch(t){case K.oids.pkcs5PBES2:return K.pbe.getCipherForPBES2(t,e,r);case K.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case K.oids["pbewithSHAAnd40BitRC2-CBC"]:return K.pbe.getCipherForPKCS12PBE(t,e,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=t,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}};K.pbe.getCipherForPBES2=function(t,e,r){var n={},i=[];if(!v.validate(e,mp,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}if(t=v.derToOid(n.kdfOid),t!==K.oids.pkcs5PBKDF2){var a=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw a.oid=t,a.supportedOids=["pkcs5PBKDF2"],a}if(t=v.derToOid(n.encOid),t!==K.oids["aes128-CBC"]&&t!==K.oids["aes192-CBC"]&&t!==K.oids["aes256-CBC"]&&t!==K.oids["des-EDE3-CBC"]&&t!==K.oids.desCBC){var a=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw a.oid=t,a.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],a}var s=n.kdfSalt,o=T.util.createBuffer(n.kdfIterationCount);o=o.getInt(o.length()<<3);var c,f;switch(K.oids[t]){case"aes128-CBC":c=16,f=T.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,f=T.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,f=T.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,f=T.des.createDecryptionCipher;break;case"desCBC":c=8,f=T.des.createDecryptionCipher;break}var u=N0(n.prfOid),h=T.pkcs5.pbkdf2(r,s,o,c,u),l=n.encIv,d=f(h);return d.start(l),d};K.pbe.getCipherForPKCS12PBE=function(t,e,r){var n={},i=[];if(!v.validate(e,xp,n,i)){var a=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw a.errors=i,a}var s=T.util.createBuffer(n.salt),o=T.util.createBuffer(n.iterations);o=o.getInt(o.length()<<3);var c,f,u;switch(t){case K.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,f=8,u=T.des.startDecrypting;break;case K.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,f=8,u=function(g,x){var b=T.rc2.createDecryptionCipher(g,40);return b.start(x,null),b};break;default:var a=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw a.oid=t,a}var h=N0(n.prfOid),l=K.pbe.generatePkcs12Key(r,s,1,o,c,h);h.start();var d=K.pbe.generatePkcs12Key(r,s,2,o,f,h);return u(l,d)};K.pbe.opensslDeriveBytes=function(t,e,r,n){if(typeof n>"u"||n===null){if(!("md5"in T.md))throw new Error('"md5" hash algorithm unavailable.');n=T.md.md5.create()}e===null&&(e="");for(var i=[R0(n,t+e)],a=16,s=1;a<r;++s,a+=16)i.push(R0(n,i[s-1]+t+e));return i.join("").substr(0,r)};function R0(t,e){return t.start().update(e).digest().getBytes()}function N0(t){var e;if(!t)e="hmacWithSHA1";else if(e=K.oids[v.derToOid(t)],!e){var r=new Error("Unsupported PRF OID.");throw r.oid=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}return D0(e)}function D0(t){var e=T.md;switch(t){case"hmacWithSHA224":e=T.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=t,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!e||!(t in e))throw new Error("Unknown hash algorithm: "+t);return e[t].create()}function vp(t,e,r,n){var i=v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OCTETSTRING,!1,t),v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,e.getBytes())]);return n!=="hmacWithSHA1"&&i.value.push(v.create(v.Class.UNIVERSAL,v.Type.INTEGER,!1,T.util.hexToBytes(r.toString(16))),v.create(v.Class.UNIVERSAL,v.Type.SEQUENCE,!0,[v.create(v.Class.UNIVERSAL,v.Type.OID,!1,v.oidToDer(K.oids[n]).getBytes()),v.create(v.Class.UNIVERSAL,v.Type.NULL,!1,"")])),i}});var q0=P((Y2,V0)=>{var rt=X();$e();lt();var Hr=V0.exports=rt.sha512=rt.sha512||{};rt.md.sha512=rt.md.algorithms.sha512=Hr;var M0=rt.sha384=rt.sha512.sha384=rt.sha512.sha384||{};M0.create=function(){return Hr.create("SHA-384")};rt.md.sha384=rt.md.algorithms.sha384=M0;rt.sha512.sha256=rt.sha512.sha256||{create:function(){return Hr.create("SHA-512/256")}};rt.md["sha512/256"]=rt.md.algorithms["sha512/256"]=rt.sha512.sha256;rt.sha512.sha224=rt.sha512.sha224||{create:function(){return Hr.create("SHA-512/224")}};rt.md["sha512/224"]=rt.md.algorithms["sha512/224"]=rt.sha512.sha224;Hr.create=function(t){if(F0||Ap(),typeof t>"u"&&(t="SHA-512"),!(t in Xe))throw new Error("Invalid SHA-512 algorithm: "+t);for(var e=Xe[t],r=null,n=rt.util.createBuffer(),i=new Array(80),a=0;a<80;++a)i[a]=new Array(2);var s=64;switch(t){case"SHA-384":s=48;break;case"SHA-512/256":s=32;break;case"SHA-512/224":s=28;break}var o={algorithm:t.replace("-","").toLowerCase(),blockLength:128,digestLength:s,messageLength:0,fullMessageLength:null,messageLengthSize:16};return o.start=function(){o.messageLength=0,o.fullMessageLength=o.messageLength128=[];for(var c=o.messageLengthSize/4,f=0;f<c;++f)o.fullMessageLength.push(0);n=rt.util.createBuffer(),r=new Array(e.length);for(var f=0;f<e.length;++f)r[f]=e[f].slice(0);return o},o.start(),o.update=function(c,f){f==="utf8"&&(c=rt.util.encodeUtf8(c));var u=c.length;o.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var h=o.fullMessageLength.length-1;h>=0;--h)o.fullMessageLength[h]+=u[1],u[1]=u[0]+(o.fullMessageLength[h]/4294967296>>>0),o.fullMessageLength[h]=o.fullMessageLength[h]>>>0,u[0]=u[1]/4294967296>>>0;return n.putBytes(c),O0(r,i,n),(n.read>2048||n.length()===0)&&n.compact(),o},o.digest=function(){var c=rt.util.createBuffer();c.putBytes(n.bytes());var f=o.fullMessageLength[o.fullMessageLength.length-1]+o.messageLengthSize,u=f&o.blockLength-1;c.putBytes(xa.substr(0,o.blockLength-u));for(var h,l,d=o.fullMessageLength[0]*8,p=0;p<o.fullMessageLength.length-1;++p)h=o.fullMessageLength[p+1]*8,l=h/4294967296>>>0,d+=l,c.putInt32(d>>>0),d=h>>>0;c.putInt32(d);for(var g=new Array(r.length),p=0;p<r.length;++p)g[p]=r[p].slice(0);O0(g,i,c);var x=rt.util.createBuffer(),b;t==="SHA-512"?b=g.length:t==="SHA-384"?b=g.length-2:b=g.length-4;for(var p=0;p<b;++p)x.putInt32(g[p][0]),(p!==b-1||t!=="SHA-512/224")&&x.putInt32(g[p][1]);return x},o};var xa=null,F0=!1,va=null,Xe=null;function Ap(){xa=String.fromCharCode(128),xa+=rt.util.fillString(String.fromCharCode(0),128),va=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],Xe={},Xe["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],Xe["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],Xe["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],Xe["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],F0=!0}function O0(t,e,r){for(var n,i,a,s,o,c,f,u,h,l,d,p,g,x,b,B,A,L,I,_,F,$,Et,zt,kt,Ct,nr,pn,ht,_t,k,si,oi,fi,ci,is=r.length();is>=128;){for(ht=0;ht<16;++ht)e[ht][0]=r.getInt32()>>>0,e[ht][1]=r.getInt32()>>>0;for(;ht<80;++ht)si=e[ht-2],_t=si[0],k=si[1],n=((_t>>>19|k<<13)^(k>>>29|_t<<3)^_t>>>6)>>>0,i=((_t<<13|k>>>19)^(k<<3|_t>>>29)^(_t<<26|k>>>6))>>>0,fi=e[ht-15],_t=fi[0],k=fi[1],a=((_t>>>1|k<<31)^(_t>>>8|k<<24)^_t>>>7)>>>0,s=((_t<<31|k>>>1)^(_t<<24|k>>>8)^(_t<<25|k>>>7))>>>0,oi=e[ht-7],ci=e[ht-16],k=i+oi[1]+s+ci[1],e[ht][0]=n+oi[0]+a+ci[0]+(k/4294967296>>>0)>>>0,e[ht][1]=k>>>0;for(g=t[0][0],x=t[0][1],b=t[1][0],B=t[1][1],A=t[2][0],L=t[2][1],I=t[3][0],_=t[3][1],F=t[4][0],$=t[4][1],Et=t[5][0],zt=t[5][1],kt=t[6][0],Ct=t[6][1],nr=t[7][0],pn=t[7][1],ht=0;ht<80;++ht)f=((F>>>14|$<<18)^(F>>>18|$<<14)^($>>>9|F<<23))>>>0,u=((F<<18|$>>>14)^(F<<14|$>>>18)^($<<23|F>>>9))>>>0,h=(kt^F&(Et^kt))>>>0,l=(Ct^$&(zt^Ct))>>>0,o=((g>>>28|x<<4)^(x>>>2|g<<30)^(x>>>7|g<<25))>>>0,c=((g<<4|x>>>28)^(x<<30|g>>>2)^(x<<25|g>>>7))>>>0,d=(g&b|A&(g^b))>>>0,p=(x&B|L&(x^B))>>>0,k=pn+u+l+va[ht][1]+e[ht][1],n=nr+f+h+va[ht][0]+e[ht][0]+(k/4294967296>>>0)>>>0,i=k>>>0,k=c+p,a=o+d+(k/4294967296>>>0)>>>0,s=k>>>0,nr=kt,pn=Ct,kt=Et,Ct=zt,Et=F,zt=$,k=_+i,F=I+n+(k/4294967296>>>0)>>>0,$=k>>>0,I=A,_=L,A=b,L=B,b=g,B=x,k=i+s,g=n+a+(k/4294967296>>>0)>>>0,x=k>>>0;k=t[0][1]+x,t[0][0]=t[0][0]+g+(k/4294967296>>>0)>>>0,t[0][1]=k>>>0,k=t[1][1]+B,t[1][0]=t[1][0]+b+(k/4294967296>>>0)>>>0,t[1][1]=k>>>0,k=t[2][1]+L,t[2][0]=t[2][0]+A+(k/4294967296>>>0)>>>0,t[2][1]=k>>>0,k=t[3][1]+_,t[3][0]=t[3][0]+I+(k/4294967296>>>0)>>>0,t[3][1]=k>>>0,k=t[4][1]+$,t[4][0]=t[4][0]+F+(k/4294967296>>>0)>>>0,t[4][1]=k>>>0,k=t[5][1]+zt,t[5][0]=t[5][0]+Et+(k/4294967296>>>0)>>>0,t[5][1]=k>>>0,k=t[6][1]+Ct,t[6][0]=t[6][0]+kt+(k/4294967296>>>0)>>>0,t[6][1]=k>>>0,k=t[7][1]+pn,t[7][0]=t[7][0]+nr+(k/4294967296>>>0)>>>0,t[7][1]=k>>>0,is-=128}}});var ac=P((Am,ic)=>{ic.exports=$a;var nc=128,Vd=127,qd=~Vd,zd=Math.pow(2,31);function $a(t,e,r){if(Number.MAX_SAFE_INTEGER&&t>Number.MAX_SAFE_INTEGER)throw $a.bytes=0,new RangeError("Could not encode varint");e=e||[],r=r||0;for(var n=r;t>=zd;)e[r++]=t&255|nc,t/=128;for(;t&qd;)e[r++]=t&255|nc,t>>>=7;return e[r]=t|0,$a.bytes=r-n+1,e}});var fc=P((Cm,oc)=>{oc.exports=Za;var Hd=128,sc=127;function Za(t,n){var r=0,n=n||0,i=0,a=n,s,o=t.length;do{if(a>=o||i>49)throw Za.bytes=0,new RangeError("Could not decode varint");s=t[a++],r+=i<28?(s&sc)<<i:(s&sc)*Math.pow(2,i),i+=7}while(s>=Hd);return Za.bytes=a-n,r}});var uc=P((Tm,cc)=>{var Gd=Math.pow(2,7),Wd=Math.pow(2,14),$d=Math.pow(2,21),Zd=Math.pow(2,28),Yd=Math.pow(2,35),Qd=Math.pow(2,42),Xd=Math.pow(2,49),Jd=Math.pow(2,56),jd=Math.pow(2,63);cc.exports=function(t){return t<Gd?1:t<Wd?2:t<$d?3:t<Zd?4:t<Yd?5:t<Qd?6:t<Xd?7:t<Jd?8:t<jd?9:10}});var ri=P((Im,hc)=>{hc.exports={encode:ac(),decode:fc(),encodingLength:uc()}});var by={};St(by,{PeerRecord:()=>qt,RecordEnvelope:()=>Qt});var $f=M(Rt(),1);var di={};St(di,{identity:()=>Mc});function kc(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var a=t.charAt(i),s=a.charCodeAt(0);if(r[s]!==255)throw new TypeError(a+" is ambiguous");r[s]=i}var o=t.length,c=t.charAt(0),f=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,x=0,b=0,B=p.length;b!==B&&p[b]===0;)b++,g++;for(var A=(B-b)*u+1>>>0,L=new Uint8Array(A);b!==B;){for(var I=p[b],_=0,F=A-1;(I!==0||_<x)&&F!==-1;F--,_++)I+=256*L[F]>>>0,L[F]=I%o>>>0,I=I/o>>>0;if(I!==0)throw new Error("Non-zero carry");x=_,b++}for(var $=A-x;$!==A&&L[$]===0;)$++;for(var Et=c.repeat(g);$<A;++$)Et+=t.charAt(L[$]);return Et}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var x=0,b=0;p[g]===c;)x++,g++;for(var B=(p.length-g)*f+1>>>0,A=new Uint8Array(B);p[g];){var L=r[p.charCodeAt(g)];if(L===255)return;for(var I=0,_=B-1;(L!==0||I<b)&&_!==-1;_--,I++)L+=o*A[_]>>>0,A[_]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");b=I,g++}if(p[g]!==" "){for(var F=B-b;F!==B&&A[F]===0;)F++;for(var $=new Uint8Array(x+(B-F)),Et=x;F!==B;)$[Et++]=A[F++];return $}}}function d(p){var g=l(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:l,decode:d}}var Pc=kc,Uc=Pc,fs=Uc;var By=new Uint8Array(0);var cs=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},he=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var us=t=>new TextEncoder().encode(t),hs=t=>new TextDecoder().decode(t);var ui=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},hi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ps(this,e)}},li=class{constructor(e){this.decoders=e}or(e){return ps(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},ps=(t,e)=>new li({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),pi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ui(e,r,n),this.decoder=new hi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},ir=({name:t,prefix:e,encode:r,decode:n})=>new pi(t,e,r,n),Ae=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=fs(r,e);return ir({prefix:t,name:e,encode:n,decode:a=>he(i(a))})},Kc=(t,e,r,n)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let a=t.length;for(;t[a-1]==="=";)--a;let s=new Uint8Array(a*r/8|0),o=0,c=0,f=0;for(let u=0;u<a;++u){let h=i[t[u]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|h,o+=r,o>=8&&(o-=8,s[f++]=255&c>>o)}if(o>=r||255&c<<8-o)throw new SyntaxError("Unexpected end of data");return s},Oc=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,a="",s=0,o=0;for(let c=0;c<t.length;++c)for(o=o<<8|t[c],s+=8;s>r;)s-=r,a+=e[i&o>>s];if(s&&(a+=e[i&o<<r-s]),n)for(;a.length*r&7;)a+="=";return a},ct=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>ir({prefix:e,name:t,encode(i){return Oc(i,n,r)},decode(i){return Kc(i,n,r,t)}});var Mc=ir({prefix:"\0",name:"identity",encode:t=>hs(t),decode:t=>us(t)});var yi={};St(yi,{base2:()=>Fc});var Fc=ct({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gi={};St(gi,{base8:()=>Vc});var Vc=ct({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mi={};St(mi,{base10:()=>qc});var qc=Ae({prefix:"9",name:"base10",alphabet:"0123456789"});var xi={};St(xi,{base16:()=>zc,base16upper:()=>Hc});var zc=ct({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hc=ct({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vi={};St(vi,{base32:()=>le,base32hex:()=>Zc,base32hexpad:()=>Qc,base32hexpadupper:()=>Xc,base32hexupper:()=>Yc,base32pad:()=>Wc,base32padupper:()=>$c,base32upper:()=>Gc,base32z:()=>Jc});var le=ct({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Gc=ct({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Wc=ct({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$c=ct({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zc=ct({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Yc=ct({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Qc=ct({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Xc=ct({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Jc=ct({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var bi={};St(bi,{base36:()=>jc,base36upper:()=>tu});var jc=Ae({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tu=Ae({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var wi={};St(wi,{base58btc:()=>dt,base58flickr:()=>eu});var dt=Ae({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),eu=Ae({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Ei={};St(Ei,{base64:()=>yn,base64pad:()=>ru,base64url:()=>nu,base64urlpad:()=>iu});var yn=ct({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ru=ct({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),nu=ct({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iu=ct({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Si={};St(Si,{base256emoji:()=>cu});var ds=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),au=ds.reduce((t,e,r)=>(t[r]=e,t),[]),su=ds.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ou(t){return t.reduce((e,r)=>(e+=au[r],e),"")}function fu(t){let e=[];for(let r of t){let n=su[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}var cu=ir({prefix:"\u{1F680}",name:"base256emoji",encode:ou,decode:fu});var Ti={};St(Ti,{sha256:()=>Bt,sha512:()=>Iu});var uu=ms,ys=128,hu=127,lu=~hu,pu=Math.pow(2,31);function ms(t,e,r){e=e||[],r=r||0;for(var n=r;t>=pu;)e[r++]=t&255|ys,t/=128;for(;t&lu;)e[r++]=t&255|ys,t>>>=7;return e[r]=t|0,ms.bytes=r-n+1,e}var du=Bi,yu=128,gs=127;function Bi(t,n){var r=0,n=n||0,i=0,a=n,s,o=t.length;do{if(a>=o)throw Bi.bytes=0,new RangeError("Could not decode varint");s=t[a++],r+=i<28?(s&gs)<<i:(s&gs)*Math.pow(2,i),i+=7}while(s>=yu);return Bi.bytes=a-n,r}var gu=Math.pow(2,7),mu=Math.pow(2,14),xu=Math.pow(2,21),vu=Math.pow(2,28),bu=Math.pow(2,35),wu=Math.pow(2,42),Eu=Math.pow(2,49),Su=Math.pow(2,56),Bu=Math.pow(2,63),Au=function(t){return t<gu?1:t<mu?2:t<xu?3:t<vu?4:t<bu?5:t<wu?6:t<Eu?7:t<Su?8:t<Bu?9:10},Cu={encode:uu,decode:du,encodingLength:Au},Tu=Cu,Lr=Tu;var kr=(t,e=0)=>[Lr.decode(t,e),Lr.decode.bytes],ar=(t,e,r=0)=>(Lr.encode(t,e,r),e),sr=t=>Lr.encodingLength(t);var Xt=(t,e)=>{let r=e.byteLength,n=sr(t),i=n+sr(r),a=new Uint8Array(i+r);return ar(t,a,0),ar(r,a,n),a.set(e,i),new or(t,r,e,a)},Fe=t=>{let e=he(t),[r,n]=kr(e),[i,a]=kr(e.subarray(n)),s=e.subarray(n+a);if(s.byteLength!==i)throw new Error("Incorrect length");return new or(r,i,s,e)},xs=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&cs(t.bytes,r.bytes)}},or=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Ci=({name:t,code:e,encode:r})=>new Ai(t,e,r),Ai=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){let r=this.encode(e);return r instanceof Uint8Array?Xt(this.code,r):r.then(n=>Xt(this.code,n))}else throw Error("Unknown type, must be binary type")}};var bs=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Bt=Ci({name:"sha2-256",code:18,encode:bs("SHA-256")}),Iu=Ci({name:"sha2-512",code:19,encode:bs("SHA-512")});var Ii={};St(Ii,{identity:()=>Ce});var ws=0,_u="identity",Es=he,Ru=t=>Xt(ws,Es(t)),Ce={code:ws,name:_u,encode:Es,digest:Ru};var Gy=new TextEncoder,Wy=new TextDecoder;var Ss=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return ku(r,_i(t),e||dt.encoder);default:return Pu(r,_i(t),e||le.encoder)}};var Bs=new WeakMap,_i=t=>{let e=Bs.get(t);if(e==null){let r=new Map;return Bs.set(t,r),r}return e},J=class{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Pr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Uu)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return J.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Xt(e,r);return J.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return J.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&xs(e.multihash,n.multihash)}toString(e){return Ss(this,e)}toJSON(){return{"/":Ss(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof J)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:a,bytes:s}=r;return new J(n,i,a,s||As(n,i,a.bytes))}else if(r[Ku]===!0){let{version:n,multihash:i,code:a}=r,s=Fe(i);return J.create(n,a,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Pr)throw new Error(`Version 0 CID must use dag-pb (code: ${Pr}) block encoding`);return new J(e,r,n,n.bytes)}case 1:{let i=As(e,r,n.bytes);return new J(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return J.create(0,Pr,e)}static createV1(e,r){return J.create(1,e,r)}static decode(e){let[r,n]=J.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=J.inspectBytes(e),n=r.size-r.multihashSize,i=he(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let a=i.subarray(r.multihashSize-r.digestSize),s=new or(r.multihashCode,r.digestSize,a,i);return[r.version===0?J.createV0(s):J.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,l]=kr(e.subarray(r));return r+=l,h},i=n(),a=Pr;if(i===18?(i=0,r=0):a=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,o=n(),c=n(),f=r+c,u=f-s;return{version:i,codec:a,multihashCode:o,digestSize:c,multihashSize:u,size:f}}static parse(e,r){let[n,i]=Lu(e,r),a=J.decode(i);return _i(a).set(n,e),a}},Lu=(t,e)=>{switch(t[0]){case"Q":{let r=e||dt;return[dt.prefix,r.decode(`${dt.prefix}${t}`)]}case dt.prefix:{let r=e||dt;return[dt.prefix,r.decode(t)]}case le.prefix:{let r=e||le;return[le.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},ku=(t,e,r)=>{let{prefix:n}=r;if(n!==dt.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let a=r.encode(t).slice(1);return e.set(n,a),a}else return i},Pu=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let a=r.encode(t);return e.set(n,a),a}else return i},Pr=112,Uu=18,As=(t,e,r)=>{let n=sr(t),i=n+sr(e),a=new Uint8Array(i+r.byteLength);return ar(t,a,0),ar(e,a,n),a.set(r,i),a},Ku=Symbol.for("@ipld/js-cid/CID");var Te={...di,...yi,...gi,...mi,...xi,...vi,...bi,...wi,...Ei,...Si},r1={...Ti,...Ii};function qe(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function pe(t=0){return globalThis.Buffer?.alloc!=null?qe(globalThis.Buffer.alloc(t)):new Uint8Array(t)}function de(t=0){return globalThis.Buffer?.allocUnsafe!=null?qe(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Ts(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}var Cs=Ts("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),Ri=Ts("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);let e=de(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Ou={utf8:Cs,"utf-8":Cs,hex:Te.base16,latin1:Ri,ascii:Ri,binary:Ri,...Te},mn=Ou;function At(t,e="utf8"){let r=mn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?qe(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function yt(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}var zi=M(Pi(),1),yo=M(so(),1),Hi=M(qi(),1),go=M(po(),1),mo=M(He(),1);function $u(){mo.default._configure(),zi.default._configure(yo.default),Hi.default._configure(go.default)}$u();var xo=["uint64","int64","sint64","fixed64","sfixed64"];function Zu(t){for(let e of xo){if(t[e]==null)continue;let r=t[e];t[e]=function(){return BigInt(r.call(this).toString())}}return t}function Gi(t){return Zu(new zi.default(t))}function Yu(t){for(let e of xo){if(t[e]==null)continue;let r=t[e];t[e]=function(n){return r.call(this,n.toString())}}return t}function Wi(){return Yu(Hi.default.create())}function ye(t,e){let r=Gi(t instanceof Uint8Array?t:t.subarray());return e.decode(r)}function ge(t,e){let r=Wi();return e.encode(t,r,{lengthDelimited:!1}),r.finish()}var cr;(function(t){t[t.VARINT=0]="VARINT",t[t.BIT64=1]="BIT64",t[t.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",t[t.START_GROUP=3]="START_GROUP",t[t.END_GROUP=4]="END_GROUP",t[t.BIT32=5]="BIT32"})(cr||(cr={}));function En(t,e,r,n){return{name:t,type:e,encode:r,decode:n}}function $i(t){function e(i){if(t[i.toString()]==null)throw new Error("Invalid enum value");return t[i]}let r=function(a,s){let o=e(a);s.int32(o)},n=function(a){let s=a.int32();return e(s)};return En("enum",cr.VARINT,r,n)}function me(t,e){return En("message",cr.LENGTH_DELIMITED,t,e)}var it;(function(t){t.RSA="RSA",t.Ed25519="Ed25519",t.Secp256k1="Secp256k1"})(it||(it={}));var Zi;(function(t){t[t.RSA=0]="RSA",t[t.Ed25519=1]="Ed25519",t[t.Secp256k1=2]="Secp256k1"})(Zi||(Zi={}));(function(t){t.codec=()=>$i(Zi)})(it||(it={}));var te;(function(t){let e;t.codec=()=>(e==null&&(e=me((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),it.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.Type=it.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>ge(r,t.codec()),t.decode=r=>ye(r,t.codec())})(te||(te={}));var ee;(function(t){let e;t.codec=()=>(e==null&&(e=me((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),r.Type!=null&&(n.uint32(8),it.codec().encode(r.Type,n)),r.Data!=null&&(n.uint32(18),n.bytes(r.Data)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.Type=it.codec().decode(r);break;case 2:i.Data=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>ge(r,t.codec()),t.decode=r=>ye(r,t.codec())})(ee||(ee={}));var Dg=M(Vr(),1),Lg=M(k0(),1),wd=M(X(),1),Pf=M(Rt(),1);var wp=M(Rt(),1);function gt(t,e){e==null&&(e=t.reduce((i,a)=>i+a.length,0));let r=de(e),n=0;for(let i of t)r.set(i,n),n+=i.length;return qe(r)}var Dt={get(t=globalThis){let e=t.crypto;if(e==null||e.subtle==null)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}};var Ep=M(Rt(),1);var I2=M(lt(),1),_2=M(Kn(),1),P0=M(X(),1);function j(t,e="utf8"){let r=mn[e];if(r==null)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Zt(t,e){let r=Uint8Array.from(t.abs().toByteArray());if(r=r[0]===0?r.subarray(1):r,e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=gt([new Uint8Array(e-r.length),r])}return j(r,"base64url")}function Pt(t){let e=U0(t);return new P0.default.jsbn.BigInteger(j(e,"base16"),16)}function U0(t,e){let r=At(t,"base64urlpad");if(e!=null){if(r.length>e)throw new Error("byte array longer than desired length");r=gt([new Uint8Array(e-r.length),r])}return r}var Sp={"P-256":256,"P-384":384,"P-521":521},Bp=Object.keys(Sp),M2=Bp.join(" / ");function ma(t){let e=t?.algorithm??"AES-GCM",r=t?.keyLength??16,n=t?.nonceLength??12,i=t?.digest??"SHA-256",a=t?.saltLength??16,s=t?.iterations??32767,o=Dt.get();r*=8;async function c(h,l){let d=o.getRandomValues(new Uint8Array(a)),p=o.getRandomValues(new Uint8Array(n)),g={name:e,iv:p};typeof l=="string"&&(l=At(l));let x={name:"PBKDF2",salt:d,iterations:s,hash:{name:i}},b=await o.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),B=await o.subtle.deriveKey(x,b,{name:e,length:r},!0,["encrypt"]),A=await o.subtle.encrypt(g,B,h);return gt([d,g.iv,new Uint8Array(A)])}async function f(h,l){let d=h.subarray(0,a),p=h.subarray(a,a+n),g=h.subarray(a+n),x={name:e,iv:p};typeof l=="string"&&(l=At(l));let b={name:"PBKDF2",salt:d,iterations:s,hash:{name:i}},B=await o.subtle.importKey("raw",l,{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),A=await o.subtle.deriveKey(b,B,{name:e,length:r},!0,["decrypt"]),L=await o.subtle.decrypt(x,A,g);return new Uint8Array(L)}return{encrypt:c,decrypt:f}}var _a={};St(_a,{RsaPrivateKey:()=>Er,RsaPublicKey:()=>Qr,fromJwk:()=>Yp,generateKeyPair:()=>Qp,unmarshalRsaPrivateKey:()=>$p,unmarshalRsaPublicKey:()=>Zp});var Ia=M(Rt(),1);var gg=M(q0(),1),Yr=M(X(),1);var Cp=M(lr(),1);var q=BigInt(0),nt=BigInt(1),ke=BigInt(2),Wr=BigInt(3),Tp=BigInt(8),st=Object.freeze({a:q,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:nt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function z0(t){let{a:e,b:r}=st,n=R(t*t),i=R(n*t);return R(i+e*t+r)}var Vn=st.a===q,zn=class extends Error{constructor(e){super(e)}},Z=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Q))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Z(e.x,e.y,nt)}static toAffineBatch(e){let r=Dp(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return Z.toAffineBatch(e).map(Z.fromAffine)}equals(e){if(!(e instanceof Z))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e,c=R(i*i),f=R(o*o),u=R(r*f),h=R(a*c),l=R(R(n*o)*f),d=R(R(s*i)*c);return u===h&&l===d}negate(){return new Z(this.x,R(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=R(e*e),a=R(r*r),s=R(a*a),o=e+a,c=R(ke*(R(o*o)-i-s)),f=R(Wr*i),u=R(f*f),h=R(u-ke*c),l=R(f*(c-h)-Tp*s),d=R(ke*r*n);return new Z(h,l,d)}add(e){if(!(e instanceof Z))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e;if(a===q||s===q)return this;if(r===q||n===q)return e;let c=R(i*i),f=R(o*o),u=R(r*f),h=R(a*c),l=R(R(n*o)*f),d=R(R(s*i)*c),p=R(h-u),g=R(d-l);if(p===q)return g===q?this.double():Z.ZERO;let x=R(p*p),b=R(p*x),B=R(u*x),A=R(g*g-b-ke*B),L=R(g*(B-A)-l*b),I=R(i*o*p);return new Z(A,L,I)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=Z.ZERO;if(typeof e=="bigint"&&e===q)return r;let n=W0(e);if(n===nt)return this;if(!Vn){let h=r,l=this;for(;n>q;)n&nt&&(h=h.add(l)),l=l.double(),n>>=nt;return h}let{k1neg:i,k1:a,k2neg:s,k2:o}=Z0(n),c=r,f=r,u=this;for(;a>q||o>q;)a&nt&&(c=c.add(u)),o&nt&&(f=f.add(u)),u=u.double(),a>>=nt,o>>=nt;return i&&(c=c.negate()),s&&(f=f.negate()),f=new Z(R(f.x*st.beta),f.y,f.z),c.add(f)}precomputeWindow(e){let r=Vn?128/e+1:256/e+1,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(e-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(Z.BASE)&&(r=Q.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&wa.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=Z.normalizeZ(i),wa.set(r,i)));let a=Z.ZERO,s=Z.ZERO,o=1+(Vn?128/n:256/n),c=2**(n-1),f=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<o;l++){let d=l*c,p=Number(e&f);if(e>>=h,p>c&&(p-=u,e+=nt),p===0){let g=i[d];l%2&&(g=g.negate()),s=s.add(g)}else{let g=i[d+Math.abs(p)-1];p<0&&(g=g.negate()),a=a.add(g)}}return{p:a,f:s}}multiply(e,r){let n=W0(e),i,a;if(Vn){let{k1neg:s,k1:o,k2neg:c,k2:f}=Z0(n),{p:u,f:h}=this.wNAF(o,r),{p:l,f:d}=this.wNAF(f,r);s&&(u=u.negate()),c&&(l=l.negate()),l=new Z(R(l.x*st.beta),l.y,l.z),i=u.add(l),a=h.add(d)}else{let{p:s,f:o}=this.wNAF(n,r);i=s,a=o}return Z.normalizeZ([i,a])[0]}toAffine(e=br(this.z)){let{x:r,y:n,z:i}=this,a=e,s=R(a*a),o=R(s*a),c=R(r*s),f=R(n*o);if(R(i*a)!==nt)throw new Error("invZ was invalid");return new Q(c,f)}};Z.BASE=new Z(st.Gx,st.Gy,nt);Z.ZERO=new Z(q,nt,q);var wa=new WeakMap,Q=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,wa.delete(this)}hasEvenY(){return this.y%ke===q}static fromCompressedHex(e){let r=e.length===32,n=we(r?e:e.subarray(1));if(!ba(n))throw new Error("Point is not on curve");let i=z0(n),a=Np(i),s=(a&nt)===nt;r?s&&(a=R(-a)):(e[0]&1)===1!==s&&(a=R(-a));let o=new Q(n,a);return o.assertValidity(),o}static fromUncompressedHex(e){let r=we(e.subarray(1,33)),n=we(e.subarray(33,65)),i=new Q(r,n);return i.assertValidity(),i}static fromHex(e){let r=vr(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Q.BASE.multiply(Gn(e))}static fromSignature(e,r,n){e=vr(e);let i=Y0(e),{r:a,s}=Q0(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let o=n&1?"03":"02",c=Q.fromHex(o+gr(a)),{n:f}=st,u=br(a,f),h=R(-i*u,f),l=R(s*u,f),d=Q.BASE.multiplyAndAddUnsafe(c,h,l);if(!d)throw new Error("Cannot recover signature: point at infinify");return d.assertValidity(),d}toRawBytes(e=!1){return Je(this.toHex(e))}toHex(e=!1){let r=gr(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${gr(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!ba(r)||!ba(n))throw new Error(e);let i=R(n*n),a=z0(r);if(R(i-a)!==q)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Q(this.x,R(-this.y))}double(){return Z.fromAffine(this).double().toAffine()}add(e){return Z.fromAffine(this).add(Z.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Z.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=Z.fromAffine(this),a=r===q||r===nt||this!==Q.BASE?i.multiplyUnsafe(r):i.multiply(r),s=Z.fromAffine(e).multiplyUnsafe(n),o=a.add(s);return o.equals(Z.ZERO)?void 0:o.toAffine()}};Q.BASE=new Q(st.Gx,st.Gy);Q.ZERO=new Q(q,q);function H0(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function G0(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${xr(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:we(r),left:t.subarray(e+2)}}function Ip(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${xr(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=G0(t.subarray(2)),{data:n,left:i}=G0(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${xr(i)}`);return{r:e,s:n}}var fe=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?xr(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new fe(Hn(i.slice(0,64)),Hn(i.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Ip(r?e:Je(e));return new fe(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Zr(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Zr(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=st.n>>nt;return this.s>e}normalizeS(){return this.hasHighS()?new fe(this.r,st.n-this.s):this}toDERRawBytes(e=!1){return Je(this.toDERHex(e))}toDERHex(e=!1){let r=H0(Gr(this.s));if(e)return r;let n=H0(Gr(this.r)),i=Gr(n.length/2),a=Gr(r.length/2);return`30${Gr(n.length/2+r.length/2+4)}02${i}${n}02${a}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Je(this.toCompactHex())}toCompactHex(){return gr(this.r)+gr(this.s)}};function yr(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}var _p=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xr(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=_p[t[r]];return e}var Rp=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function gr(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(q<=t&&t<Rp))throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function Ea(t){let e=Je(gr(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Gr(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function Hn(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function Je(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function we(t){return Hn(xr(t))}function vr(t){return t instanceof Uint8Array?Uint8Array.from(t):Je(t)}function W0(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Zr(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function R(t,e=st.P){let r=t%e;return r>=q?r:e+r}function Vt(t,e){let{P:r}=st,n=t;for(;e-- >q;)n*=n,n%=r;return n}function Np(t){let{P:e}=st,r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),c=t*t*t%e,f=c*c*t%e,u=Vt(f,Wr)*f%e,h=Vt(u,Wr)*f%e,l=Vt(h,ke)*c%e,d=Vt(l,n)*l%e,p=Vt(d,i)*d%e,g=Vt(p,s)*p%e,x=Vt(g,o)*g%e,b=Vt(x,s)*p%e,B=Vt(b,Wr)*f%e,A=Vt(B,a)*d%e,L=Vt(A,r)*c%e;return Vt(L,ke)}function br(t,e=st.P){if(t===q||e<=q)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=R(t,e),n=e,i=q,a=nt,s=nt,o=q;for(;r!==q;){let f=n/r,u=n%r,h=i-s*f,l=a-o*f;n=r,r=u,i=s,a=o,s=h,o=l}if(n!==nt)throw new Error("invert: does not exist");return R(i,e)}function Dp(t,e=st.P){let r=new Array(t.length),n=t.reduce((a,s,o)=>s===q?a:(r[o]=a,R(a*s,e)),nt),i=br(n,e);return t.reduceRight((a,s,o)=>s===q?a:(r[o]=R(a*r[o],e),R(a*s,e)),i),r}var $0=(t,e)=>(t+e/ke)/e,Lp={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-nt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function Z0(t){let{n:e}=st,{a1:r,b1:n,a2:i,b2:a,POW_2_128:s}=Lp,o=$0(a*t,e),c=$0(-n*t,e),f=R(t-o*r-c*i,e),u=R(-o*n-c*a,e),h=f>s,l=u>s;if(h&&(f=e-f),l&&(u=e-u),f>s||u>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:h,k1:f,k2neg:l,k2:u}}function Y0(t){let{n:e}=st,n=t.length*8-256,i=we(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var mr,$r,Sa=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return Yt.hmacSha256(this.k,...e)}hmacSync(...e){return $r(this.k,...e)}checkSync(){if(typeof $r!="function")throw new zn("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}};function Zr(t){return q<t&&t<st.n}function ba(t){return q<t&&t<st.P}function kp(t,e,r){let n=we(t);if(!Zr(n))return;let{n:i}=st,a=Q.BASE.multiply(n),s=R(a.x,i);if(s===q)return;let o=R(br(n,i)*R(e+r*s,i),i);if(o===q)return;let c=new fe(s,o),f=(a.x===c.r?0:2)|Number(a.y&nt);return{sig:c,recovery:f}}function Gn(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=Hn(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=we(t)}else throw new TypeError("Expected valid private key");if(!Zr(e))throw new Error("Expected private key: 0 < key < n");return e}function Pp(t){return t instanceof Q?(t.assertValidity(),t):Q.fromHex(t)}function Q0(t){if(t instanceof fe)return t.assertValidity(),t;try{return fe.fromDER(t)}catch{return fe.fromCompact(t)}}function Ba(t,e=!1){return Q.fromPrivateKey(t).toRawBytes(e)}function X0(t){let e=t.length>32?t.slice(0,32):t;return we(e)}function Up(t){let e=X0(t),r=R(e,st.n);return J0(r<q?e:r)}function J0(t){return Ea(t)}function Kp(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=vr(t),i=Gn(e),a=[J0(i),Up(n)];if(r!=null){r===!0&&(r=Yt.randomBytes(32));let c=vr(r);if(c.length!==32)throw new Error("sign: Expected 32 bytes of extra data");a.push(c)}let s=yr(...a),o=X0(n);return{seed:s,m:o,d:i}}function Op(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:a,recovered:s}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let o=a?r.toDERRawBytes():r.toCompactRawBytes();return s?[o,n]:o}async function j0(t,e,r={}){let{seed:n,m:i,d:a}=Kp(t,e,r.extraEntropy),s,o=new Sa;for(await o.reseed(n);!(s=kp(await o.generate(),i,a));)await o.reseed();return Op(s,r)}var Mp={strict:!0};function tf(t,e,r,n=Mp){let i;try{i=Q0(t),e=vr(e)}catch{return!1}let{r:a,s}=i;if(n.strict&&i.hasHighS())return!1;let o=Y0(e),c;try{c=Pp(r)}catch{return!1}let{n:f}=st,u=br(s,f),h=R(o*u,f),l=R(a*u,f),d=Q.BASE.multiplyAndAddUnsafe(c,h,l);return d?R(d.x,f)===a:!1}Q.BASE._setWindowSize(8);var Ut={node:Cp,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var qn={},Yt={bytesToHex:xr,hexToBytes:Je,concatBytes:yr,mod:R,invert:br,isValidPrivateKey(t){try{return Gn(t),!0}catch{return!1}},_bigintTo32Bytes:Ea,_normalizePrivateKey:Gn,hashToPrivateKey:t=>{if(t=vr(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=R(we(t),st.n-nt)+nt;return Ea(e)},randomBytes:(t=32)=>{if(Ut.web)return Ut.web.getRandomValues(new Uint8Array(t));if(Ut.node){let{randomBytes:e}=Ut.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Yt.hashToPrivateKey(Yt.randomBytes(40)),sha256:async(...t)=>{if(Ut.web){let e=await Ut.web.subtle.digest("SHA-256",yr(...t));return new Uint8Array(e)}else if(Ut.node){let{createHash:e}=Ut.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Ut.web){let r=await Ut.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=yr(...e),i=await Ut.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(Ut.node){let{createHmac:r}=Ut.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=qn[t];if(r===void 0){let n=await Yt.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=yr(n,n),qn[t]=r}return Yt.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof mr!="function")throw new zn("sha256Sync is undefined, you need to set it");let r=qn[t];if(r===void 0){let n=mr(Uint8Array.from(t,i=>i.charCodeAt(0)));r=yr(n,n),qn[t]=r}return mr(r,...e)},precompute(t=8,e=Q.BASE){let r=e===Q.BASE?e:new Q(e.x,e.y);return r._setWindowSize(t),r.multiply(Wr),r}};Object.defineProperties(Yt,{sha256Sync:{configurable:!1,get(){return mr},set(t){mr||(mr=t)}},hmacSha256Sync:{configurable:!1,get(){return $r},set(t){$r||($r=t)}}});var ef=M(Rt(),1);function Wn(t){if(isNaN(t)||t<=0)throw(0,ef.default)(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return Yt.randomBytes(t)}var je={};St(je,{jwkToPkcs1:()=>qp,jwkToPkix:()=>Hp,pkcs1ToJwk:()=>Vp,pkixToJwk:()=>zp});var J2=M(Vr(),1),j2=M(Fn(),1),Ee=M(X(),1);var Aa=M(Rt(),1);function Vp(t){let e=Ee.default.asn1.fromDer(j(t,"ascii")),r=Ee.default.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:Zt(r.n),e:Zt(r.e),d:Zt(r.d),p:Zt(r.p),q:Zt(r.q),dp:Zt(r.dP),dq:Zt(r.dQ),qi:Zt(r.qInv),alg:"RS256"}}function qp(t){if(t.n==null||t.e==null||t.d==null||t.p==null||t.q==null||t.dp==null||t.dq==null||t.qi==null)throw(0,Aa.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=Ee.default.pki.privateKeyToAsn1({n:Pt(t.n),e:Pt(t.e),d:Pt(t.d),p:Pt(t.p),q:Pt(t.q),dP:Pt(t.dp),dQ:Pt(t.dq),qInv:Pt(t.qi)});return At(Ee.default.asn1.toDer(e).getBytes(),"ascii")}function zp(t){let e=Ee.default.asn1.fromDer(j(t,"ascii")),r=Ee.default.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:Zt(r.n),e:Zt(r.e)}}function Hp(t){if(t.n==null||t.e==null)throw(0,Aa.default)(new Error("JWK was missing components"),"ERR_INVALID_PARAMETERS");let e=Ee.default.pki.publicKeyToAsn1({n:Pt(t.n),e:Pt(t.e)});return At(Ee.default.asn1.toDer(e).getBytes(),"ascii")}var ng=M(Fn(),1),Ca=M(X(),1);function rf(t,e){return e.map(r=>Pt(t[r]))}function nf(t){return Ca.default.pki.setRsaPrivateKey(...rf(t,["n","e","d","p","q","dp","dq","qi"]))}function af(t){return Ca.default.pki.setRsaPublicKey(...rf(t,["n","e"]))}var sf=M(Rt(),1);async function of(t){let e=await Dt.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),r=await uf(e);return{privateKey:r[0],publicKey:r[1]}}async function Ta(t){let r=[await Dt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await Gp(t)],n=await uf({privateKey:r[0],publicKey:r[1]});return{privateKey:n[0],publicKey:n[1]}}async function ff(t,e){let r=await Dt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),n=await Dt.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},r,Uint8Array.from(e));return new Uint8Array(n,0,n.byteLength)}async function cf(t,e,r){let n=await Dt.get().subtle.importKey("jwk",t,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return await Dt.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},n,e,r)}async function uf(t){if(t.privateKey==null||t.publicKey==null)throw(0,sf.default)(new Error("Private and public key are required"),"ERR_INVALID_PARAMETERS");return await Promise.all([Dt.get().subtle.exportKey("jwk",t.privateKey),Dt.get().subtle.exportKey("jwk",t.publicKey)])}async function Gp(t){return await Dt.get().subtle.importKey("jwk",{kty:t.kty,n:t.n,e:t.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}function hf(t,e,r,n){let i=e?af(t):nf(t),a=j(Uint8Array.from(r),"ascii"),s=n(a,i);return At(s,"ascii")}function lf(t,e){return hf(t,!0,e,(r,n)=>n.encrypt(r))}function pf(t,e){return hf(t,!1,e,(r,n)=>n.decrypt(r))}async function wr(t,e){let n=await ma().encrypt(t,e);return yn.encode(n)}var Qr=class{constructor(e){this._key=e}async verify(e,r){return await cf(this._key,r,e)}marshal(){return je.jwkToPkix(this._key)}get bytes(){return te.encode({Type:it.RSA,Data:this.marshal()}).subarray()}encrypt(e){return lf(this._key,e)}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}},Er=class{constructor(e,r){this._key=e,this._publicKey=r}genSecret(){return Wn(16)}async sign(e){return await ff(this._key,e)}get public(){if(this._publicKey==null)throw(0,Ia.default)(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new Qr(this._publicKey)}decrypt(e){return pf(this._key,e)}marshal(){return je.jwkToPkcs1(this._key)}get bytes(){return ee.encode({Type:it.RSA,Data:this.marshal()}).subarray()}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return j(e,"base58btc")}async export(e,r="pkcs-8"){if(r==="pkcs-8"){let n=new Yr.default.util.ByteBuffer(this.marshal()),i=Yr.default.asn1.fromDer(n),a=Yr.default.pki.privateKeyFromAsn1(i),s={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Yr.default.pki.encryptRsaPrivateKey(a,e,s)}else{if(r==="libp2p-key")return await wr(this.bytes,e);throw(0,Ia.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function $p(t){let e=je.pkcs1ToJwk(t),r=await Ta(e);return new Er(r.privateKey,r.publicKey)}function Zp(t){let e=je.pkixToJwk(t);return new Qr(e)}async function Yp(t){let e=await Ta(t);return new Er(e.privateKey,e.publicKey)}async function Qp(t){let e=await of(t);return new Er(e.privateKey,e.publicKey)}var Ma={};St(Ma,{Ed25519PrivateKey:()=>er,Ed25519PublicKey:()=>en,generateKeyPair:()=>gd,generateKeyPairFromSeed:()=>Tf,unmarshalEd25519PrivateKey:()=>dd,unmarshalEd25519PublicKey:()=>yd});var Oa=M(Rt(),1);var Xp=M(lr(),1);var wt=BigInt(0),H=BigInt(1),Sr=BigInt(2),df=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),ot=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:df,n:df,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var xf=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Xr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),xg=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Jp=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),jp=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),td=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ed=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),z=class{constructor(e,r,n,i){this.x=e,this.y=r,this.z=n,this.t=i}static fromAffine(e){if(!(e instanceof ft))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(ft.ZERO)?z.ZERO:new z(e.x,e.y,H,E(e.x*e.y))}static toAffineBatch(e){let r=id(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){yf(e);let{x:r,y:n,z:i}=this,{x:a,y:s,z:o}=e,c=E(r*o),f=E(a*i),u=E(n*o),h=E(s*i);return c===f&&u===h}negate(){return new z(E(-this.x),this.y,this.z,E(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:i}=ot,a=E(e*e),s=E(r*r),o=E(Sr*E(n*n)),c=E(i*a),f=e+r,u=E(E(f*f)-a-s),h=c+s,l=h-o,d=c-s,p=E(u*l),g=E(h*d),x=E(u*d),b=E(l*h);return new z(p,g,b,x)}add(e){yf(e);let{x:r,y:n,z:i,t:a}=this,{x:s,y:o,z:c,t:f}=e,u=E((n-r)*(o+s)),h=E((n+r)*(o-s)),l=E(h-u);if(l===wt)return this.double();let d=E(i*Sr*f),p=E(a*Sr*c),g=p+d,x=h+u,b=p-d,B=E(g*l),A=E(x*b),L=E(g*b),I=E(l*x);return new z(B,A,I,L)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],i=this,a=i;for(let s=0;s<r;s++){a=i,n.push(a);for(let o=1;o<2**(e-1);o++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(z.BASE)&&(r=ft.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&ka.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=z.normalizeZ(i),ka.set(r,i)));let a=z.ZERO,s=z.ZERO,o=1+256/n,c=2**(n-1),f=BigInt(2**n-1),u=2**n,h=BigInt(n);for(let l=0;l<o;l++){let d=l*c,p=Number(e&f);if(e>>=h,p>c&&(p-=u,e+=H),p===0){let g=i[d];l%2&&(g=g.negate()),s=s.add(g)}else{let g=i[d+Math.abs(p)-1];p<0&&(g=g.negate()),a=a.add(g)}}return z.normalizeZ([a,s])[0]}multiply(e,r){return this.wNAF(Zn(e,ot.l),r)}multiplyUnsafe(e){let r=Zn(e,ot.l,!1),n=z.BASE,i=z.ZERO;if(r===wt)return i;if(this.equals(i)||r===H)return this;if(this.equals(n))return this.wNAF(r);let a=i,s=this;for(;r>wt;)r&H&&(a=a.add(s)),s=s.double(),r>>=H;return a}isSmallOrder(){return this.multiplyUnsafe(ot.h).equals(z.ZERO)}isTorsionFree(){return this.multiplyUnsafe(ot.l).equals(z.ZERO)}toAffine(e=Yn(this.z)){let{x:r,y:n,z:i}=this,a=E(r*e),s=E(n*e);if(E(i*e)!==H)throw new Error("invZ was invalid");return new ft(a,s)}fromRistrettoBytes(){Na()}toRistrettoBytes(){Na()}fromRistrettoHash(){Na()}};z.BASE=new z(ot.Gx,ot.Gy,H,E(ot.Gx*ot.Gy));z.ZERO=new z(wt,H,H,wt);function yf(t){if(!(t instanceof z))throw new TypeError("ExtendedPoint expected")}function Ra(t){if(!(t instanceof Lt))throw new TypeError("RistrettoPoint expected")}function Na(){throw new Error("Legacy method: switch to RistrettoPoint")}var Lt=class{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=ot,n=E(Xr*e*e),i=E((n+H)*td),a=BigInt(-1),s=E((a-r*n)*E(n+r)),{isValid:o,value:c}=Ua(i,s),f=E(c*e);Ue(f)||(f=E(-f)),o||(c=f),o||(a=n);let u=E(a*(n-H)*ed-s),h=c*c,l=E((c+c)*s),d=E(u*Jp),p=E(H-h),g=E(H+h);return new z(E(l*g),E(p*d),E(d*g),E(l*p))}static hashToCurve(e){e=Ke(e,64);let r=Da(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),i=Da(e.slice(32,64)),a=this.calcElligatorRistrettoMap(i);return new Lt(n.add(a))}static fromHex(e){e=Ke(e,32);let{a:r,d:n}=ot,i="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",a=Da(e);if(!sd(Jr(a),e)||Ue(a))throw new Error(i);let s=E(a*a),o=E(H+r*s),c=E(H-r*s),f=E(o*o),u=E(c*c),h=E(r*n*f-u),{isValid:l,value:d}=mf(E(h*u)),p=E(d*c),g=E(d*p*h),x=E((a+a)*p);Ue(x)&&(x=E(-x));let b=E(o*g),B=E(x*b);if(!l||Ue(B)||b===wt)throw new Error(i);return new Lt(new z(x,b,H,B))}toRawBytes(){let{x:e,y:r,z:n,t:i}=this.ep,a=E(E(n+r)*E(n-r)),s=E(e*r),o=E(s*s),{value:c}=mf(E(a*o)),f=E(c*a),u=E(c*s),h=E(f*u*i),l;if(Ue(i*h)){let p=E(r*Xr),g=E(e*Xr);e=p,r=g,l=E(f*jp)}else l=u;Ue(e*h)&&(r=E(-r));let d=E((n-r)*l);return Ue(d)&&(d=E(-d)),Jr(d)}toHex(){return jr(this.toRawBytes())}toString(){return this.toHex()}equals(e){Ra(e);let r=this.ep,n=e.ep,i=E(r.x*n.y)===E(r.y*n.x),a=E(r.y*n.y)===E(r.x*n.x);return i||a}add(e){return Ra(e),new Lt(this.ep.add(e.ep))}subtract(e){return Ra(e),new Lt(this.ep.subtract(e.ep))}multiply(e){return new Lt(this.ep.multiply(e))}multiplyUnsafe(e){return new Lt(this.ep.multiplyUnsafe(e))}};Lt.BASE=new Lt(z.BASE);Lt.ZERO=new Lt(z.ZERO);var ka=new WeakMap,ft=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,ka.delete(this)}static fromHex(e,r=!0){let{d:n,P:i}=ot;e=Ke(e,32);let a=e.slice();a[31]=e[31]&-129;let s=tn(a);if(r&&s>=i)throw new Error("Expected 0 < hex < P");if(!r&&s>=xf)throw new Error("Expected 0 < hex < 2**256");let o=E(s*s),c=E(o-H),f=E(n*o+H),{isValid:u,value:h}=Ua(c,f);if(!u)throw new Error("Point.fromHex: invalid y coordinate");let l=(h&H)===H;return(e[31]&128)!==0!==l&&(h=E(-h)),new ft(h,s)}static async fromPrivateKey(e){return(await Qn(e)).point}toRawBytes(){let e=Jr(this.y);return e[31]|=this.x&H?128:0,e}toHex(){return jr(this.toRawBytes())}toX25519(){let{y:e}=this,r=E((H+e)*Yn(H-e));return Jr(r)}isTorsionFree(){return z.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ft(E(-this.x),this.y)}add(e){return z.fromAffine(this).add(z.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return z.fromAffine(this).multiply(e,this).toAffine()}};ft.BASE=new ft(ot.Gx,ot.Gy);ft.ZERO=new ft(wt,H);var tr=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Ke(e,64),n=ft.fromHex(r.slice(0,32),!1),i=tn(r.slice(32,64));return new tr(n,i)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof ft))throw new Error("Expected Point instance");return Zn(r,ot.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Jr(this.s),32),e}toHex(){return jr(this.toRawBytes())}};function gf(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}var rd=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function jr(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=rd[t[r]];return e}function Pa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function vf(t){let r=t.toString(16).padStart(64,"0");return Pa(r)}function Jr(t){return vf(t).reverse()}function Ue(t){return(E(t)&H)===H}function tn(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+jr(Uint8Array.from(t).reverse()))}var nd=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Da(t){return E(tn(t)&nd)}function E(t,e=ot.P){let r=t%e;return r>=wt?r:e+r}function Yn(t,e=ot.P){if(t===wt||e<=wt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=E(t,e),n=e,i=wt,a=H,s=H,o=wt;for(;r!==wt;){let f=n/r,u=n%r,h=i-s*f,l=a-o*f;n=r,r=u,i=s,a=o,s=h,o=l}if(n!==H)throw new Error("invert: does not exist");return E(i,e)}function id(t,e=ot.P){let r=new Array(t.length),n=t.reduce((a,s,o)=>s===wt?a:(r[o]=a,E(a*s,e)),H),i=Yn(n,e);return t.reduceRight((a,s,o)=>s===wt?a:(r[o]=E(a*r[o],e),E(a*s,e)),i),r}function ce(t,e){let{P:r}=ot,n=t;for(;e-- >wt;)n*=n,n%=r;return n}function ad(t){let{P:e}=ot,r=BigInt(5),n=BigInt(10),i=BigInt(20),a=BigInt(40),s=BigInt(80),c=t*t%e*t%e,f=ce(c,Sr)*c%e,u=ce(f,H)*t%e,h=ce(u,r)*u%e,l=ce(h,n)*h%e,d=ce(l,i)*l%e,p=ce(d,a)*d%e,g=ce(p,s)*p%e,x=ce(g,s)*p%e,b=ce(x,n)*h%e;return{pow_p_5_8:ce(b,Sr)*t%e,b2:c}}function Ua(t,e){let r=E(e*e*e),n=E(r*r*e),i=ad(t*n).pow_p_5_8,a=E(t*r*i),s=E(e*a*a),o=a,c=E(a*Xr),f=s===t,u=s===E(-t),h=s===E(-t*Xr);return f&&(a=o),(u||h)&&(a=c),Ue(a)&&(a=E(-a)),{isValid:f||u,value:a}}function mf(t){return Ua(H,t)}function $n(t){return E(tn(t),ot.l)}function sd(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ke(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):Pa(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Zn(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(wt<t)return t}else if(wt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function od(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function fd(t){if(t=typeof t=="bigint"||typeof t=="number"?vf(Zn(t,xf)):Ke(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function cd(t){let e=od(t.slice(0,32)),r=t.slice(32,64),n=$n(e),i=ft.BASE.multiply(n),a=i.toRawBytes();return{head:e,prefix:r,scalar:n,point:i,pointBytes:a}}var La;async function Qn(t){return cd(await Oe.sha512(fd(t)))}async function Ka(t){return(await Qn(t)).pointBytes}async function bf(t,e){t=Ke(t);let{prefix:r,scalar:n,pointBytes:i}=await Qn(e),a=$n(await Oe.sha512(r,t)),s=ft.BASE.multiply(a),o=$n(await Oe.sha512(s.toRawBytes(),i,t)),c=E(a+o*n,ot.l);return new tr(s,c).toRawBytes()}function ud(t,e,r){e=Ke(e),r instanceof ft||(r=ft.fromHex(r,!1));let{r:n,s:i}=t instanceof tr?t.assertValidity():tr.fromHex(t),a=z.BASE.multiplyUnsafe(i);return{r:n,s:i,SB:a,pub:r,msg:e}}function hd(t,e,r,n){let i=$n(n),a=z.fromAffine(t).multiplyUnsafe(i);return z.fromAffine(e).add(a).subtract(r).multiplyUnsafe(ot.h).equals(z.ZERO)}async function wf(t,e,r){let{r:n,SB:i,msg:a,pub:s}=ud(t,e,r),o=await Oe.sha512(n.toRawBytes(),s.toRawBytes(),a);return hd(s,n,i,o)}ft.BASE._setWindowSize(8);var Pe={node:Xp,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Oe={bytesToHex:jr,hexToBytes:Pa,concatBytes:gf,getExtendedPublicKey:Qn,mod:E,invert:Yn,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Ke(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return E(tn(t),ot.l-H)+H},randomBytes:(t=32)=>{if(Pe.web)return Pe.web.getRandomValues(new Uint8Array(t));if(Pe.node){let{randomBytes:e}=Pe.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Oe.randomBytes(32),sha512:async(...t)=>{let e=gf(...t);if(Pe.web){let r=await Pe.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(Pe.node)return Uint8Array.from(Pe.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=ft.BASE){let r=e.equals(ft.BASE)?e:new ft(e.x,e.y);return r._setWindowSize(t),r.multiply(Sr),r},sha512Sync:void 0};Object.defineProperties(Oe,{sha512Sync:{configurable:!1,get(){return La},set(t){La||(La=t)}}});var Br=32,Se=64,Xn=32;async function Ef(){let t=Oe.randomPrivateKey(),e=await Ka(t);return{privateKey:Cf(t,e),publicKey:e}}async function Sf(t){if(t.length!==Xn)throw new TypeError('"seed" must be 32 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, or Uint8Array.');let e=t,r=await Ka(e);return{privateKey:Cf(e,r),publicKey:r}}async function Bf(t,e){let r=t.subarray(0,Xn);return await bf(e,r)}async function Af(t,e,r){return await wf(e,r,t)}function Cf(t,e){let r=new Uint8Array(Se);for(let n=0;n<Xn;n++)r[n]=t[n],r[Xn+n]=e[n];return r}var en=class{constructor(e){this._key=Ar(e,Br)}async verify(e,r){return await Af(this._key,r,e)}marshal(){return this._key}get bytes(){return te.encode({Type:it.Ed25519,Data:this.marshal()}).subarray()}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}},er=class{constructor(e,r){this._key=Ar(e,Se),this._publicKey=Ar(r,Br)}async sign(e){return await Bf(this._key,e)}get public(){return new en(this._publicKey)}marshal(){return this._key}get bytes(){return ee.encode({Type:it.Ed25519,Data:this.marshal()}).subarray()}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}async id(){let e=await Ce.digest(this.public.bytes);return dt.encode(e.bytes).substring(1)}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await wr(this.bytes,e);throw(0,Oa.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function dd(t){if(t.length>Se){t=Ar(t,Se+Br);let n=t.subarray(0,Se),i=t.subarray(Se,t.length);return new er(n,i)}t=Ar(t,Se);let e=t.subarray(0,Se),r=t.subarray(Br);return new er(e,r)}function yd(t){return t=Ar(t,Br),new en(t)}async function gd(){let{privateKey:t,publicKey:e}=await Ef();return new er(t,e)}async function Tf(t){let{privateKey:e,publicKey:r}=await Sf(t);return new er(e,r)}function Ar(t,e){if(t=Uint8Array.from(t??[]),t.length!==e)throw(0,Oa.default)(new Error(`Key must be a Uint8Array of length ${e}, got ${t.length}`),"ERR_INVALID_KEY_TYPE");return t}var Va={};St(Va,{Secp256k1PrivateKey:()=>nn,Secp256k1PublicKey:()=>rn,generateKeyPair:()=>bd,unmarshalSecp256k1PrivateKey:()=>xd,unmarshalSecp256k1PublicKey:()=>vd});var kf=M(Rt(),1);var Cr=M(Rt(),1);function If(){return Yt.randomPrivateKey()}async function _f(t,e){let{digest:r}=await Bt.digest(e);try{return await j0(r,t)}catch(n){throw(0,Cr.default)(n,"ERR_INVALID_INPUT")}}async function Rf(t,e,r){try{let{digest:n}=await Bt.digest(r);return tf(e,n,t)}catch(n){throw(0,Cr.default)(n,"ERR_INVALID_INPUT")}}function Nf(t){return Q.fromHex(t).toRawBytes(!0)}function Df(t){try{Ba(t,!0)}catch(e){throw(0,Cr.default)(e,"ERR_INVALID_PRIVATE_KEY")}}function Fa(t){try{Q.fromHex(t)}catch(e){throw(0,Cr.default)(e,"ERR_INVALID_PUBLIC_KEY")}}function Lf(t){try{return Ba(t,!0)}catch(e){throw(0,Cr.default)(e,"ERR_INVALID_PRIVATE_KEY")}}var rn=class{constructor(e){Fa(e),this._key=e}async verify(e,r){return await Rf(this._key,r,e)}marshal(){return Nf(this._key)}get bytes(){return te.encode({Type:it.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}},nn=class{constructor(e,r){this._key=e,this._publicKey=r??Lf(e),Df(this._key),Fa(this._publicKey)}async sign(e){return await _f(this._key,e)}get public(){return new rn(this._publicKey)}marshal(){return this._key}get bytes(){return ee.encode({Type:it.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return yt(this.bytes,e.bytes)}async hash(){let{bytes:e}=await Bt.digest(this.bytes);return e}async id(){let e=await this.public.hash();return j(e,"base58btc")}async export(e,r="libp2p-key"){if(r==="libp2p-key")return await wr(this.bytes,e);throw(0,kf.default)(new Error(`export format '${r}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function xd(t){return new nn(t)}function vd(t){return new rn(t)}async function bd(){let t=await If();return new nn(t)}var rr={rsa:_a,ed25519:Ma,secp256k1:Va};function Uf(t){let e=Object.keys(rr).join(" / ");return(0,Pf.default)(new Error(`invalid or unsupported key type ${t}. Must be ${e}`),"ERR_UNSUPPORTED_KEY_TYPE")}function Kf(t){let e=te.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case it.RSA:return rr.rsa.unmarshalRsaPublicKey(r);case it.Ed25519:return rr.ed25519.unmarshalEd25519PublicKey(r);case it.Secp256k1:return rr.secp256k1.unmarshalSecp256k1PublicKey(r);default:throw Uf(e.Type??"RSA")}}async function Of(t){let e=ee.decode(t),r=e.Data??new Uint8Array;switch(e.Type){case it.RSA:return await rr.rsa.unmarshalRsaPrivateKey(r);case it.Ed25519:return rr.ed25519.unmarshalEd25519PrivateKey(r);case it.Secp256k1:return rr.secp256k1.unmarshalSecp256k1PrivateKey(r);default:throw Uf(e.Type??"RSA")}}var Mf={ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"};var an;(function(t){let e;t.codec=()=>(e==null&&(e=me((r,n,i={})=>{i.lengthDelimited!==!1&&n.fork(),(i.writeDefaults===!0||r.publicKey!=null&&r.publicKey.byteLength>0)&&(n.uint32(10),n.bytes(r.publicKey)),(i.writeDefaults===!0||r.payloadType!=null&&r.payloadType.byteLength>0)&&(n.uint32(18),n.bytes(r.payloadType)),(i.writeDefaults===!0||r.payload!=null&&r.payload.byteLength>0)&&(n.uint32(26),n.bytes(r.payload)),(i.writeDefaults===!0||r.signature!=null&&r.signature.byteLength>0)&&(n.uint32(42),n.bytes(r.signature)),i.lengthDelimited!==!1&&n.ldelim()},(r,n)=>{let i={publicKey:new Uint8Array(0),payloadType:new Uint8Array(0),payload:new Uint8Array(0),signature:new Uint8Array(0)},a=n==null?r.len:r.pos+n;for(;r.pos<a;){let s=r.uint32();switch(s>>>3){case 1:i.publicKey=r.bytes();break;case 2:i.payloadType=r.bytes();break;case 3:i.payload=r.bytes();break;case 5:i.signature=r.bytes();break;default:r.skipType(s&7);break}}return i})),e),t.encode=r=>ge(r,t.codec()),t.decode=r=>ye(r,t.codec())})(an||(an={}));var Ed=M(Rt(),1);var Ff=Symbol.for("@libp2p/peer-id");var Sd=Symbol.for("nodejs.util.inspect.custom"),Vf=Object.values(Te).map(t=>t.decoder).reduce((t,e)=>t.or(e),Te.identity.decoder),qf=114,qa=36,za=37,sn=class{constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}get[Ff](){return!0}toString(){return this.string==null&&(this.string=dt.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return J.createV1(qf,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return yt(this.multihash.bytes,e);if(typeof e=="string")return Bd(e).equals(this);if(e?.multihash?.bytes!=null)return yt(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[Sd](){return`PeerId(${this.toString()})`}},Tr=class extends sn{constructor(e){super({...e,type:"RSA"}),this.type="RSA",this.publicKey=e.publicKey}},Ir=class extends sn{constructor(e){super({...e,type:"Ed25519"}),this.type="Ed25519",this.publicKey=e.multihash.digest}},_r=class extends sn{constructor(e){super({...e,type:"secp256k1"}),this.type="secp256k1",this.publicKey=e.multihash.digest}};function Bd(t,e){if(e=e??Vf,t.charAt(0)==="1"||t.charAt(0)==="Q"){let r=Fe(dt.decode(`z${t}`));return t.startsWith("12D")?new Ir({multihash:r}):t.startsWith("16U")?new _r({multihash:r}):new Tr({multihash:r})}return Ha(Vf.decode(t))}function Ha(t){try{let e=Fe(t);if(e.code===Ce.code){if(e.digest.length===qa)return new Ir({multihash:e});if(e.digest.length===za)return new _r({multihash:e})}if(e.code===Bt.code)return new Tr({multihash:e})}catch{return Ad(J.decode(t))}throw new Error("Supplied PeerID CID is invalid")}function Ad(t){if(t==null||t.multihash==null||t.version==null||t.version===1&&t.code!==qf)throw new Error("Supplied PeerID CID is invalid");let e=t.multihash;if(e.code===Bt.code)return new Tr({multihash:t.multihash});if(e.code===Ce.code){if(e.digest.length===qa)return new Ir({multihash:t.multihash});if(e.digest.length===za)return new _r({multihash:t.multihash})}throw new Error("Supplied PeerID CID is invalid")}async function zf(t,e){return t.length===qa?new Ir({multihash:Xt(Ce.code,t),privateKey:e}):t.length===za?new _r({multihash:Xt(Ce.code,t),privateKey:e}):new Tr({multihash:await Bt.digest(t),publicKey:t,privateKey:e})}var Gf=Symbol.for("@achingbrain/uint8arraylist");function Hf(t,e){if(e==null||e<0)throw new RangeError("index is out of bounds");let r=0;for(let n of t){let i=r+n.byteLength;if(e<i)return{buf:n,index:e-r};r=i}throw new RangeError("index is out of bounds")}function Jn(t){return Boolean(t?.[Gf])}var Me=class{constructor(...e){Object.defineProperty(this,Gf,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let r=0;for(let n of e)if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.push(n);else if(Jn(n))r+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}prepend(...e){this.prependAll(e)}prependAll(e){let r=0;for(let n of e.reverse())if(n instanceof Uint8Array)r+=n.byteLength,this.bufs.unshift(n);else if(Jn(n))r+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=r}get(e){let r=Hf(this.bufs,e);return r.buf[r.index]}set(e,r){let n=Hf(this.bufs,e);n.buf[n.index]=r}write(e,r=0){if(e instanceof Uint8Array)for(let n=0;n<e.length;n++)this.set(r+n,e[n]);else if(Jn(e))for(let n=0;n<e.length;n++)this.set(r+n,e.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(e>=this.bufs[0].byteLength)e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}}}slice(e,r){let{bufs:n,length:i}=this._subList(e,r);return gt(n,i)}subarray(e,r){let{bufs:n,length:i}=this._subList(e,r);return n.length===1?n[0]:gt(n,i)}sublist(e,r){let{bufs:n,length:i}=this._subList(e,r),a=new Me;return a.length=i,a.bufs=n,a}_subList(e,r){if(e=e??0,r=r??this.length,e<0&&(e=this.length+e),r<0&&(r=this.length+r),e<0||r>this.length)throw new RangeError("index is out of bounds");if(e===r)return{bufs:[],length:0};if(e===0&&r===this.length)return{bufs:[...this.bufs],length:this.length};let n=[],i=0;for(let a=0;a<this.bufs.length;a++){let s=this.bufs[a],o=i,c=o+s.byteLength;if(i=c,e>=c)continue;let f=e>=o&&e<c,u=r>o&&r<=c;if(f&&u){if(e===o&&r===c){n.push(s);break}let h=e-o;n.push(s.subarray(h,h+(r-e)));break}if(f){if(e===0){n.push(s);continue}n.push(s.subarray(e-o));continue}if(u){if(r===c){n.push(s);break}n.push(s.subarray(0,r-o));break}n.push(s)}return{bufs:n,length:r-e}}indexOf(e,r=0){if(!Jn(e)&&!(e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let n=e instanceof Uint8Array?e:e.subarray();if(r=Number(r??0),isNaN(r)&&(r=0),r<0&&(r=this.length+r),r<0&&(r=0),e.length===0)return r>this.length?this.length:r;let i=n.byteLength;if(i===0)throw new TypeError("search must be at least 1 byte long");let a=256,s=new Int32Array(a);for(let h=0;h<a;h++)s[h]=-1;for(let h=0;h<i;h++)s[n[h]]=h;let o=s,c=this.byteLength-n.byteLength,f=n.byteLength-1,u;for(let h=r;h<=c;h+=u){u=0;for(let l=f;l>=0;l--){let d=this.get(h+l);if(n[l]!==d){u=Math.max(1,l-o[d]);break}}if(u===0)return h}return-1}getInt8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt8(0)}setInt8(e,r){let n=de(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,r),this.write(n,e)}getInt16(e,r){let n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,r)}setInt16(e,r,n){let i=pe(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt16(0,r,n),this.write(i,e)}getInt32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,r)}setInt32(e,r,n){let i=pe(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setInt32(0,r,n),this.write(i,e)}getBigInt64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,r)}setBigInt64(e,r,n){let i=pe(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigInt64(0,r,n),this.write(i,e)}getUint8(e){let r=this.subarray(e,e+1);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint8(0)}setUint8(e,r){let n=de(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,r),this.write(n,e)}getUint16(e,r){let n=this.subarray(e,e+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,r)}setUint16(e,r,n){let i=pe(2);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint16(0,r,n),this.write(i,e)}getUint32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,r)}setUint32(e,r,n){let i=pe(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,r,n),this.write(i,e)}getBigUint64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,r)}setBigUint64(e,r,n){let i=pe(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setBigUint64(0,r,n),this.write(i,e)}getFloat32(e,r){let n=this.subarray(e,e+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,r)}setFloat32(e,r,n){let i=pe(4);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat32(0,r,n),this.write(i,e)}getFloat64(e,r){let n=this.subarray(e,e+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,r)}setFloat64(e,r,n){let i=pe(8);new DataView(i.buffer,i.byteOffset,i.byteLength).setFloat64(0,r,n),this.write(i,e)}equals(e){if(e==null||!(e instanceof Me)||e.bufs.length!==this.bufs.length)return!1;for(let r=0;r<this.bufs.length;r++)if(!yt(this.bufs[r],e.bufs[r]))return!1;return!0}static fromUint8Arrays(e,r){let n=new Me;return n.bufs=e,r==null&&(r=e.reduce((i,a)=>i+a.byteLength,0)),n.length=r,n}};function jn(t){return t instanceof Uint8Array?{get(e){return t[e]},set(e,r){t[e]=r}}:{get(e){return t.get(e)},set(e,r){t.set(e,r)}}}var Wf=4294967296,Kt=class{constructor(e=0,r=0){this.hi=e,this.lo=r}toBigInt(e){if(e===!0)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let r=~this.lo+1>>>0,n=~this.hi>>>0;return r===0&&(n=n+1>>>0),-(BigInt(r)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toNumber(e){return Number(this.toBigInt(e))}zzDecode(){let e=-(this.lo&1),r=((this.lo>>>1|this.hi<<31)^e)>>>0,n=(this.hi>>>1^e)>>>0;return new Kt(n,r)}zzEncode(){let e=this.hi>>31,r=((this.hi<<1|this.lo>>>31)^e)>>>0,n=(this.lo<<1^e)>>>0;return new Kt(r,n)}toBytes(e,r=0){let n=jn(e);for(;this.hi>0;)n.set(r++,this.lo&127|128),this.lo=(this.lo>>>7|this.hi<<25)>>>0,this.hi>>>=7;for(;this.lo>127;)n.set(r++,this.lo&127|128),this.lo=this.lo>>>7;n.set(r++,this.lo)}static fromBigInt(e){if(e===0n)return new Kt;let r=e<0;r&&(e=-e);let n=Number(e>>32n)|0,i=Number(e-(BigInt(n)<<32n))|0;return r&&(n=~n>>>0,i=~i>>>0,++i>Wf&&(i=0,++n>Wf&&(n=0))),new Kt(n,i)}static fromNumber(e){if(e===0)return new Kt;let r=e<0;r&&(e=-e);let n=e>>>0,i=(e-n)/4294967296>>>0;return r&&(i=~i>>>0,n=~n>>>0,++n>4294967295&&(n=0,++i>4294967295&&(i=0))),new Kt(i,n)}static fromBytes(e,r=0){let n=jn(e),i=new Kt,a=0;if(e.length-r>4){for(;a<4;++a)if(i.lo=(i.lo|(n.get(r)&127)<<a*7)>>>0,n.get(r++)<128)return i;if(i.lo=(i.lo|(n.get(r)&127)<<28)>>>0,i.hi=(i.hi|(n.get(r)&127)>>4)>>>0,n.get(r++)<128)return i;a=0}else for(;a<4;++a){if(r>=e.length)throw RangeError(`index out of range: ${r} > ${e.length}`);if(i.lo=(i.lo|(n.get(r)&127)<<a*7)>>>0,n.get(r++)<128)return i}if(e.length-r>4){for(;a<5;++a)if(i.hi=(i.hi|(n.get(r)&127)<<a*7+3)>>>0,n.get(r++)<128)return i}else if(r<e.byteLength)for(;a<5;++a){if(r>=e.length)throw RangeError(`index out of range: ${r} > ${e.length}`);if(i.hi=(i.hi|(n.get(r)&127)<<a*7+3)>>>0,n.get(r++)<128)return i}throw RangeError("invalid varint encoding")}};var Cd=Math.pow(2,7),Td=Math.pow(2,14),Id=Math.pow(2,21),_d=Math.pow(2,28),Rd=Math.pow(2,35),Nd=Math.pow(2,42),Dd=Math.pow(2,49),Ld=Math.pow(2,56),kd=Math.pow(2,63),on={encodingLength(t){return t<Cd?1:t<Td?2:t<Id?3:t<_d?4:t<Rd?5:t<Nd?6:t<Dd?7:t<Ld?8:t<kd?9:10},encode(t,e,r=0){if(Number.MAX_SAFE_INTEGER!=null&&t>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return e==null&&(e=de(on.encodingLength(t))),Kt.fromNumber(t).toBytes(e,r),e},decode(t,e=0){return Kt.fromBytes(t,e).toNumber(!0)}};var Pd,Qt=class{constructor(e){let{peerId:r,payloadType:n,payload:i,signature:a}=e;this.peerId=r,this.payloadType=n,this.payload=i,this.signature=a}marshal(){if(this.peerId.publicKey==null)throw new Error("Missing public key");return this.marshaled==null&&(this.marshaled=an.encode({publicKey:this.peerId.publicKey,payloadType:this.payloadType,payload:this.payload.subarray(),signature:this.signature})),this.marshaled}equals(e){return yt(this.marshal(),e.marshal())}async validate(e){let r=Zf(e,this.payloadType,this.payload);if(this.peerId.publicKey==null)throw new Error("Missing public key");return await Kf(this.peerId.publicKey).verify(r.subarray(),this.signature)}};Pd=Qt;Qt.createFromProtobuf=async t=>{let e=an.decode(t),r=await zf(e.publicKey);return new Qt({peerId:r,payloadType:e.payloadType,payload:e.payload,signature:e.signature})};Qt.seal=async(t,e)=>{if(e.privateKey==null)throw new Error("Missing private key");let r=t.domain,n=t.codec,i=t.marshal(),a=Zf(r,n,i),o=await(await Of(e.privateKey)).sign(a.subarray());return new Qt({peerId:e,payloadType:n,payload:i,signature:o})};Qt.openAndCertify=async(t,e)=>{let r=await Qt.createFromProtobuf(t);if(!await r.validate(e))throw(0,$f.default)(new Error("envelope signature is not valid for the given domain"),Mf.ERR_SIGNATURE_NOT_VALID);return r};var Zf=(t,e,r)=>{let n=At(t),i=on.encode(n.byteLength),a=on.encode(e.length),s=on.encode(r.length);return new Me(i,n,a,e,s,r)};var ti=class{index=0;input="";new(e){return this.index=0,this.input=e,this}readAtomically(e){let r=this.index,n=e();return n===void 0&&(this.index=r),n}parseWith(e){let r=e();if(this.index===this.input.length)return r}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(e){return this.readAtomically(()=>{let r=this.readChar();if(r===e)return r})}readSeparator(e,r,n){return this.readAtomically(()=>{if(!(r>0&&this.readGivenChar(e)===void 0))return n()})}readNumber(e,r,n,i){return this.readAtomically(()=>{let a=0,s=0,o=this.peekChar();if(o===void 0)return;let c=o==="0",f=2**(8*i)-1;for(;;){let u=this.readAtomically(()=>{let h=this.readChar();if(h===void 0)return;let l=Number.parseInt(h,e);if(!Number.isNaN(l))return l});if(u===void 0)break;if(a*=e,a+=u,a>f||(s+=1,r!==void 0&&s>r))return}if(s!==0)return!n&&c&&s>1?void 0:a})}readIPv4Addr(){return this.readAtomically(()=>{let e=new Uint8Array(4);for(let r=0;r<e.length;r++){let n=this.readSeparator(".",r,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;e[r]=n}return e})}readIPv6Addr(){let e=r=>{for(let n=0;n<r.length/2;n++){let i=n*2;if(n<r.length-3){let s=this.readSeparator(":",n,()=>this.readIPv4Addr());if(s!==void 0)return r[i]=s[0],r[i+1]=s[1],r[i+2]=s[2],r[i+3]=s[3],[i+4,!0]}let a=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(a===void 0)return[i,!1];r[i]=a>>8,r[i+1]=a&255}return[r.length,!1]};return this.readAtomically(()=>{let r=new Uint8Array(16),[n,i]=e(r);if(n===16)return r;if(i||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let a=new Uint8Array(14),s=16-(n+2),[o]=e(a.subarray(0,s));return r.set(a.subarray(0,o),16-o),r})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var Yf=45,Ud=15,Rr=new ti;function Qf(t){if(!(t.length>Ud))return Rr.new(t).parseWith(()=>Rr.readIPv4Addr())}function Xf(t){if(!(t.length>Yf))return Rr.new(t).parseWith(()=>Rr.readIPv6Addr())}function Jf(t){if(!(t.length>Yf))return Rr.new(t).parseWith(()=>Rr.readIPAddr())}function jf(t){return Boolean(Qf(t))}function tc(t){return Boolean(Xf(t))}function ei(t){return Boolean(Jf(t))}var ec=jf,Kd=tc,Ga=function(t){let e=0;if(t=t.toString().trim(),ec(t)){let r=new Uint8Array(e+4);return t.split(/\./g).forEach(n=>{r[e++]=parseInt(n,10)&255}),r}if(Kd(t)){let r=t.split(":",8),n;for(n=0;n<r.length;n++){let a=ec(r[n]),s;a&&(s=Ga(r[n]),r[n]=j(s.slice(0,2),"base16")),s!=null&&++n<8&&r.splice(n,0,j(s.slice(2,4),"base16"))}if(r[0]==="")for(;r.length<8;)r.unshift("0");else if(r[r.length-1]==="")for(;r.length<8;)r.push("0");else if(r.length<8){for(n=0;n<r.length&&r[n]!=="";n++);let a=[n,1];for(n=9-r.length;n>0;n--)a.push("0");r.splice.apply(r,a)}let i=new Uint8Array(e+16);for(n=0;n<r.length;n++){let a=parseInt(r[n],16);i[e++]=a>>8&255,i[e++]=a&255}return i}throw new Error("invalid ip address")},rc=function(t,e=0,r){e=~~e,r=r??t.length-e;let n=new DataView(t.buffer);if(r===4){let i=[];for(let a=0;a<r;a++)i.push(t[e+a]);return i.join(".")}if(r===16){let i=[];for(let a=0;a<r;a+=2)i.push(n.getUint16(e+a).toString(16));return i.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var fn={},Wa={},Md=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,-1,"memory"]];Md.forEach(t=>{let e=Fd(...t);Wa[e.code]=e,fn[e.name]=e});function Fd(t,e,r,n,i){return{code:t,size:e,name:r,resolvable:Boolean(n),path:Boolean(i)}}function pt(t){if(typeof t=="number"){if(Wa[t]!=null)return Wa[t];throw new Error(`no protocol with code: ${t}`)}else if(typeof t=="string"){if(fn[t]!=null)return fn[t];throw new Error(`no protocol with name: ${t}`)}throw new Error(`invalid protocol id type: ${typeof t}`)}var ue=M(ri(),1);function dc(t,e){switch(pt(t).code){case 4:case 41:return ey(e);case 6:case 273:case 33:case 132:return gc(e).toString();case 53:case 54:case 55:case 56:case 400:case 777:return ny(e);case 421:return oy(e);case 444:return pc(e);case 445:return pc(e);case 466:return sy(e);default:return j(e,"base16")}}function yc(t,e){switch(pt(t).code){case 4:return lc(e);case 41:return lc(e);case 6:case 273:case 33:case 132:return Qa(parseInt(e,10));case 53:case 54:case 55:case 56:case 400:case 777:return ry(e);case 421:return iy(e);case 444:return fy(e);case 445:return cy(e);case 466:return ay(e);default:return At(e,"base16")}}var Ya=Object.values(Te).map(t=>t.decoder),ty=function(){let t=Ya[0].or(Ya[1]);return Ya.slice(2).forEach(e=>t=t.or(e)),t}();function lc(t){if(!ei(t))throw new Error("invalid ip address");return Ga(t)}function ey(t){let e=rc(t,0,t.length);if(e==null)throw new Error("ipBuff is required");if(!ei(e))throw new Error("invalid ip address");return e}function Qa(t){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,t),new Uint8Array(e)}function gc(t){return new DataView(t.buffer).getUint16(t.byteOffset)}function ry(t){let e=At(t),r=Uint8Array.from(ue.default.encode(e.length));return gt([r,e],r.length+e.length)}function ny(t){let e=ue.default.decode(t);if(t=t.slice(ue.default.decode.bytes),t.length!==e)throw new Error("inconsistent lengths");return j(t)}function iy(t){let e;t[0]==="Q"||t[0]==="1"?e=Fe(dt.decode(`z${t}`)).bytes:e=J.parse(t).multihash.bytes;let r=Uint8Array.from(ue.default.encode(e.length));return gt([r,e],r.length+e.length)}function ay(t){let e=ty.decode(t),r=Uint8Array.from(ue.default.encode(e.length));return gt([r,e],r.length+e.length)}function sy(t){let e=ue.default.decode(t),r=t.slice(ue.default.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return"u"+j(r,"base64url")}function oy(t){let e=ue.default.decode(t),r=t.slice(ue.default.decode.bytes);if(r.length!==e)throw new Error("inconsistent lengths");return j(r,"base58btc")}function fy(t){let e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==16)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion address.`);let r=le.decode("b"+e[0]),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Qa(n);return gt([r,i],r.length+i.length)}function cy(t){let e=t.split(":");if(e.length!==2)throw new Error(`failed to parse onion addr: ["'${e.join('", "')}'"]' does not contain a port number`);if(e[0].length!==56)throw new Error(`failed to parse onion addr: ${e[0]} not a Tor onion3 address.`);let r=le.decode(`b${e[0]}`),n=parseInt(e[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let i=Qa(n);return gt([r,i],r.length+i.length)}function pc(t){let e=t.slice(0,t.length-2),r=t.slice(t.length-2),n=j(e,"base32"),i=gc(r);return`${n}:${i}`}var Nr=M(ri(),1);function uy(t){let e=[],r=t.split("/").slice(1);if(r.length===1&&r[0]==="")return[];for(let n=0;n<r.length;n++){let i=r[n],a=pt(i);if(a.size===0){e.push([i]);continue}if(n++,n>=r.length)throw xc("invalid address: "+t);if(a.path===!0){e.push([i,es(r.slice(n).join("/"))]);break}e.push([i,r[n]])}return e}function hy(t){let e=[];return t.map(r=>{let n=ai(r);return e.push(n.name),r.length>1&&r[1]!=null&&e.push(r[1]),null}),es(e.join("/"))}function ly(t){return t.map(e=>{Array.isArray(e)||(e=[e]);let r=ai(e);return e.length>1?[r.code,yc(r.code,e[1])]:[r.code]})}function Xa(t){return t.map(e=>{let r=ai(e);return e[1]!=null?[r.code,dc(r.code,e[1])]:[r.code]})}function Ja(t){return ii(gt(t.map(e=>{let r=ai(e),n=Uint8Array.from(Nr.default.encode(r.code));return e.length>1&&e[1]!=null&&(n=gt([n,e[1]])),n})))}function ja(t,e){return t.size>0?t.size/8:t.size===0?0:Nr.default.decode(e)+(Nr.default.decode.bytes??0)}function ni(t){let e=[],r=0;for(;r<t.length;){let n=Nr.default.decode(t,r),i=Nr.default.decode.bytes??0,a=pt(n),s=ja(a,t.slice(r+i));if(s===0){e.push([n]),r+=i;continue}let o=t.slice(r+i,r+i+s);if(r+=s+i,r>t.length)throw xc("Invalid address Uint8Array: "+j(t,"base16"));e.push([n,o])}return e}function ts(t){let e=ni(t),r=Xa(e);return hy(r)}function py(t){t=es(t);let e=uy(t),r=ly(e);return Ja(r)}function mc(t){return py(t)}function ii(t){let e=dy(t);if(e!=null)throw e;return Uint8Array.from(t)}function dy(t){try{ni(t)}catch(e){return e}}function es(t){return"/"+t.trim().split("/").filter(e=>e).join("/")}function xc(t){return new Error("Error parsing address: "+t)}function ai(t){return pt(t[0])}var ns=M(ri(),1);var wc=M(Rt(),1);var Dr=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},rs=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},cn,un,hn,vc,gy=Symbol.for("nodejs.util.inspect.custom"),bc=[pt("dns").code,pt("dns4").code,pt("dns6").code,pt("dnsaddr").code],my=[pt("p2p").code,pt("ipfs").code],xy=new Map,Ec=Symbol.for("@multiformats/js-multiaddr/multiaddr");function vy(t){return Boolean(t?.[Ec])}var Be=class{constructor(e){if(cn.set(this,void 0),un.set(this,void 0),hn.set(this,void 0),this[vc]=!0,e==null&&(e=""),e instanceof Uint8Array)this.bytes=ii(e);else if(typeof e=="string"){if(e.length>0&&e.charAt(0)!=="/")throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=mc(e)}else if(vy(e))this.bytes=ii(e.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")}toString(){return Dr(this,cn,"f")==null&&rs(this,cn,ts(this.bytes),"f"),Dr(this,cn,"f")}toJSON(){return this.toString()}toOptions(){let e=this.protoCodes(),r=this.toString().split("/").slice(1),n,i;if(r.length>2)bc.includes(e[0])&&my.includes(e[1])?(n=pt("tcp").name,i=443):(n=pt(r[2]).name,i=parseInt(r[3]));else if(bc.includes(e[0]))n=pt("tcp").name,i=443;else throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e[0]===41||e[0]===55?6:4,host:r[1],transport:n,port:i}}protos(){return this.protoCodes().map(e=>Object.assign({},pt(e)))}protoCodes(){let e=[],r=this.bytes,n=0;for(;n<r.length;){let i=ns.default.decode(r,n),a=ns.default.decode.bytes??0,s=pt(i),o=ja(s,r.slice(n+a));n+=o+a,e.push(i)}return e}protoNames(){return this.protos().map(e=>e.name)}tuples(){return Dr(this,un,"f")==null&&rs(this,un,ni(this.bytes),"f"),Dr(this,un,"f")}stringTuples(){return Dr(this,hn,"f")==null&&rs(this,hn,Xa(this.tuples()),"f"),Dr(this,hn,"f")}encapsulate(e){return e=new Be(e),new Be(this.toString()+e.toString())}decapsulate(e){let r=e.toString(),n=this.toString(),i=n.lastIndexOf(r);if(i<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new Be(n.slice(0,i))}decapsulateCode(e){let r=this.tuples();for(let n=r.length-1;n>=0;n--)if(r[n][0]===e)return new Be(Ja(r.slice(0,n)));return this}getPeerId(){try{let r=this.stringTuples().filter(n=>n[0]===fn.ipfs.code).pop();if(r?.[1]!=null){let n=r[1];return n[0]==="Q"||n[0]==="1"?j(dt.decode(`z${n}`),"base58btc"):j(J.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){let e=null;try{e=this.stringTuples().filter(r=>pt(r[0]).path===!0)[0][1],e==null&&(e=null)}catch{e=null}return e}equals(e){return yt(this.bytes,e.bytes)}async resolve(e){let r=this.protos().find(a=>a.resolvable);if(r==null)return[this];let n=xy.get(r.name);if(n==null)throw(0,wc.default)(new Error(`no available resolver for ${r.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,e)).map(a=>new Be(a))}nodeAddress(){let e=this.toOptions();if(e.transport!=="tcp"&&e.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){let r=(e??this).protos();return!(r.length!==2||r[0].code!==4&&r[0].code!==41||r[1].code!==6&&r[1].code!==273)}[(cn=new WeakMap,un=new WeakMap,hn=new WeakMap,vc=Ec,gy)](){return`Multiaddr(${ts(this.bytes)})`}};function Sc(t){return new Be(t)}function Bc(t,e){let r=(n,i)=>n.toString().localeCompare(i.toString());return t.length!==e.length?!1:(e.sort(r),t.sort(r).every((n,i)=>e[i].equals(n)))}var ln;(function(t){let e;(function(n){let i;n.codec=()=>(i==null&&(i=me((a,s,o={})=>{o.lengthDelimited!==!1&&s.fork(),(o.writeDefaults===!0||a.multiaddr!=null&&a.multiaddr.byteLength>0)&&(s.uint32(10),s.bytes(a.multiaddr)),o.lengthDelimited!==!1&&s.ldelim()},(a,s)=>{let o={multiaddr:new Uint8Array(0)},c=s==null?a.len:a.pos+s;for(;a.pos<c;){let f=a.uint32();switch(f>>>3){case 1:o.multiaddr=a.bytes();break;default:a.skipType(f&7);break}}return o})),i),n.encode=a=>ge(a,n.codec()),n.decode=a=>ye(a,n.codec())})(e=t.AddressInfo||(t.AddressInfo={}));let r;t.codec=()=>(r==null&&(r=me((n,i,a={})=>{if(a.lengthDelimited!==!1&&i.fork(),(a.writeDefaults===!0||n.peerId!=null&&n.peerId.byteLength>0)&&(i.uint32(10),i.bytes(n.peerId)),(a.writeDefaults===!0||n.seq!==0n)&&(i.uint32(16),i.uint64(n.seq)),n.addresses!=null)for(let s of n.addresses)i.uint32(26),t.AddressInfo.codec().encode(s,i,{writeDefaults:!0});a.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let a={peerId:new Uint8Array(0),seq:0n,addresses:[]},s=i==null?n.len:n.pos+i;for(;n.pos<s;){let o=n.uint32();switch(o>>>3){case 1:a.peerId=n.bytes();break;case 2:a.seq=n.uint64();break;case 3:a.addresses.push(t.AddressInfo.codec().decode(n,n.uint32()));break;default:n.skipType(o&7);break}}return a})),r),t.encode=n=>ge(n,t.codec()),t.decode=n=>ye(n,t.codec())})(ln||(ln={}));var Ac="libp2p-peer-record",Cc=Uint8Array.from([3,1]);var qt=class{constructor(e){this.domain=qt.DOMAIN,this.codec=qt.CODEC;let{peerId:r,multiaddrs:n,seqNumber:i}=e;this.peerId=r,this.multiaddrs=n??[],this.seqNumber=i??BigInt(Date.now())}marshal(){return this.marshaled==null&&(this.marshaled=ln.encode({peerId:this.peerId.toBytes(),seq:BigInt(this.seqNumber),addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))})),this.marshaled}equals(e){return!(!(e instanceof qt)||!this.peerId.equals(e.peerId)||this.seqNumber!==e.seqNumber||!Bc(this.multiaddrs,e.multiaddrs))}};qt.createFromProtobuf=t=>{let e=ln.decode(t),r=Ha(e.peerId),n=(e.addresses??[]).map(a=>Sc(a.multiaddr)),i=e.seq;return new qt({peerId:r,multiaddrs:n,seqNumber:i})};qt.DOMAIN=Ac;qt.CODEC=Cc;return Dc(by);})();
/*! Bundled license information:

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)
*/
return Libp2PPeerRecord}));
